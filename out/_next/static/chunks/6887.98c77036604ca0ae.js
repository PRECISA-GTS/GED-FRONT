"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{86887:function(e,n,i){i.d(n,{Z:function(){return N}});var t=i(85893),l=i(11163),s=i.n(l),a=i(67294),o=i(21609),r=i(64165),c=i(40039),d=i(83830);i(7071);var u=i(61225),m=i(54225),p=i(73812),x=i(86378),h=i(72819),b=i(60664);let j=e=>{let{anchorEl:n,open:i,handleClose:l,handleClick:s,actionsData:r}=e,[c,d]=(0,a.useState)(!1),[u,j]=(0,a.useState)(null),v=e=>{if(e.status>=50){let n="".concat(b.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(m.Z,{type:"button",onClick:s,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(o.Z,{icon:"octicon:chevron-down-12"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,t.jsx)(p.Z,{id:"basic-menu",anchorEl:n,open:i,onClose:l,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==r?void 0:r.map(e=>(0,t.jsxs)(x.Z,{onClick(){l()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,t.jsxs)("span",{style:{padding:"0 7px"},children:[(0,t.jsx)("span",{children:e.identification})," -"]}):(0,t.jsx)(o.Z,{icon:e.icon}),"report"==e.type?(0,t.jsx)("a",{onClick:()=>v(e),children:e.name}):(0,t.jsx)("p",{onClick:e.modal?()=>{d(!0),j(e)}:e.action,children:e.name})]},e.id))}),u&&(0,t.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var v=i(41664),f=i.n(v),g=i(41088),y=i(82555);let k=e=>{let{btnSend:n,btnSave:i,btnNew:l,btnNext:r,routes:d,disabled:u,disabledSend:p,disabledSubmit:x,handleSubmit:h,handleSend:b,iconConclusion:j,titleConclusion:v}=e,k=s(),{isLoading:C}=(0,g.Z)(),{data:Z}=(0,y.O)(),{hasPermission:w}=(0,a.useContext)(c.V);return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l&&w(k.pathname,"inserir")&&(0,t.jsx)(f(),{href:"".concat(k.pathname,"/novo"),children:(0,t.jsxs)(m.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&Z&&w(k.pathname,"editar")&&(0,t.jsxs)(m.Z,{onClick:b,type:"button",variant:"contained",size:"medium",color:"primary",readOnly:!0,disabled:u||p,sx:{display:"flex",gap:2},children:[(0,t.jsx)(o.Z,{icon:null!=j?j:"carbon:send-filled"}),(0,t.jsx)("span",{className:"hidden sm:block",children:v})]}),i&&w(k.pathname,"editar")&&(0,t.jsxs)(m.Z,{onClick:h,type:"submit",variant:"contained",size:"medium",disabled:u||x,sx:{display:"flex",gap:2},children:[(0,t.jsx)(o.Z,{icon:"mdi:check-bold"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),r&&(0,t.jsxs)(m.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:C?"secondary":"primary",disabled:u||C,children:[(0,t.jsx)(o.Z,{icon:"grommet-icons:form-next-link"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},C=e=>{let{routes:n,currentUrl:i,btnCancel:l,btnDelete:s,btnStatus:r,btnClose:d,handleModalClose:u,handleBtnStatus:p,status:x,setId:h,router:b,type:j,onclickDelete:v}=e,{hasPermission:f}=(0,a.useContext)(c.V);return(0,t.jsxs)("div",{className:"flex gap-2",children:[l&&!d&&f(i,"ler")&&(0,t.jsx)(m.Z,{onClick(){h(null),"new"==j&&b.push(i)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,t.jsx)(o.Z,{icon:"grommet-icons:form-previous-link"})}),s&&f(i,"excluir")&&(0,t.jsxs)(m.Z,{type:"button",onClick:v,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(o.Z,{icon:"material-symbols:delete-outline"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),d&&(0,t.jsx)(m.Z,{type:"button",onClick:u,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,t.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var Z=i(66136);let w=e=>{let{btnCancel:n,btnSave:i,btnSend:l,btnNext:m,btnStatus:p,handleSubmit:x,manualUrl:h,btnNew:b,btnClose:v,handleModalClose:f,disabledSubmit:y,handleSend:w,componentSaveReport:N,iconConclusion:z,titleConclusion:S,disabledSend:_,handleBtnStatus:E,onclickDelete:D,btnDelete:F,btnPrint:I,disabledPrint:M,disabled:O,actions:P,actionsData:A,type:L,status:U,partialRoute:V,outsideID:B,setores:H}=e,T=s(),{routes:X}=(0,a.useContext)(c.V),{setId:Y}=(0,a.useContext)(d.X),[J,q]=(0,a.useState)(!1),[G,K]=(0,a.useState)(null),{isLoading:Q}=(0,g.Z)(),{settings:R}=(0,a.useContext)(Z.J6),W=(0,u.Z)("(min-width:640px)"),$=Boolean(G),ee=e=>{K(e.currentTarget)},en=()=>{K(null)},ei="new"===L&&V?(0,r.g_)((0,r.g_)(T.pathname)):"new"===L||V?(0,r.g_)(T.pathname):T.pathname;return o.Z,o.Z,o.Z,(0,a.useEffect)(()=>{let e=()=>{q(!1),window.scrollY>0?q(!0):q(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"sticky ".concat(B?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==R.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,t.jsx)(C,{routes:X,currentUrl:ei,btnCancel:n,btnDelete:F,btnStatus:p,btnClose:v,handleModalClose:f,status:U,handleBtnStatus:E,onclickDelete:D,setId:Y,router:T,type:L}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[P&&(0,t.jsx)(j,{anchorEl:G,open:$,handleClose:en,handleClick:ee,disabled:O,disabledPrint:M,btnPrint:I,actionsData:A,matches:W}),(0,t.jsx)(k,{btnSave:i,btnNew:b,btnSend:l,btnNext:m,manualUrl:h,routes:X,currentUrl:ei,handleSubmit:x,disabled:O,disabledSend:_,disabledSubmit:y,handleSend:w,iconConclusion:z,titleConclusion:S,setores:H})]})]})})})};var N=w},41088:function(e,n,i){var t=i(67294),l=i(83830);let s=()=>{let{isLoading:e,setIsLoading:n}=(0,t.useContext)(l.X),i=()=>{n(!0)},s=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:i,stopLoading:s}};n.Z=s}}]);