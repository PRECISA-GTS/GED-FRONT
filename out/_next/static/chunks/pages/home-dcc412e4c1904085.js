(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{18694:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return r(91201)}])},92024:function(e,t,r){"use strict";var a=r(85893),o=r(67294),i=r(44731),n=r(62097),l=r(41796),s=r(19550);let c=(0,o.forwardRef)((e,t)=>{let{sx:r,src:o,skin:c,color:d}=e,p=(0,n.Z)(),u=(0,s.Z)(),m=(e,t)=>"light"===e?{...u["".concat(t,"Light")]}:"light-static"===e?{color:u["".concat(t,"Light")].color,backgroundColor:(0,l.$n)(p.palette[t].main,.88)}:{...u["".concat(t,"Filled")]},x={primary:m(c,"primary"),secondary:m(c,"secondary"),success:m(c,"success"),error:m(c,"error"),warning:m(c,"warning"),info:m(c,"info")};return(0,a.jsx)(i.Z,{ref:t,...e,sx:!o&&c&&d?Object.assign(x[d],r):r})});c.defaultProps={skin:"filled",color:"primary"},t.Z=c},72819:function(e,t,r){"use strict";var a=r(85893),o=r(95398),i=r(19604),n=r(44642),l=r(76779),s=r(54225),c=r(1890),d=r(77745),p=r(67294),u=r(87536);r(29308);var m=r(21609);let x=e=>{let{title:t,description:r,setOpenModal:x,openModal:g,children:f,handleConclusion:h,handleCopyLink:b,handleLink:v,size:y,fullHeight:j=!1}=e,{control:C,register:k,handleSubmit:Z,trigger:w,reset:D,getValues:N,setValue:S,watch:L,clearErrors:P,formState:{errors:F}}=(0,u.cI)({mode:"onChange",defaultValues:{cnpj:""}}),E=e=>{Z(R)(e)},R=e=>{D(),x(!1),h(e)};return(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(c.Z,{open:g,onClose:()=>x(!1),fullWidth:!!y,maxWidth:y||null,children:(0,a.jsxs)("form",{className:"".concat(j&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,a.jsx)(d.Z,{id:"form-dialog-title",children:t}),r&&(0,a.jsx)(o.Z,{children:(0,a.jsx)(i.Z,{severity:"info",children:r})}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(n.Z,{sx:{py:2},children:p.cloneElement(f,{getValues:N,control:C,register:k,setValue:S,errors:F,clearErrors:P,watch:L,trigger:w,reset:D,onSubmit:R})})}),(0,a.jsxs)(l.Z,{className:"dialog-actions-dense m-2",children:[(0,a.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:()=>x(!1),children:"Fechar"}),h&&(0,a.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:E,children:"Confirmar"}),v&&(0,a.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:v,children:"Acessar"}),b&&(0,a.jsx)(s.Z,{variant:"contained",color:"primary",startIcon:(0,a.jsx)(m.Z,{icon:"uil:copy",fontSize:20}),onClick:b,children:"Copiar Link"})]})]})})})};t.Z=x},53934:function(e,t,r){"use strict";var a=r(85893),o=r(67294),i=r(17575),n=r(32046),l=r(67074),s=r(21609),c=r(29630);let d=e=>{let{text:t,position:r}=e,d=(0,l.ZP)(e=>{let{className:t,...r}=e;return(0,a.jsx)(i.Z,{...r,classes:{popper:t},arrow:!0})})(e=>{let{theme:t}=e;return{["& .".concat(n.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,a.jsx)(d,{title:(0,a.jsx)(o.Fragment,{children:(0,a.jsx)(c.Z,{color:"inherit",children:t})}),placement:r||"top",children:(0,a.jsx)("p",{children:(0,a.jsx)(s.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};t.Z=d},29308:function(e,t,r){"use strict";var a=r(85893),o=r(87536),i=r(79072),n=r(55343),l=r(67836),s=r(9041),c=r(80562),d=r(34175),p=r(62097),u=r(21609),m=r(53934);let x=e=>{let{xs:t,md:r,title:x,name:g,rows:f,value:h,type:b,mask:v,getAddressByCep:y,multiline:j,disabled:C,required:k,control:Z,errors:w,onChange:D,className:N,help:S,clearField:L,helpText:P,helpTextPosition:F,alertRequired:E,...R}=e,T=(0,p.Z)();return"telefone"==v&&console.log("value: ",h,v,(0,d.Bk)(h)),(0,a.jsx)(i.ZP,{item:!0,xs:t,md:r,sx:{my:1},className:N,children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,a.jsx)(o.Qr,{name:g,control:Z,rules:{required:k},render(e){let{field:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.Z,{...R,multiline:j,value:null==t?void 0:t.value,label:x,placeholder:x,rows:f,type:null!=b?b:"text",size:"small",disabled:C,"aria-describedby":"validation-schema-nome",error:w,onChange(e){let r=e.target.value;"cnpj"===v?r=(0,d.PK)(r):"cep"===v?y(r=(0,d.Tc)(r)):"cep2"===v?r=(0,d.Tc)(r):"telefone"===v?r=(0,d.Bk)(r):"estado"===v?r=(0,d.CL)(r):"cpf"===v?r=(0,d.VL)(r):"rg"===v?r=(0,d.cH)(r):"currency"===v?r=(0,d.Pu)(r):"fractioned3"===v&&(r=(0,d.Vo)(r)),t.onChange(r),D&&D(r)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===v?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===v||"cep2"===v?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===v?{maxLength:15}:"cpf"===v?{maxLength:14}:"rg"===v?{maxLength:11}:"estado"===v?{maxLength:2}:{},InputProps:{endAdornment:L&&(0,a.jsx)(s.Z,{position:"end",children:(0,a.jsx)(c.Z,{onClick:L,children:(0,a.jsx)(u.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"},...E&&!(null==t?void 0:t.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:T.palette.error.main},"&:hover fieldset":{borderColor:T.palette.error.main},"&.Mui-focused fieldset":{borderColor:T.palette.error.main}},"& .MuiInputLabel-root":{color:T.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:T.palette.error.main}}}})})}})}),P&&(0,a.jsx)("div",{className:"absolute ".concat("number"==b?"right-10":"right-4","  top-[12px]"),children:(0,a.jsx)(m.Z,{text:P,position:null!=F?F:"top"})})]})})};t.Z=x},34175:function(e,t,r){"use strict";function a(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function o(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function i(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function n(e){return e?e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")"):e}function l(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function s(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}r.d(t,{Bk:function(){return n},CL:function(){return s},PK:function(){return a},Pu:function(){return c},Tc:function(){return l},VL:function(){return o},Vo:function(){return d},cH:function(){return i}});let c=e=>{let t=e.replace(/\D/g,""),r=parseFloat(t);return isNaN(r)?"R$ 0,00":(r/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},d=e=>{let t=e.replace(/\D/g,""),r=parseFloat(t);if(isNaN(r))return"0,000";let a=(r/1e3).toFixed(3),[o,i]=a.split("."),n=o.replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat(n,",").concat(i)}},91201:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return et}});var a=r(85893),o=r(79072),i=r(60565),n=r(40039),l=r(67294),s=r(21609),c=r(67074);let d=(0,c.ZP)("div")(e=>{let{theme:t}=e;return{"& .apexcharts-canvas":{"& line[stroke='transparent']":{display:"none"},"& .apexcharts-tooltip":{boxShadow:t.shadows[3],borderColor:t.palette.divider,background:t.palette.background.paper,"& .apexcharts-tooltip-title":{fontWeight:600,borderColor:t.palette.divider,background:t.palette.background.paper},"&.apexcharts-theme-light":{color:t.palette.text.primary},"&.apexcharts-theme-dark":{color:t.palette.common.white},"& .apexcharts-tooltip-series-group:first-of-type":{paddingBottom:0},"& .bar-chart":{padding:t.spacing(2,2.5)}},"& .apexcharts-xaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.customColors.bodyBg,"&:after":{borderBottomColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.customColors.bodyBg},"&:before":{borderBottomColor:t.palette.divider}},"& .apexcharts-yaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.customColors.bodyBg,"&:after":{borderLeftColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.customColors.bodyBg},"&:before":{borderLeftColor:t.palette.divider}},"& .apexcharts-xaxistooltip-text, & .apexcharts-yaxistooltip-text":{color:t.palette.text.primary},"& .apexcharts-yaxis .apexcharts-yaxis-texts-g .apexcharts-yaxis-label":{textAnchor:"rtl"===t.direction?"start":void 0},"& .apexcharts-text, & .apexcharts-tooltip-text, & .apexcharts-datalabel-label, & .apexcharts-datalabel, & .apexcharts-xaxistooltip-text, & .apexcharts-yaxistooltip-text, & .apexcharts-legend-text":{fontFamily:"".concat(t.typography.fontFamily," !important")},"& .apexcharts-pie-label":{filter:"none",fill:t.palette.common.white},"& .apexcharts-marker":{boxShadow:"none"}}}});var p=r(49837),u=r(91359),m=r(29630),x=r(92024),g=r(62097),f=r(5152),h=r.n(f);let b=h()(()=>Promise.all([r.e(4814),r.e(7229)]).then(r.bind(r,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1});var v=r(5026);let y=e=>{let{data:t}=e,r=(0,g.Z)(),[o,i]=(0,l.useState)([]);(0,l.useEffect)(()=>{i(t)},[]);let n={chart:{offsetY:-9,offsetX:-16,parentHeightOffset:0,toolbar:{show:!1}},plotOptions:{bar:{borderRadius:8,columnWidth:"35%",endingShape:"rounded",startingShape:"rounded",colors:{ranges:[{to:50,from:40,color:(0,v.E)(r.palette.primary.main,1)}]}}},markers:{size:3.5,strokeWidth:2,fillOpacity:1,strokeOpacity:1,colors:[r.palette.background.paper,r.palette.error.main],strokeColors:(0,v.E)(r.palette.primary.main,1)},stroke:{width:[0,2],colors:[r.palette.customColors.trackBg,r.palette.error.main]},legend:{show:!1},dataLabels:{enabled:!1},colors:[(0,v.E)(r.palette.customColors.trackBg,1)],grid:{strokeDashArray:7,borderColor:r.palette.divider},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},xaxis:{categories:null==o?void 0:o.map(e=>e.month),tickPlacement:"on",labels:{show:!0},axisTicks:{show:!1},axisBorder:{show:!1}},yaxis:{min:0,show:!0,tickAmount:4,labels:{formatter:e=>e>999?"".concat((e/1e3).toFixed(0)):e,style:{fontSize:"0.75rem",colors:r.palette.text.disabled}}}},c=[{name:"MP",type:"column",data:null==o?void 0:o.map(e=>e.mp)},{name:"N\xe3o Conformidade",type:"line",data:null==o?void 0:o.map(e=>e.nc),color:r.palette.error.main}];return(0,a.jsx)(p.Z,{children:(0,a.jsxs)(u.Z,{sx:{"& .apexcharts-xcrosshairs.apexcharts-active":{opacity:0}},children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(x.Z,{skin:"light",variant:"rounded",color:"primary",children:(0,a.jsx)(s.Z,{icon:"icon-park-outline:receive",className:"text-base text-[#35553B]"})}),(0,a.jsx)(m.Z,{sx:{mr:4},variant:"body1",children:"Recebimento MP e N\xe3o Conformidade"})]}),(0,a.jsx)(b,{type:"line",height:208,series:c,options:n})]})})};var j=r(60664),C=r(61953),k=r(61225),Z=r(51514),w=r(20825),D=r(83790),N=r(18954),S=r(54431),L=r(70125),P=r(39897),F=r(14529);r(46745);let E=()=>(0,a.jsxs)("div",{className:"flex justify-end items-center mt-8 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#6D788D]"}),(0,a.jsx)("p",{className:"",children:"Conclu\xeddo"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#26C6F9]"}),(0,a.jsx)("p",{className:"",children:"Dentro do prazo"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#FDB528]"}),(0,a.jsx)("p",{className:"",children:"Vence hoje"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#FF4D49]"}),(0,a.jsx)("p",{className:"",children:"Vencido"})]})]});var R=r(72819),T=r(11163),I=r.n(T),z=r(83830);let B=e=>{let{eventDate:t}=e,{user:r,loggedUnity:o}=(0,l.useContext)(n.V),[i,c]=(0,l.useState)([]),{setId:d}=(0,l.useContext)(z.X),p=(0,g.Z)(),u=(0,T.useRouter)(),f=e=>"Fornecedor"===e?"mdi:truck-fast-outline":"Recebimento de MP"===e?"icon-park-outline:receive":"Limpeza"===e?"carbon:clean":"ph:bell",h=e=>{e.origemID&&(u.push("".concat(e.rota)),d(e.origemID))},b=async()=>{if(!t)return;let e={eventDate:t,usuarioID:r.usuarioID,unidadeID:o.unidadeID,papelID:r.papelID,admin:r.admin};try{let a=await j.h.post("calendario/getEventsOfDay",e);c(a.data)}catch(i){console.log(i)}};return(0,l.useEffect)(()=>{b()},[]),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[i.length>0&&i.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between py-6 px-5 rounded-lg border ".concat("dark"===p.palette.mode?"border-[#2f363f] hover:bg-[#2f363f]":"border-[##F5F5F5] hover:bg-[#F5F5F5]","  ").concat(e.origemID>0?"cursor-pointer":""),onClick:()=>h(e),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{variant:"body1",fontWeight:"bold",children:e.titulo}),e.origemID>0&&(0,a.jsx)(s.Z,{icon:"tabler:external-link"})]}),(0,a.jsx)(m.Z,{variant:"body2",className:"opacity-50",children:""!=e.subtitulo?e.subtitulo:"[Sem produto]"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{variant:"body1",children:e.tipo}),(0,a.jsx)(x.Z,{skin:"light",variant:"rounded",color:e.variant,children:(0,a.jsx)(s.Z,{icon:f(e.tipo),className:"text-base"})})]})]},t)),0===i.length&&(0,a.jsx)(m.Z,{variant:"body1",children:"Nenhum evento pra hoje!"})]})},$=e=>{var t,r;let{values:i}=e;return(0,a.jsx)(o.ZP,{container:!0,spacing:4,children:(0,a.jsx)(o.ZP,{item:!0,xs:6,md:12,children:(0,a.jsx)(B,{eventDate:null==i?void 0:null===(t=i._def)||void 0===t?void 0:null===(r=t.extendedProps)||void 0===r?void 0:r.eventDate})})})},A=()=>{var e,t,r,o,i,s;let{user:c,loggedUnity:d}=(0,l.useContext)(n.V),[p,u]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),[g,f]=(0,l.useState)(null),h=async()=>{let e={usuarioID:c.usuarioID,unidadeID:d.unidadeID,papelID:c.papelID,admin:c.admin};try{let t=await j.h.post("calendario/getEvents",e);u(t.data)}catch(r){console.error("Erro ao buscar eventos:",r)}};(0,l.useEffect)(()=>{h()},[]);let b={events:p.length?p:[],plugins:[P.ZP,N.Z,S.Z,D.Z,L.Z],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev, next, title",end:"today,dayGridMonth,timeGridWeek,dayGridDay,listMonth"},views:{week:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!1,eventResizableFromStart:!0,locale:F.Z,dragScroll:!0,dayMaxEvents:10,navLinks:!0,eventContent(e){let{event:t}=e,r=t._def.extendedProps.variant,a='\n            <div class="'.concat("cursor-pointer text-center p-2 ".concat("info"==r?"text-[#26C6F9]":"error"==r?"text-[#FF4D49]":"warning"==r?"text-[#FDB528]":"text-[#6D788D]"),'">\n                <div class="font-bold text-3xl">\n                    ').concat(t.title,"\n                </div>\n            </div>\n            ");return{html:a}},eventClick(e){let{event:t}=e;x(!0),f(t)},dateClick(e){console.log("dateClick")},eventDrop(e){let{event:t}=e;console.log("eventDrop")},eventResize(e){let{event:t}=e;console.log("eventResize")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{...b}),(0,a.jsx)(E,{}),(0,a.jsx)(R.Z,{title:"".concat(null==g?void 0:null===(e=g._def)||void 0===e?void 0:e.title," ").concat((null==g?void 0:null===(t=g._def)||void 0===t?void 0:t.title)==1?"evento":"eventos"," em ").concat(null==g?void 0:null===(r=g._def)||void 0===r?void 0:null===(o=r.extendedProps)||void 0===o?void 0:o.eventDate_," (").concat(null==g?void 0:null===(i=g._def)||void 0===i?void 0:null===(s=i.extendedProps)||void 0===s?void 0:s.dayWeek,")"),setOpenModal:x,openModal:m,size:"md",children:(0,a.jsx)($,{values:g})})]})};var _=r(19550);let M=(0,c.ZP)(C.Z)(e=>{let{theme:t}=e,r=(0,_.Z)();return{display:"flex",position:"relative",borderRadius:t.shape.borderRadius,"& .fc":{zIndex:1,"& .fc-toolbar":{flexWrap:"wrap",flexDirection:"row !important","&.fc-header-toolbar":{marginBottom:t.spacing(3.75)},".fc-prev-button, & .fc-next-button":{display:"inline-block",borderColor:"transparent",backgroundColor:"transparent","& .fc-icon":{color:t.palette.text.primary,fontSize:t.typography.h4.fontSize},"&:hover, &:active, &:focus":{boxShadow:"none !important",borderColor:"transparent !important",backgroundColor:"transparent !important"}},"& .fc-prev-button":{paddingLeft:"0 !important"},"& .fc-toolbar-chunk:first-of-type":{display:"flex",flexWrap:"wrap",alignItems:"center",[t.breakpoints.down("md")]:{"& div:first-of-type":{display:"flex",alignItems:"center"}}},"& .fc-button":{padding:t.spacing(),"&:active, .&:focus":{boxShadow:"none"}},"& .fc-button-group":{"& .fc-button":{textTransform:"capitalize","&:focus":{boxShadow:"none"}},"& .fc-button-primary":{fontWeight:500,fontSize:".875rem",letterSpacing:".4px",textTransform:"uppercase","&:not(.fc-prev-button):not(.fc-next-button)":{backgroundColor:"transparent",padding:t.spacing(1.5,5.08),color:t.palette.primary.main,borderColor:(0,v.E)(t.palette.primary.main,.5),"&.fc-button-active, &:hover":{borderColor:(0,v.E)(t.palette.primary.main,.5),backgroundColor:(0,v.E)(t.palette.primary.main,.05)}}},"& .fc-sidebarToggle-button":{border:0,lineHeight:.8,borderColor:"transparent",paddingBottom:"0 !important",backgroundColor:"transparent",marginLeft:"".concat(t.spacing(-2)," !important"),padding:"".concat(t.spacing(1.275,2)," !important"),color:"".concat(t.palette.text.primary," !important"),"&:focus":{outline:0,boxShadow:"none"},"&:not(.fc-prev-button):not(.fc-next-button):hover":{backgroundColor:"transparent !important"},"& + div":{marginLeft:0}},".fc-dayGridMonth-button, .fc-timeGridWeek-button, .fc-timeGridDay-button, & .fc-listMonth-button":{padding:t.spacing(2.2,6),"&:last-of-type, &:first-of-type":{borderRadius:t.shape.borderRadius},"&:first-of-type":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-of-type":{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},"& > * > :not(:first-of-type)":{marginLeft:0},"& .fc-toolbar-title":{fontWeight:500,lineHeight:"2rem",marginRight:t.spacing(4),marginLeft:t.spacing(2.5),fontSize:t.typography.h5.fontSize},".fc-button:empty, & .fc-toolbar-chunk:empty":{display:"none"}},"& tbody td, & thead th":{borderColor:t.palette.divider,"&.fc-col-header-cell":{borderLeft:0,borderRight:0},'&[role="presentation"]':{borderRightWidth:0}},"& .fc-event":{borderRadius:4,"&:not(.fc-list-event)":{"&.bg-primary":{borderColor:"transparent",color:t.palette.primary.main,backgroundColor:r.primaryLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.primary.main}},"&.bg-success":{borderColor:"transparent",color:t.palette.success.main,backgroundColor:r.successLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.success.main}},"&.bg-error":{borderColor:"transparent",color:t.palette.error.main,backgroundColor:r.errorLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.error.main}},"&.bg-warning":{borderColor:"transparent",color:t.palette.warning.main,backgroundColor:r.warningLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.warning.main}},"&.bg-info":{borderColor:"transparent",color:t.palette.info.main,backgroundColor:r.infoLight.backgroundColor,"& .fc-event-title, & .fc-event-time":{color:t.palette.info.main}}},"&.bg-primary":{"& .fc-list-event-dot":{borderColor:t.palette.primary.main,backgroundColor:t.palette.primary.main},"&:hover td":{backgroundColor:(0,v.E)(t.palette.primary.light,.1)}},"&.bg-success":{"& .fc-list-event-dot":{borderColor:t.palette.success.main,backgroundColor:t.palette.success.main},"&:hover td":{backgroundColor:(0,v.E)(t.palette.success.light,.1)}},"&.bg-error":{"& .fc-list-event-dot":{borderColor:t.palette.error.main,backgroundColor:t.palette.error.main},"&:hover td":{backgroundColor:(0,v.E)(t.palette.error.light,.1)}},"&.bg-warning":{"& .fc-list-event-dot":{borderColor:t.palette.warning.main,backgroundColor:t.palette.warning.main},"&:hover td":{backgroundColor:(0,v.E)(t.palette.warning.light,.1)}},"&.bg-info":{"& .fc-list-event-dot":{borderColor:t.palette.info.main,backgroundColor:t.palette.info.main},"&:hover td":{backgroundColor:(0,v.E)(t.palette.info.light,.1)}},"&.fc-daygrid-event":{marginLeft:"4px",marginRight:"4px"}},"& .fc-view-harness":{minHeight:"650px",margin:t.spacing(0,-5.25),width:"calc(100% + ".concat(t.spacing(10.5),")")},"& .fc-col-header":{"& .fc-col-header-cell":{fontWeight:600,fontSize:".875rem",letterSpacing:".15px",color:t.palette.text.primary,"& .fc-col-header-cell-cushion":{padding:t.spacing(2),textDecoration:"none !important"}}},"& .fc-scrollgrid-section-liquid > td":{borderBottom:0},"& .fc-daygrid-event-harness":{lineHeight:1.25,"& .fc-event":{fontWeight:500,fontSize:"0.75rem",padding:t.spacing(0,1),"& .fc-event-time":{fontWeight:500}},"&:not(:last-of-type)":{marginBottom:t.spacing(1.2)}},"& .fc-daygrid-day-bottom":{marginTop:t.spacing(1.2)},"& .fc-daygrid-day":{padding:"5px","& .fc-daygrid-day-top":{flexDirection:"row"},"&.fc-day-other":{"& .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:"".concat(t.palette.text.disabled," !important")}}},"&.fc-day-past:not(.fc-day-other)":{"& .fc-daygrid-day-number":{color:"".concat(t.palette.text.secondary," !important")}}},"& .fc-scrollgrid":{borderColor:t.palette.divider},"& .fc-day-past, & .fc-day-future":{"&.fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc-daygrid-day-number":{fontSize:"1rem",paddingTop:0,paddingLeft:t.spacing(2)},"& .fc-daygrid-day-number, & .fc-timegrid-slot-label-cushion, & .fc-list-event-time":{textDecoration:"none !important",color:"".concat(t.palette.text.primary," !important")},"& .fc-day-today:not(.fc-popover)":{"&:not(.fc-col-header-cell)":{background:"".concat(t.palette.background.default," !important"),backgroundColor:"".concat(t.palette.action.hover," !important")}},"& .fc-timegrid":{"& .fc-scrollgrid-section":{"& .fc-col-header-cell, & .fc-timegrid-axis":{borderLeft:0,borderRight:0,borderColor:t.palette.divider},"& .fc-timegrid-axis":{borderColor:t.palette.divider}},"& .fc-timegrid-axis":{"&.fc-scrollgrid-shrink":{"& .fc-timegrid-axis-cushion":{fontSize:".75rem",lineHeight:"15px",letterSpacing:"0.4px",textTransform:"capitalize",color:t.palette.text.disabled}}},"& .fc-timegrid-slots":{"& .fc-timegrid-slot":{height:"3rem",borderColor:t.palette.divider,"&.fc-timegrid-slot-label":{borderRight:0},"&.fc-timegrid-slot-lane":{borderLeft:0},"& .fc-timegrid-slot-label-frame":{textAlign:"center","& .fc-timegrid-slot-label-cushion":{fontSize:".75rem",lineHeight:"15px",letterSpacing:"0.4px",textTransform:"uppercase"}}}},"& .fc-timegrid-divider":{display:"none"},"& .fc-timegrid-event":{borderRadius:0,boxShadow:"none",paddingTop:t.spacing(2),paddingLeft:t.spacing(2),"& .fc-event-time":{marginBottom:"2px"},"& .fc-event-time, & .fc-event-title":{fontSize:".75rem",lineHeight:"15px",letterSpacing:"0.4px"}}},"& .fc-list":{border:"none",'& th[colspan="3"]':{position:"relative"},"& .fc-list-day-cushion":{paddingLeft:t.spacing(4),paddingRight:t.spacing(4),background:t.palette.background.default,"& .fc-list-day-text, & .fc-list-day-side-text":{fontWeight:600}},".fc-list-event":{cursor:"pointer","&:hover":{"& td":{backgroundColor:t.palette.action.hover}},"& td":{borderColor:t.palette.divider}},"& .fc-list-day":{backgroundColor:t.palette.customColors.lightBg,"& .fc-list-day-text, & .fc-list-day-side-text":{fontSize:".875rem",textDecoration:"none"},"&  >  *":{background:"none",borderColor:t.palette.divider}},"& .fc-list-event-title":{fontSize:".875rem",verticalAlign:"middle",paddingLeft:t.spacing(2.5),color:t.palette.text.secondary},"& .fc-list-event-time":{fontSize:".875rem",paddingLeft:t.spacing(4),color:"".concat(t.palette.text.secondary," !important")}},"& .fc-popover":{zIndex:20,boxShadow:1,borderColor:t.palette.divider,background:t.palette.background.paper,"& .fc-popover-header":{padding:t.spacing(2),background:t.palette.action.hover,"& .fc-popover-title, & .fc-popover-close":{color:t.palette.text.primary}},"& .fc-popover-body":{"& *:not(.fc-event-main):not(:last-of-type)":{marginBottom:t.spacing(1.2)}}},[t.breakpoints.up("md")]:{"& .fc-sidebarToggle-button":{display:"none"},"& .fc-toolbar-title":{marginLeft:0}},"@media (max-width:610px)":{"& .fc-header-toolbar .fc-toolbar-chunk:last-of-type":{marginTop:t.spacing(4)}}}}}),W=()=>{let{settings:e}=(0,Z.r)(),t=(0,g.Z)(),{skin:r}=e,o=(0,k.Z)(e=>e.breakpoints.up("md"));return t.palette.error.main,t.palette.primary.main,t.palette.warning.main,t.palette.success.main,t.palette.info.main,t.palette.secondary.main,(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(M,{className:"app-calendar",sx:{padding:4,backgroundColor:"dark"==e.mode?"#212b36":"#FFF",boxShadow:"bordered"===r?0:6,..."bordered"===r&&{border:e=>"1px solid ".concat(e.palette.divider)}},children:(0,a.jsx)(C.Z,{sx:{px:5,pt:3.75,flexGrow:1,borderRadius:1,boxShadow:"none",backgroundColor:"background.paper",...o?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:{}},children:(0,a.jsx)(A,{})})})})},V=e=>{let{data:t}=e;if(!t)return;let r=(0,g.Z)();console.log("\uD83D\uDE80 ~ theme:",r.palette.mode);let o=[{name:"Total",data:t.percents}],i={chart:{parentHeightOffset:0,toolbar:{show:!1}},plotOptions:{bar:{borderRadius:8,barHeight:"70%",horizontal:!0,distributed:!0,startingShape:"rounded"}},dataLabels:{enabled:!0,formatter:function(e){return"".concat(e,"%")},offsetY:8,style:{fontWeight:600,fontSize:"0.875rem",colors:[r.palette.warning.light]}},grid:{strokeDashArray:8,borderColor:r.palette.divider,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-18,left:21,right:33,bottom:10}},colors:["dark"===r.palette.mode?"#49483A":"#F7E8CC"],legend:{show:!1},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},xaxis:{axisTicks:{show:!1},axisBorder:{show:!1},categories:t.suppliers,labels:{formatter:e=>"".concat(Number(e),"%"),style:{fontSize:"0.875rem",colors:r.palette.text.disabled}}},yaxis:{labels:{align:"rtl"===r.direction?"right":"left",style:{fontWeight:600,fontSize:"0.875rem",colors:r.palette.text.primary}}},tooltip:{y:{formatter:function(e){return"".concat(e,"%")}}}};return(0,a.jsx)(p.Z,{children:(0,a.jsxs)(u.Z,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(x.Z,{skin:"light",variant:"rounded",color:"warning",children:(0,a.jsx)(s.Z,{icon:"typcn:warning",className:"text-base"})}),(0,a.jsx)(m.Z,{variant:"body1",children:"N\xe3o Conformidades por Fornecedor nos \xfaltimos 365 dias"})]}),(0,a.jsx)(b,{type:"bar",height:294,series:o,options:i})]})})};var H=r(17575);let O=e=>{var t,r,o,i,n,l,c,d;let{data:f}=e,h=(0,g.Z)();I();let b=null!==(n=null===(t=f.find(e=>10===e.status))||void 0===t?void 0:t.qtd)&&void 0!==n?n:0,y=null!==(l=null===(r=f.find(e=>20===e.status))||void 0===r?void 0:r.qtd)&&void 0!==l?l:0,j=null!==(c=null===(o=f.find(e=>30===e.status))||void 0===o?void 0:o.qtd)&&void 0!==c?c:0,C=null!==(d=null===(i=f.find(e=>40===e.status))||void 0===i?void 0:i.qtd)&&void 0!==d?d:0,k=e=>{let{filled:t,title:r}=e;return(0,a.jsx)(H.Z,{title:r,children:(0,a.jsx)("div",{className:"h-5 rounded-full border",style:{backgroundColor:t?h.palette.primary.main:"",borderColor:t?"transparent":(0,v.E)("dark"===h.palette.mode?h.palette.grey[800]:h.palette.grey[400],1)}})})};return(0,a.jsx)(p.Z,{children:(0,a.jsxs)(u.Z,{className:"space-y-4 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 pb-2",children:[(0,a.jsx)(x.Z,{skin:"light",variant:"rounded",color:"primary",children:(0,a.jsx)(s.Z,{icon:"mdi:truck-fast-outline",className:"text-base"})}),(0,a.jsx)(m.Z,{variant:"body1",children:"Fornecedores Pendentes"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,a.jsx)(k,{filled:!0,title:"Pendente"}),(0,a.jsx)(k,{title:"Acessou formul\xe1rio"}),(0,a.jsx)(k,{title:"Em preenchimento"}),(0,a.jsx)(k,{title:"Conclu\xeddo"}),(0,a.jsx)(k,{title:"Aprovado/Aprovado parcial/Reprovado"}),(0,a.jsx)(H.Z,{title:"Total pendentes",children:(0,a.jsx)("p",{className:"text-center text-2xl font-semibold relative -top-[8px]",style:{color:b>0?h.palette.error.main:h.palette.text.primary},children:b})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,a.jsx)(k,{filled:!0,title:"Pendente"}),(0,a.jsx)(k,{filled:!0,title:"Acessou formul\xe1rio"}),(0,a.jsx)(k,{title:"Em preenchimento"}),(0,a.jsx)(k,{title:"Conclu\xeddo"}),(0,a.jsx)(k,{title:"Aprovado/Aprovado parcial/Reprovado"}),(0,a.jsx)(H.Z,{title:"Total que acessou o formul\xe1rio",children:(0,a.jsx)("p",{className:"text-center text-2xl font-semibold relative -top-[8px]",style:{color:y>0?h.palette.error.main:h.palette.text.primary},children:y})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,a.jsx)(k,{filled:!0,title:"Pendente"}),(0,a.jsx)(k,{filled:!0,title:"Acessou formul\xe1rio"}),(0,a.jsx)(k,{filled:!0,title:"Em preenchimento"}),(0,a.jsx)(k,{title:"Conclu\xeddo"}),(0,a.jsx)(k,{title:"Aprovado/Aprovado parcial/Reprovado"}),(0,a.jsx)(H.Z,{title:"Total em preenchimento",children:(0,a.jsx)("p",{className:"text-center text-2xl font-semibold relative -top-[8px]",style:{color:j>0?h.palette.error.main:h.palette.text.primary},children:j})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-4",children:[(0,a.jsx)(k,{filled:!0,title:"Pendente"}),(0,a.jsx)(k,{filled:!0,title:"Acessou formul\xe1rio"}),(0,a.jsx)(k,{filled:!0,title:"Em preenchimento"}),(0,a.jsx)(k,{filled:!0,title:"Conclu\xeddo"}),(0,a.jsx)(k,{title:"Aprovado/Aprovado parcial/Reprovado"}),(0,a.jsx)(H.Z,{title:"Total conclu\xeddos",children:(0,a.jsx)("p",{className:"text-center text-2xl font-semibold relative -top-[8px]",style:{color:C>0?h.palette.error.main:h.palette.text.primary},children:C})})]})]})})},Y=()=>{let{loggedUnity:e}=(0,l.useContext)(n.V),[t,r]=(0,l.useState)(null),[i,c]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),[h,b]=(0,l.useState)(null),v=new Date().toISOString().split("T")[0],C=v.split("-").reverse().join("/"),k=new Date().toLocaleDateString("pt-BR",{weekday:"long"}),Z=async()=>{try{let t=await j.h.get("dashboard/fabrica/getData/".concat(e.unidadeID));r(t.data.fornecedorPorStatus),f(t.data.totalRecebimentoNC),b(t.data.supplierNonCompliance),c(t.data.pendingSuppliers)}catch(a){console.log(a)}};return(0,l.useEffect)(()=>{Z()},[]),console.log("\uD83D\uDE80 ~ pendingSuppliersNumbers:",i),t&&(0,a.jsx)(d,{children:(0,a.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(W,{})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:6,children:(0,a.jsxs)(o.ZP,{container:!0,spacing:6,className:"match-height",children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(p.Z,{children:(0,a.jsxs)(u.Z,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(x.Z,{skin:"light",variant:"rounded",color:"warning",children:(0,a.jsx)(s.Z,{icon:"mage:calendar-check-fill",className:"text-base"})}),(0,a.jsx)(m.Z,{variant:"body1",children:"Hoje, ".concat(C," (").concat(k,")")})]}),(0,a.jsx)(B,{eventDate:v})]})})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,a.jsx)(V,{data:h})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,children:(0,a.jsx)(y,{data:g})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,children:(0,a.jsx)(O,{data:i})})]})})]})})};var q=r(30944);r(51570),r(41664),(0,c.ZP)(o.ZP)(e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{borderBottom:"1px solid ".concat(t.palette.divider)},[t.breakpoints.up("sm")]:{borderRight:"1px solid ".concat(t.palette.divider)}}}),new Date("".concat(new Date().getFullYear(),"-01-01")).getTime(),new Date("".concat(new Date().getFullYear(),"-04-02")).getTime(),new Date("".concat(new Date().getFullYear(),"-02-18")).getTime(),new Date("".concat(new Date().getFullYear(),"-05-30")).getTime(),new Date("".concat(new Date().getFullYear(),"-02-07")).getTime(),new Date("".concat(new Date().getFullYear(),"-04-31")).getTime(),new Date("".concat(new Date().getFullYear(),"-01-14")).getTime(),new Date("".concat(new Date().getFullYear(),"-06-30")).getTime(),new Date("".concat(new Date().getFullYear(),"-04-01")).getTime(),new Date("".concat(new Date().getFullYear(),"-07-31")).getTime(),C.Z,s.Z,C.Z,s.Z,r(99070);var G=r(7071),X=r(66136),J=r(44731);let K=e=>{var t;let{row:r}=e,{settings:o}=(0,l.useContext)(X.J6),{setId:i}=(0,l.useContext)(z.X),n=o.mode,c=I(),d=()=>{i(r.fornecedorID),c.push("/formularios/fornecedor")};return(0,a.jsx)(p.Z,{onClick:d,className:"cursor-pointer ".concat("dark"===n?"hover:bg-[#232327]":"hover:bg-[#EEEEF1]","  shadow-xl transition-all"),children:(0,a.jsx)(u.Z,{children:(0,a.jsxs)("div",{className:"space-y-4 p-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(J.Z,{variant:"rounded",sx:{width:70,height:70},className:"".concat(r.logo?"p-1":"p-0","  ").concat("dark"===n?"!bg-[#e0e0e0]":"!bg-[#f5f5f5]"),children:(0,a.jsx)("img",{src:null!==(t=r.logo)&&void 0!==t?t:"/imageDefault/factory.svg",alt:"Imagem da logo da f\xe1brica"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(G.Z,{size:"small",skin:"light",color:r.cor,label:r.status,sx:{mx:2,"& .MuiChip-label":{textTransform:"capitalize"}}}),(0,a.jsxs)("div",{className:"leading-4",children:[(0,a.jsxs)(m.Z,{variant:"body2",children:["Aberto em ",r.dataCriacao_formatada]}),(0,a.jsxs)(m.Z,{variant:"caption",children:["h\xe1 ",r.quantidadeDias," dias"]})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{icon:"uil:external-link-alt",className:"text-base text-[#35553B]"})})]}),(0,a.jsx)("div",{className:"w-full flex justify-between",children:(0,a.jsx)(m.Z,{variant:"body1",className:"!font-medium",children:r.fabrica})})]})})})},Q=()=>{var e;let{settings:t}=(0,l.useContext)(X.J6),{loggedUnity:r}=(0,l.useContext)(n.V),o=t.mode,i=I(),[s,c]=(0,l.useState)(null),d=async()=>{try{let e=await j.h.post("dashboard/fornecedor/myData",{unidadeID:r.unidadeID});c(e.data)}catch(t){console.log(t)}};return(0,l.useEffect)(()=>{d()},[]),(0,a.jsx)(p.Z,{onClick:()=>i.push("/meus-dados"),className:"cursor-pointer ".concat("dark"===o?"hover:bg-[#232327]":"hover:bg-[#EEEEF1]","  shadow-xl transition-all"),children:(0,a.jsx)(u.Z,{children:(0,a.jsx)("div",{className:"space-y-4 p-1",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)(J.Z,{variant:"rounded",sx:{width:70,height:70},className:"p-0 ".concat("dark"===o?"!bg-[#e0e0e0]":"!bg-[#f5f5f5]"),children:(0,a.jsx)("img",{src:null!==(e=null==s?void 0:s.logo)&&void 0!==e?e:"/imageDefault/factory.svg",alt:"Imagem da logo da f\xe1brica"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-semibold",children:"Meus Dados"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{children:["\xdaltima atualiza\xe7\xe3o em ",null==s?void 0:s.dataAtualizacao,(0,a.jsx)("br",{}),"(",(null==s?void 0:s.quantidadeDias)==0?"Hoje":(null==s?void 0:s.quantidadeDias)==1?"Ontem":(null==s?void 0:s.quantidadeDias)+" dias",")"]}),(0,a.jsx)("p",{children:null==s?void 0:s.categoriaRisco})]})]})]})})})})},U=()=>{let{loggedUnity:e}=(0,l.useContext)(n.V),[t,r]=(0,l.useState)(null),i=async()=>{let t={cnpj:e.cnpj};try{let a=await j.h.post("dashboard/fornecedor/getData",t);r(a.data.lastForms)}catch(o){console.log(o)}};return(0,l.useEffect)(()=>{i()},[]),(0,a.jsx)(d,{children:(0,a.jsxs)(o.ZP,{container:!0,spacing:6,className:"match-height",children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,md:3,children:(0,a.jsx)(Q,{})}),t&&t.map((e,t)=>(console.log("\uD83D\uDE80 ~ row:",e),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:3,children:(0,a.jsx)(K,{row:e,icon:(0,a.jsx)(s.Z,{icon:"mdi:truck-fast-outline"})})},t)))]})})},ee=()=>{let{setTitle:e}=(0,l.useContext)(i.f),{user:t}=(0,l.useContext)(n.V),{startFilter:r}=(0,q.L0)();return(0,l.useEffect)(()=>{r(),e({title:"In\xedcio",subtitle:""})},[]),1===t.papelID?(0,a.jsx)(o.ZP,{container:!0,spacing:6,children:(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(Y,{})})}):2===t.papelID?(0,a.jsx)(o.ZP,{container:!0,spacing:6,children:(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(U,{})})}):null};var et=ee}},function(e){e.O(0,[4186,1445,1111,5999,1069,2187,8665,9774,2888,179],function(){return e(e.s=18694)}),_N_E=e.O()}]);