(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2752],{68374:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp",function(){return a(75600)}])},63067:function(e,t,a){"use strict";a.r(t);var o=a(85893),i=a(67294),n=a(46905),s=a(55148),d=a(51570),r=a(30944);let l=()=>{var e,t;let{form:a,setNames:l,filterDate:u,SelectFilterByName:m,dataRecebimentoMP:c,setFilteredDataRecebimentoMP:f,handleSearch:p,key:h,searchText:x}=(0,r.L0)(),{commonData:N}=(0,d.Lq)(),b=c,j=async()=>{f(b=await m(b=await m(b=await m(b=await u(b=await p(b)),"status"),"profissional"),"modelo"))};return(0,i.useEffect)(()=>{j()},[h]),(0,i.useEffect)(()=>{l(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{xs:12,md:6,title:"Data inicio",name:"dataInicio",form:a}),(0,o.jsx)(n.Z,{xs:12,md:6,title:"Data Fim",name:"dataFim",form:a}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Status",name:"status",form:a,options:N.status}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Profissional",name:"profissional",value:null===(e=a.getValues("profissional"))||void 0===e?void 0:e.name,form:a,options:N.professional}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(t=a.getValues("modelo"))||void 0===t?void 0:t.name,form:a,options:N.recebimentoModel})]})};t.default=l},41284:function(e,t,a){"use strict";a.r(t);var o=a(85893),i=a(67294),n=a(60664),s=a(93250),d=a(60565),r=a(40039),l=a(47842),u=a(11163),m=a(71798),c=a(30944),f=a(63067),p=a(72819),h=a(78432),x=a(87536),N=a(83830);a(29308),a(84220);let b=()=>{let{user:e,loggedUnity:t}=(0,i.useContext)(r.V),a=(0,u.useRouter)(),{setModelID:b,setRecebimentoMpID:j}=(0,i.useContext)(N.X),w=a.pathname,{setTitle:D}=(0,i.useContext)(d.f),{startFilter:z,setFilteredDataRecebimentoMP:I,filteredDataRecebimentoMP:v,setDataRecebimentoMP:y}=(0,c.L0)(),[Z,g]=(0,i.useState)(!1),[C,F]=(0,i.useState)({module:"recebimento-mp-nao-conformidade",type:"open"}),M=(0,x.cI)({mode:"onChange"}),S=async()=>{await n.hi.post("/formularios/recebimento-mp/nao-conformidade/getList",{unidadeID:t.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID,status:C}).then(e=>{I(e.data),y(e.data),D({title:"N\xe3o Conformidades do Recebimento de MP",icon:"typcn:warning-outline",subtitle:{id:null,count:e.data.length,new:!1}})})},_=e=>{j(e.new.recebimento.id),b(e.new.modelo.id),a.push("/formularios/recebimento-mp/novo/?aba=nao-conformidade")};(0,i.useEffect)(()=>{S(),z((0,o.jsx)(f.default,{}),!1)},[a.query,C]);let P=(0,m.OL)(w,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.7,type:"date"},{headerName:"Recebimento de MP",field:"recebimentoMpID",size:1},{headerName:"Fornecedor",field:"fornecedor",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]);return(0,o.jsxs)(o.Fragment,{children:[v?(0,o.jsx)(s.Z,{result:v,columns:P,btnNew:!1,btnNewModal:1===e.papelID,handleNewModal:()=>g(!0),status:C,setStatus:F},v):(0,o.jsx)(l.Z,{show:!0}),(0,o.jsx)(p.Z,{title:"Nova N\xe3o Conformidade",handleConclusion:_,size:"lg",setOpenModal:g,openModal:Z,form:M,children:(0,o.jsx)(h.Z,{form:M,type:"list",data:null})})]})};t.default=b},21196:function(e,t,a){"use strict";a.r(t);var o=a(85893),i=a(67294),n=a(60664),s=a(93250),d=a(60565),r=a(40039),l=a(47842),u=a(11163),m=a(71798),c=a(30944),f=a(63067);let p=()=>{let{user:e,loggedUnity:t}=(0,i.useContext)(r.V),a=(0,u.useRouter)(),p=a.pathname,{setTitle:h}=(0,i.useContext)(d.f),{startFilter:x,setFilteredDataRecebimentoMP:N,filteredDataRecebimentoMP:b,setDataRecebimentoMP:j}=(0,c.L0)(),[w,D]=(0,i.useState)({module:"recebimento-mp",type:"open"}),z=async()=>{await n.hi.post("".concat(p,"/getList"),{unidadeID:t.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID,status:w}).then(e=>{N(e.data),j(e.data),h({icon:"icon-park-outline:receive",title:"Recebimento de MP",subtitle:{id:null,count:e.data.length,new:!1}})})};(0,i.useEffect)(()=>{z(),x((0,o.jsx)(f.default,{}),!1)},[a.query,w]);let I=2==e.papelID?[{headerName:"ID",field:"id",size:.1,variant:"naoConformidade"},{headerName:"Data",field:"data",size:.1,type:"date"},{headerName:"F\xe1brica",field:"fabrica",size:.2},{headerName:"NF",field:"nf",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]:[{headerName:"ID",field:"id",size:.4,variant:"naoConformidade"},{headerName:"Data",field:"data",size:.4,type:"date"},{headerName:"Fornecedor",field:"fornecedor",size:1.5},{headerName:"NF",field:"nf",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}],v=(0,m.OL)(p,I);return(0,o.jsx)(o.Fragment,{children:b?(0,o.jsx)(s.Z,{result:b,columns:v,status:w,setStatus:D},b):(0,o.jsx)(l.Z,{show:!0})})};t.default=p},75600:function(e,t,a){"use strict";a.r(t);var o=a(85893),i=a(67294),n=a(83830),s=a(41284),d=a(11163),r=a(21609),l=a(17414),u=a(86128),m=a(21196),c=a(73796);let f=()=>{let e=(0,d.useRouter)(),{id:t}=(0,i.useContext)(n.X),a=e.query.aba||"recebimento-mp",f=[{value:"recebimento-mp",title:"Recebimento de MP",icon:()=>(0,o.jsx)(r.Z,{icon:"icon-park-outline:receive"}),content:(0,o.jsx)(m.default,{})},{value:"nao-conformidade",title:"N\xe3o Conformidade",icon:()=>(0,o.jsx)(r.Z,{icon:"typcn:warning-outline"}),content:(0,o.jsx)(s.default,{})}];return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsxs)(o.Fragment,{children:["recebimento-mp"===a&&(0,o.jsx)(c.Z,{id:t,model:null}),"nao-conformidade"===a&&(0,o.jsx)(l.Z,{id:t})]}):(0,o.jsx)(u.Z,{tabs:f,defaultTab:"recebimento-mp"})})};t.default=f}},function(e){e.O(0,[4738,4186,1445,1111,5999,172,2187,137,8163,5698,3005,3698,1509,3545,3796,7686,7414,9774,2888,179],function(){return e(e.s=68374)}),_N_E=e.O()}]);