(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1132],{94156:function(e,a,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza",function(){return o(46579)}])},93250:function(e,a,o){"use strict";var t=o(85893),s=o(49837),l=o(91359),i=o(69175);let n=e=>{let{result:a,columns:o,btnNew:n=!0,btnPrint:r=!0,btnBack:d,openModal:c,modalLog:u}=e;return(0,t.jsx)(s.Z,{children:(0,t.jsx)(l.Z,{sx:{pt:"0"},children:(0,t.jsx)(i.Z,{rows:a,columns:o,modalLog:u,buttonsHeader:{btnNew:n,btnPrint:r,btnBack:d,openModal:c}})})})};a.Z=n},46905:function(e,a,o){"use strict";var t=o(85893),s=o(87536),l=o(79072),i=o(55343),n=o(67836);let r=e=>{let{xs:a,md:o,title:r,name:d,disabled:c,required:u,form:m,onChange:x}=e;return(0,t.jsx)(l.ZP,{item:!0,xs:a,md:o,children:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{fullWidth:!0,children:(0,t.jsx)(s.Qr,{name:d,control:m.control,rules:{required:u},render(e){let{field:a}=e;return(0,t.jsx)(n.Z,{label:r,value:null==a?void 0:a.value,placeholder:r,type:"date",size:"small","aria-describedby":"validation-schema-nome",disabled:c,error:!!m.formState.errors[d],onChange(e){let o=e.target.value;a.onChange(o),x&&x(o)},InputLabelProps:{shrink:!0},inputProps:{min:"1900-01-01",max:"2100-01-01"}})}})})})})};a.Z=r},55148:function(e,a,o){"use strict";var t=o(85893),s=o(79072),l=o(55343),i=o(35966),n=o(67836),r=o(87536),d=o(53934),c=o(30944);let u=e=>{let{xs:a,md:o,title:u,options:m,form:x,name:p,limitTags:f,value:v,required:h,disabled:g,multiple:b,onChange:j,className:D,keyProps:Z,createNew:I,helpText:C,helpTextPosition:y}=e,S=I?[{id:null,name:"-- Novo --"},...null!=m?m:[]]:m,{key:F}=(0,c.L0)();return(0,t.jsx)(s.ZP,{item:!0,xs:a,md:o,sx:{my:1},className:D,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Z,{fullWidth:!0,children:(0,t.jsx)(r.Qr,{name:p,control:x.control,rules:{required:h},render(e){var a;let{field:o}=e;return(0,t.jsx)(i.Z,{options:S.map(e=>e.name),value:null!=v?v:null===(a=x.getValues(p))||void 0===a?void 0:a.name,onChange(e,a){let o=S.find(e=>e.name===a);x.setValue(p,null!=o?o:null),j&&j(a)},renderInput(e){var a;return(0,t.jsx)(n.Z,{...e,id:"customSelect",size:"small",label:u,placeholder:u,error:!!x.formState.errors[p],helperText:null===(a=x.formState.errors[p])||void 0===a?void 0:a.message})}},Z||F)}})}),C&&(0,t.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,t.jsx)(d.Z,{text:C,position:null!=y?y:"top"})})]})})};a.Z=u},13529:function(e,a,o){"use strict";o.r(a);var t=o(85893),s=o(67294),l=o(46905),i=o(55148),n=o(51570),r=o(30944);let d=()=>{var e,a,o;let{form:d,setNames:c,filterDate:u,SelectFilterByName:m,data:x,setFilteredData:p,handleSearch:f,key:v}=(0,r.L0)(),{commonData:h}=(0,n.Lq)(),g=x,b=async()=>{p(g=await m(g=await m(g=await m(g=await u(g=await f(g)),"status"),"profissional"),"modelo"))};return(0,s.useEffect)(()=>{b()},[v]),(0,s.useEffect)(()=>{c(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{xs:12,md:6,title:"Data inicio da avaliac\xe3o",name:"dataInicio",form:d}),(0,t.jsx)(l.Z,{xs:12,md:6,title:"Data Fim da avalia\xe7\xe3o",name:"dataFim",form:d}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Status",name:"status",form:d,options:h.status,value:null===(e=d.getValues("status"))||void 0===e?void 0:e.name}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Profissional",name:"profissional",form:d,options:h.professional,value:null===(a=d.getValues("profissional"))||void 0===a?void 0:a.name}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(o=d.getValues("modelo"))||void 0===o?void 0:o.name,form:d,options:h.limpezaModel})]})};a.default=d},46579:function(e,a,o){"use strict";o.r(a),o.d(a,{default:function(){return q}});var t=o(85893),s=o(67294),l=o(60664),i=o(93250),n=o(87536),r=o(99734),d=o(34282),c=o(29308),u=o(7071),m=o(61953),x=o(49837),p=o(91359),f=o(29630),v=o(79072),h=o(55343),g=o(19604),b=o(11163),j=o.n(b),D=o(64165),Z=o(86887),I=o(83830),C=o(40039);o(39976);var y=o(47842),S=o(86501),F=o(66136),w=o(80377),P=o(56531),E=o(50287),V=o(84220),z=o(44731);let N=e=>{var a,o,l;let{value:i}=e,{settings:n}=(0,s.useContext)(F.J6);return(0,t.jsx)(x.Z,{style:{height:"100%"},children:(0,t.jsx)(p.Z,{sx:{textAlign:"center"},children:(0,t.jsx)("div",{className:"flex flex-col items-center gap-1",children:(null==i?void 0:i.nome_)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(z.Z,{variant:"rounded",sx:{width:70,height:70},className:"p-1 ".concat("dark"===n.mode?"!bg-[#e0e0e0]":"!bg-[#f5f5f5]"),children:(0,t.jsx)("img",{src:null!==(a=null==i?void 0:i.foto)&&void 0!==a?a:"/imageDefault/factory.svg",alt:"Imagem da logo da f\xe1brica"})})}),(0,t.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:600},children:null==i?void 0:i.nome_}),(0,t.jsx)(f.Z,{variant:"subtitle2",children:null==i?void 0:i.cnpj_}),i.email?(0,t.jsx)(f.Z,{variant:"subtitle2",children:null==i?void 0:i.email}):(0,t.jsx)(f.Z,{variant:"subtitle2",color:"error",sx:{textTransform:"italic"},children:"E-mail n\xe3o informado"}),(null==i?void 0:i.telefone)&&(0,t.jsx)(f.Z,{variant:"subtitle2",children:null!==(o=null==i?void 0:i.telefone)&&void 0!==o?o:"--"}),(null==i?void 0:i.cidade)&&(0,t.jsx)(f.Z,{variant:"subtitle2",children:null!==(l=null==i?void 0:i.cidade)&&void 0!==l?l:"--"})]}):(0,t.jsx)(f.Z,{variant:"subtitle1",children:"-- Selecione um fornecedor --"})})})})},L=e=>{var a,o,i,n,r,d,u;let{limpezaID:m,modelo:f,values:h,fields:g,disabled:b,register:j,errors:D,getValues:Z,setValue:I,control:y}=e,{user:S}=(0,s.useContext)(C.V),[F,w]=(0,s.useState)([]),z=async()=>{let e=await l.h.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:4,modeloID:f.id});w(e.data.preenche),L(e.data.preenche)},L=e=>{let a=S.profissionalID,o=e.find(e=>e.id===a);o&&o.id>0&&I("fieldsHeader.profissional",o)};return(0,s.useEffect)(()=>{z()},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(v.ZP,{container:!0,alignItems:"stretch",spacing:4,children:[(0,t.jsx)(v.ZP,{item:!0,xs:12,md:9,children:(0,t.jsx)(x.Z,{style:{height:"100%"},children:(0,t.jsx)(p.Z,{children:(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(E.Z,{xs:12,md:2,title:"Data da abertura",name:"fieldsHeader.abertoPor.dataInicio",type:"date",value:null==h?void 0:null===(a=h.abertoPor)||void 0===a?void 0:a.dataInicio,disabled:!0,control:y}),(0,t.jsx)(c.Z,{xs:12,md:2,title:"Hora da abertura",name:"fieldsHeader.abertoPor.horaInicio",type:"time",disabled:!0,register:j,control:y}),(0,t.jsx)(c.Z,{xs:12,md:8,title:"Profissional que abriu",name:"fieldsHeader.abertoPor.profissional.nome",value:null==h?void 0:null===(o=h.abertoPor)||void 0===o?void 0:null===(i=o.profissional)||void 0===i?void 0:i.nome,disabled:!0,register:j,control:y}),(0,t.jsx)(E.Z,{xs:12,md:2,title:"Data da avalia\xe7\xe3o",name:"fieldsHeader.data",type:"date",value:null!==(u=null==h?void 0:h.data)&&void 0!==u?u:new Date,disabled:b,register:j,control:y,typeValidation:"dataPassado",daysValidation:365,errors:null==D?void 0:null===(n=D.fieldsHeader)||void 0===n?void 0:n.data}),(0,t.jsx)(c.Z,{xs:12,md:2,title:"Hora da avalia\xe7\xe3o",name:"fieldsHeader.hora",type:"time",disabled:b,register:j,control:y,errors:null==D?void 0:null===(r=D.fieldsHeader)||void 0===r?void 0:r.hora}),(0,t.jsx)(V.Z,{xs:12,md:4,title:"Profissional preenchimento",name:"fieldsHeader.profissional",type:"string",options:F,disabled:b,register:j,setValue:I,control:y,errors:null==D?void 0:null===(d=D.fieldsHeader)||void 0===d?void 0:d.profissional}),(0,t.jsx)(P.Z,{register:j,errors:D,getValues:Z,setValue:I,control:y,fields:g,values:g,disabled:b})]})})})}),(0,t.jsx)(v.ZP,{item:!0,xs:12,md:3,children:(0,t.jsx)(N,{value:null})})]})})},H=e=>{var a,o,i,n;let{modeloID:r,values:d,disabled:u,register:m,errors:f,setValue:h,control:g}=e,{user:b}=(0,s.useContext)(C.V),[j,D]=(0,s.useState)([]),Z=async()=>{let e=await l.h.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:4,modeloID:r});D(e.data.aprova),I(e.data.aprova)},I=e=>{let a=b.profissionalID,o=e.find(e=>e.id===a);o&&o.id>0&&h("fieldsFooter.profissional",o)};return(0,s.useEffect)(()=>{Z()},[]),(0,t.jsx)(x.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsxs)(v.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(E.Z,{xs:12,md:2,title:"Data da conclus\xe3o",name:"fieldsFooter.dataConclusao",type:"date",value:null!==(n=null==d?void 0:d.dataConclusao)&&void 0!==n?n:new Date,disabled:u,register:m,control:g,typeValidation:"dataPassado",daysValidation:365,errors:null==f?void 0:null===(a=f.fieldsFooter)||void 0===a?void 0:a.dataConclusao}),(0,t.jsx)(c.Z,{xs:12,md:2,title:"Hora da conclus\xe3o",name:"fieldsFooter.horaConclusao",type:"time",disabled:u,register:m,control:g,errors:null==f?void 0:null===(o=f.fieldsFooter)||void 0===o?void 0:o.horaConclusao}),(0,t.jsx)(V.Z,{xs:12,md:8,title:"Profissional que aprova",name:"fieldsFooter.profissional",type:"string",options:null!=j?j:[],disabled:u,register:m,setValue:h,control:g,errors:null==f?void 0:null===(i=f.fieldsFooter)||void 0===i?void 0:i.profissional})]})})})};var M=o(41088),_=o(92629),A=o(1503);let k=e=>{var a;let o;let{id:i}=e,{menu:b,user:P,loggedUnity:E}=(0,s.useContext)(C.V),[V,z]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1),[B,W]=(0,s.useState)(!1),[q,R]=(0,s.useState)(null),[X,J]=(0,s.useState)([]),[Q,G]=(0,s.useState)(null),[K,U]=(0,s.useState)(!1),[Y,$]=(0,s.useState)([]),[ee,ea]=(0,s.useState)([]),[eo,et]=(0,s.useState)([]),[es,el]=(0,s.useState)(null),[ei,en]=(0,s.useState)([]),[er,ed]=(0,s.useState)(null),[ec,eu]=(0,s.useState)(""),[em,ex]=(0,s.useState)(!1),[ep,ef]=(0,s.useState)(!1),[ev,eh]=(0,s.useState)({status:!1,errors:[]}),[eg,eb]=(0,s.useState)(null),{settings:ej}=(0,s.useContext)(F.J6),{setId:eD}=(0,s.useContext)(I.X),{startLoading:eZ,stopLoading:eI}=(0,M.Z)(),[eC,ey]=(0,s.useState)(!1),{setReportParameters:eS,sendPdfToServer:eF}=(0,A.Gc)(),[ew,eP]=(0,s.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),eE=j(),eV=i&&i>0?"edit":"new",ez=eE.pathname,{reset:eN,register:eL,getValues:eH,setValue:eM,control:e_,watch:eA,handleSubmit:ek,clearErrors:eO,setError:eT,formState:{errors:eB}}=(0,n.cI)(),eW=()=>{eD(q.modelo.id),eE.push("/configuracoes/formularios/limpeza/")},eq=[];o=!1,b.map(e=>{e.menu.map(e=>{e.submenu&&e.submenu.length>0&&e.submenu.map(e=>{"/configuracoes/formularios"==e.rota&&(o=!0)})})}),o&&eq.push({id:5,name:"Configura\xe7\xf5es do formul\xe1rio",description:"Alterar as configura\xe7\xf5es do modelo de formul\xe1rio.",route:null,type:null,action:eW,modal:!1,icon:"bi:gear",identification:null});let eR=async()=>{},eX=()=>{z(!0);try{l.h.post("".concat(ez,"/getData/").concat(i),{type:eV,profissionalID:P.profissionalID,unidadeID:E.unidadeID}).then(e=>{var a,o;z(!1),console.log("getData: ",e.data),$(e.data.fieldsHeader),ea(e.data.fieldsFooter),et(e.data.fields),en(e.data.blocos),eu(e.data.info),R(e.data.unidade),ed(e.data.ultimaMovimentacao),eN(e.data);let t=D.WR[null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(o=a.info)||void 0===o?void 0:o.status];G(t),eP({status:1==P.papelID&&e.data.info.status<40,message:e.data.info.status>40?"Esse formul\xe1rio j\xe1 foi conclu\xeddo, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":e.data.info.status<40?"Formul\xe1rio aberto para preenchimento!":40==e.data.info.status?"Este formul\xe1rio est\xe1 aguardando aprova\xe7\xe3o!":null,messageType:"info"}),eR()}).catch(e=>{console.log("\uD83D\uDE80 ~ error:",e),z(!1)})}catch(e){console.log("\uD83D\uDE80 ~ error:",e),z(!1)}},eJ=e=>{console.log("checkErrors => validateForm: ",e,eB),eO();let a=!1,o=[];e&&(null==eo||eo.forEach((e,t)=>{let s=e.tabela?"fields[".concat(t,"].").concat(e.tabela):"fields[".concat(t,"].").concat(e.nomeColuna),l=eH(s);1!==e.obrigatorio||l||(eT(s,{type:"manual",message:"Campo obrigat\xf3rio"}),o.push(null==e?void 0:e.nomeCampo),a=!0)}),ei.forEach((e,t)=>{e.itens.forEach((e,s)=>{let l=eH("blocos[".concat(t,"].itens[").concat(s,"].resposta"));(null==e?void 0:e.obrigatorio)!==1||l||(eT("blocos[".concat(t,"].itens[").concat(s,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),o.push(null==e?void 0:e.nome),a=!0),e.respostaConfig&&1==e.respostaConfig.anexo&&e.respostaConfig.anexosSolicitados.length>0&&e.respostaConfig.anexosSolicitados.forEach((l,i)=>{1==l.obrigatorio&&l.anexos&&0==l.anexos.length&&(eT("blocos[".concat(t,"].itens[").concat(s,"].respostaConfig.anexosSolicitados[").concat(i,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),o.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==l?void 0:l.nome)),a=!0)})})})),eh({status:a,errors:o})},eQ=e=>{eb(e),eJ(!0),ex(!0)},eG=async e=>{console.log("\uD83D\uDE80 ~ conclusionForm:",e),e.conclusion=!0,await ek(eK)(e)},eK=async function(e){var a,o;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===t.conclusion&&(e.concluiForm=!0,e.info.status=null!==(a=t.status)&&void 0!==a?a:ec.status,e.obsConclusao=t.obsConclusao);let s={form:e,auth:{usuarioID:P.usuarioID,profissionalID:null!==(o=P.profissionalID)&&void 0!==o?o:0,papelID:P.papelID,unidadeID:E.unidadeID}};console.log("\uD83D\uDE80 ~ data:",s),eZ();try{"edit"==eV?(T(!0),await l.h.post("".concat(ez,"/updateData/").concat(i),s).then(e=>{S.ZP.success(D.OD.successUpdate),console.log("\uD83D\uDE80 ~ response edit email:",e),T(!1)})):"new"==eV?await l.h.post("".concat((0,D.g_)(ez),"/insertData"),s).then(e=>{eE.push("".concat((0,D.g_)(ez))),console.log("\uD83D\uDE80 ~ response new email:",e),eD(e.data),S.ZP.success(D.OD.successNew)}):S.ZP.error(D.OD.error)}catch(n){console.log("errro da fun\xe7\xe3o update/email",n)}finally{eI()}},eU=async(e,a)=>{setLoadingFileItem(!0);let o=e.target.files;if(o&&o.length>0){var t,s;let n=new FormData;for(let r=0;r<o.length;r++)n.append("files[]",o[r]);n.append("usuarioID",P.usuarioID),n.append("unidadeID",E.unidadeID),n.append("parLimpezaModeloBlocoID",null!==(t=a.parLimpezaModeloBlocoID)&&void 0!==t?t:null),n.append("itemOpcaoAnexoID",null!==(s=a.itemOpcaoAnexoID)&&void 0!==s?s:null),await l.h.post("".concat(ez,"/saveAnexo/").concat(i,"/item/").concat(P.usuarioID,"/").concat(q.unidadeID),n).then(e=>{setLoadingFileItem(!1);let a=eH();eK(a)}).catch(e=>{var a,o,t;setLoadingFileItem(!1),S.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!!!!")})}},eY=async e=>{try{var a;let o=await l.h.post("/cadastros/item/getItemConfigs",{itemID:e.itemID,alternativaItemID:null!==(a=e.alternativa.id)&&void 0!==a?a:null}),t=ei.map(a=>({...a,itens:a.itens.map(a=>a.itemID==e.itemID?{...a,respostaConfig:{...o.data}}:a)}));en(t)}catch(s){console.log("error",s)}},e$=async e=>{e&&await l.h.delete("".concat(ez,"/deleteAnexo/").concat(i,"/").concat(e.anexoID,"/").concat(q.unidadeID,"/").concat(P.usuarioID,"/item")).then(e=>{let a=eH();eK(a)}).catch(e=>{var a,o,t;S.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},e0=e=>{let a=[...ei];a.map((a,o)=>{a.itens.map((a,t)=>{eM("blocos[".concat(o,"].itens[").concat(t,"].resposta"),a.alternativas[e])})}),en(a=>a.map(a=>({...a,itens:a.itens.map(a=>({...a,resposta:a.alternativas[e]&&a.alternativas[e].id>0?a.alternativas[e]:null}))}))),k(!N);let o=eH();eK(o)};return(0,s.useEffect)(()=>{"edit"==eV&&eX()},[i,O]),(0,s.useEffect)(()=>{eJ(!1)},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{show:V}),(0,t.jsxs)("form",{onSubmit:ek(eK),children:[(0,t.jsx)(Z.Z,{btnCancel:!0,btnSave:!ec.concluido,btnSend:ec.status>=30&&!ec.concluido,btnPrint:"edit"==eV,btnDelete:ec.status<40,onclickDelete:()=>ey(!0),actionsData:eq,actions:!0,handleSubmit:()=>ek(eK),handleSend:eQ,iconConclusion:"mdi:check-bold",titleConclusion:"Concluir Formul\xe1rio",title:"Limpeza",componentSaveReport:null,btnStatus:"edit"==eV,handleBtnStatus:()=>U(!0),type:eV,status:Q}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[Q&&(0,t.jsx)(u.Z,{size:"small",skin:"light",color:Q.color,label:Q.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}}),q&&q.modelo&&(0,t.jsx)(u.Z,{size:"small",skin:"light",label:q.modelo.nome,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,t.jsxs)(m.Z,{display:"flex",flexDirection:"column",sx:{gap:6},children:[ec&&""!=ec.cabecalhoModelo&&(0,t.jsx)(x.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{variant:"subtitle1",children:ec.cabecalhoModelo})})}),q&&(0,t.jsx)(L,{recebimentoMpID:i,modelo:q.modelo,values:Y,fields:eo,getValues:eH,disabled:!ew.status,register:eL,errors:eB,setValue:eM,control:e_}),ei&&ei.map((e,a)=>(0,t.jsx)(r.Z,{index:a,blockKey:"parLimpezaModeloBlocoID",handleFileSelect:eU,setItemResposta:eY,handleRemoveAnexoItem:e$,setBlocos:en,changeAllOptions:e0,values:e,control:e_,getValues:eH,register:eL,setValue:eM,errors:null==eB?void 0:eB.blocos,disabled:!ew.status},N)),ec&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(x.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(v.ZP,{container:!0,spacing:4,children:(0,t.jsx)(v.ZP,{item:!0,xs:12,md:12,children:(0,t.jsxs)(h.Z,{fullWidth:!0,children:[(0,t.jsx)(f.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es"}),(0,t.jsx)(c.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:ec.obs,disabled:!ew.status,control:e_})]})})})})})}),q&&ee&&!ee.concluded&&(0,t.jsx)(H,{modeloID:q.modelo.id,values:ee,register:eL,disabled:!1,errors:eB,setValue:eM,control:e_}),ee&&ee.concluded&&(null===(a=ee.conclusion)||void 0===a?void 0:a.profissional)&&(0,t.jsx)(f.Z,{variant:"caption",children:"Conclu\xeddo por ".concat(ee.conclusion.profissional.nome," em ").concat(ee.conclusion.dataFim," ").concat(ee.conclusion.horaFim,".")}),ew.message&&(0,t.jsx)(g.Z,{severity:"warning",children:ew.message}),er&&(0,t.jsxs)(g.Z,{severity:"info",children:["\xdaltima movimenta\xe7\xe3o: Profissional ".concat(er.nome," do(a) ").concat(er.nomeFantasia," movimentou o formul\xe1rio de ").concat(er.statusAnterior," para ").concat(er.statusAtual," em ").concat(er.dataHora,"."),er.observacao&&(0,t.jsxs)("p",{children:[(0,t.jsx)("br",{}),'Mensagem: "',er.observacao,'"']})]}),K&&(0,t.jsx)(d.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(i," de Limpeza."),id:i,parFormularioID:4,formStatus:ec.status,hasFormPending:B,canChangeStatus:!1,openModal:K,handleClose:()=>U(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:!1}),(0,t.jsx)(w.Z,{openModal:em,handleClose(){ex(!1),eJ(!1)},title:"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:ec,canChange:!B,register:eL,setValue:eM,getValues:eH,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:eG,listErrors:ev,canApprove:!0,type:"limpeza",unity:q}),(0,t.jsx)(_.Z,{title:"Excluir Formul\xe1rio",description:"Tem certeza que deseja exluir o formulario?",params:{route:"formularios/limpeza/delete/".concat(i),messageSucceded:"Formul\xe1rio exclu\xeddo com sucesso!",MessageError:"Dado possui pend\xeancia!"},open:eC,handleClose:()=>ey(!1)})]})]})]})};var O=o(60565),T=o(30944),B=o(13529);let W=()=>{let{user:e,loggedUnity:a}=(0,s.useContext)(C.V),o=(0,b.useRouter)(),n=o.pathname,{setTitle:r}=(0,s.useContext)(O.f),{id:d}=(0,s.useContext)(I.X),{startFilter:c,setFilteredData:u,filteredData:m,setData:x}=(0,T.L0)(),p=async()=>{await l.h.get("".concat(n,"/getList/").concat(a.unidadeID,"/").concat(e.papelID,"/").concat(e.usuarioID)).then(e=>{u(e.data),x(e.data),r({title:"Limpeza",subtitle:{id:d,count:e.data.length,new:!1}})})};(0,s.useEffect)(()=>{p(),c((0,t.jsx)(B.default,{}))},[d]);let f=(0,D.OL)(n,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.1,type:"date"},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]);return(0,t.jsx)(t.Fragment,{children:m?d&&d>0?(0,t.jsx)(k,{id:d}):(0,t.jsx)(i.Z,{result:m,columns:f}):(0,t.jsx)(y.Z,{show:!0})})};var q=W}},function(e){e.O(0,[4738,4186,1445,1111,5999,8371,2187,1515,6887,5061,9525,8373,9774,2888,179],function(){return e(e.s=94156)}),_N_E=e.O()}]);