(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2752],{68374:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp",function(){return t(75600)}])},51735:function(e,a,t){"use strict";var n=t(85893),o=t(11163),i=t(67294),s=t(3404),l=t(83830);let r=e=>{let{tabs:a,headerInfoComponent:t,defaultTab:r}=e,d=(0,o.useRouter)(),u=d.query.aba||r;console.log("renderiza...",a);let{setIdNc:c}=(0,i.useContext)(l.X),[m,f]=(0,i.useState)(u),p=(e,a)=>{e.preventDefault(),a!==m&&(console.log("atualiza..."),(0,s.H)(a,d),f(a))};return(0,i.useEffect)(()=>{u!==m&&(console.log("no useeffect..."),f(u))},[u]),(0,n.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,n.jsx)("div",{className:"flex gap-2 mb-1",children:a.map(e=>(0,n.jsx)("button",{className:"py-3 px-12 border-b-2 ".concat(m===e.value?"border-[#4A8B57]":"border-transparent","\n                        ").concat(e.disabled?"cursor-not-allowed opacity-20":"cursor-pointer","\n\n                        "),onClick(a){e.disabled||(p(a,e.value),c(null))},children:(0,n.jsxs)("div",{className:"flex items-center gap-1 ",children:[e.icon&&(0,n.jsx)("div",{className:m===e.value?"text-[#4A8B57]":"",children:(0,n.jsx)(e.icon,{})}),(0,n.jsx)("p",{className:"text-[14px] ".concat(m===e.value?"text-[#4A8B57]":""),children:e.title})]})},e.value))}),t,(0,n.jsx)("div",{className:"tab-content",children:a.map(e=>(0,n.jsx)("div",{className:"tab-panel ".concat(m===e.value?"block":"hidden"),children:m===e.value&&e.content},e.value))})]})};a.Z=r},3404:function(e,a,t){"use strict";t.d(a,{H:function(){return o},n:function(){return n}});let n=(e,a)=>(null==a?void 0:a.query.aba)||e,o=(e,a)=>{a.push({pathname:a.pathname,query:{...null==a?void 0:a.query,aba:e}},void 0,{shallow:!0})}},21196:function(e,a,t){"use strict";t.r(a);var n=t(85893),o=t(67294),i=t(60664),s=t(93250),l=t(60565),r=t(40039),d=t(47842),u=t(11163),c=t(71798),m=t(30944),f=t(63067);let p=()=>{let{user:e,loggedUnity:a}=(0,o.useContext)(r.V),t=(0,u.useRouter)(),p=t.pathname,{setTitle:h}=(0,o.useContext)(l.f),{startFilter:x,setFilteredDataRecebimentoMP:b,filteredDataRecebimentoMP:N,setDataRecebimentoMP:v}=(0,m.L0)(),[j,z]=(0,o.useState)({module:"recebimento-mp",type:"open"}),y=async()=>{await i.h.post("".concat(p,"/getList"),{unidadeID:a.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID,status:j}).then(e=>{b(e.data),v(e.data),h({icon:"icon-park-outline:receive",title:"Recebimento de MP",subtitle:{id:null,count:e.data.length,new:!1}})})};(0,o.useEffect)(()=>{y(),x((0,n.jsx)(f.default,{}),!1)},[t.query,j]);let w=2==e.papelID?[{headerName:"ID",field:"id",size:.1,variant:"naoConformidade"},{headerName:"Data",field:"data",size:.1,type:"date"},{headerName:"F\xe1brica",field:"fabrica",size:.2},{headerName:"NF",field:"nf",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]:[{headerName:"ID",field:"id",size:.4,variant:"naoConformidade"},{headerName:"Data",field:"data",size:.4,type:"date"},{headerName:"Fornecedor",field:"fornecedor",size:1.5},{headerName:"NF",field:"nf",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}],g=(0,c.OL)(p,w);return(0,n.jsx)(n.Fragment,{children:N?(0,n.jsx)(s.Z,{result:N,columns:g,status:j,setStatus:z},N):(0,n.jsx)(d.Z,{show:!0})})};a.default=p},75600:function(e,a,t){"use strict";t.r(a);var n=t(85893),o=t(67294),i=t(83830),s=t(41284),l=t(11163),r=t(21609),d=t(17414),u=t(51735),c=t(21196),m=t(73796);let f=()=>{let e=(0,l.useRouter)(),{id:a}=(0,o.useContext)(i.X),t=e.query.aba||"recebimento-mp",f=[{value:"recebimento-mp",title:"Recebimento de MP",icon:()=>(0,n.jsx)(r.Z,{icon:"icon-park-outline:receive"}),content:(0,n.jsx)(c.default,{})},{value:"nao-conformidade",title:"N\xe3o Conformidade",icon:()=>(0,n.jsx)(r.Z,{icon:"typcn:warning-outline"}),content:(0,n.jsx)(s.default,{})}];return(0,n.jsx)(n.Fragment,{children:a?(0,n.jsxs)(n.Fragment,{children:["recebimento-mp"===t&&(0,n.jsx)(m.Z,{id:a,model:null}),"nao-conformidade"===t&&(0,n.jsx)(d.Z,{id:a})]}):(0,n.jsx)(u.Z,{tabs:f,defaultTab:"recebimento-mp"})})};a.default=f}},function(e){e.O(0,[4738,4186,1445,1111,5999,172,2187,137,8163,5698,3005,3698,1509,3545,3796,7414,1284,9774,2888,179],function(){return e(e.s=68374)}),_N_E=e.O()}]);