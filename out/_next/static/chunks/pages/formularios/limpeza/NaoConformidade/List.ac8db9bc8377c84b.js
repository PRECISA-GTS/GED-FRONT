(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1379],{97085:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza/NaoConformidade/List",function(){return n(15217)}])},84220:function(e,o,n){"use strict";var i=n(85893),t=n(79072),l=n(55343),a=n(35966),r=n(67836),s=n(9041),d=n(17575),c=n(80562),u=n(70918);n(53934);var m=n(62097),p=n(51514),x=n(67294),f=n(21609),h=n(83830),v=n(11163);let j=e=>{let{xs:o,md:n,title:j,options:g,name:Z,limitTags:b,required:z,disabled:N,multiple:y,onChange:C,className:I,createNew:P,helpText:S,alertRequired:_,helpTextPosition:w,opacity:k,link:M,form:T}=e,{setValue:E,getValues:L,setError:q,clearErrors:O,formState:{errors:A}}=T,D=(0,m.Z)(),{settings:X}=(0,p.r)(),{setId:F}=(0,x.useContext)(h.X),R=(0,v.useRouter)(),[V,B]=(0,x.useState)(""),W=P?[{nome:"-- Novo --"},...null!=g?g:[]]:g,G=y?W.filter(e=>{var o;return!(null===(o=L(Z))||void 0===o?void 0:o.some(o=>o.nome===e.nome))}):W,H=(e,o)=>{if(o&&"-- Novo --"===e.target.innerText)P();else{if(y){let n=Array.from(new Set(o.map(e=>e.nome))).map(e=>o.find(o=>o.nome===e));E(Z,n),C&&C(n)}else E(Z,o),C&&C(o);z&&(!o||y&&0===o.length)?q(Z,{type:"required",message:"".concat(j," \xe9 obrigat\xf3rio")}):O(Z)}},J=()=>{1===W.length&&(E(Z,W[0]),C&&C(W[0]))},K=()=>{z&&!L(Z)?q(Z,{type:"required",message:"".concat(j," \xe9 obrigat\xf3rio")}):O(Z)},Q=()=>{if(M){var e;F(null===(e=L(Z))||void 0===e?void 0:e.id),R.push(M)}};return(0,x.useEffect)(()=>{J(),K()},[]),(0,i.jsx)(t.ZP,{item:!0,xs:o,md:n,sx:{my:1},className:I,children:(0,i.jsx)(l.Z,{fullWidth:!0,children:(0,i.jsx)(a.Z,{multiple:y,limitTags:b,size:"small",options:G,getOptionLabel:e=>(null==e?void 0:e.nome)||"",value:y?L(Z)||[]:P||1!==G.length?L(Z)||null:G[0],inputValue:V,onInputChange(e,o){B(o)},disabled:N,onChange:H,renderInput(e){var o,n,t,l;return(0,i.jsx)(r.Z,{...e,label:j,placeholder:j,sx:{opacity:k?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...(z||_)&&(y?!(null===(o=L(Z))||void 0===o?void 0:o.id)||(null===(n=L(Z))||void 0===n?void 0:n.length)===0:!(null===(t=L(Z))||void 0===t?void 0:t.id))&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:D.palette.error.main},"&:hover fieldset":{borderColor:D.palette.error.main},"&.Mui-focused fieldset":{borderColor:D.palette.error.main}},"& .MuiInputLabel-root":{color:D.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:D.palette.error.main}}},InputProps:{...e.InputProps,endAdornment:(0,i.jsxs)(i.Fragment,{children:[e.InputProps.endAdornment,(0,i.jsx)(s.Z,{position:"end",children:(0,i.jsxs)(i.Fragment,{children:[S&&(0,i.jsx)(d.Z,{title:S,placement:"top",children:(0,i.jsx)(c.Z,{sx:{color:D.palette.secondary.main},className:"opacity-70",children:(0,i.jsx)(f.Z,{icon:"akar-icons:question",fontSize:16})})}),M&&(null===(l=L(Z))||void 0===l?void 0:l.id)>0&&(0,i.jsx)(d.Z,{title:"Acessar cadastro",placement:"top",children:(0,i.jsx)(c.Z,{onClick:Q,sx:{color:D.palette.secondary.main},className:"opacity-70",children:(0,i.jsx)(f.Z,{icon:"heroicons-outline:external-link",fontSize:16})})})]})})]})}})},PaperComponent(e){let{children:o}=e;return(0,i.jsx)(u.Z,{sx:{"& ul":{border:"dark"===X.mode?"1px solid rgba(".concat(D.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:o})},noOptionsText:"Sem op\xe7\xf5es"})})})};o.Z=j},12073:function(e,o,n){"use strict";var i=n(85893),t=n(79072),l=n(21609),a=n(7071);let r=e=>{var o,n;let{data:r}=e;if(r)return(0,i.jsxs)(t.ZP,{container:!0,spacing:4,children:[(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:4,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Per\xedodo da limpeza"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.Z,{icon:"tabler:calendar-check"}),(0,i.jsx)("p",{children:"".concat(r.limpeza.dataInicio," a ").concat(r.limpeza.dataFim)})]})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:6,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Setor"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(l.Z,{icon:"fluent-mdl2:map-pin-12"}),(0,i.jsx)("p",{children:r.limpeza.setor})]})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:2,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Limpeza"}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:(0,i.jsx)(a.Z,{skin:"light",label:null===(o=r.limpeza.status)||void 0===o?void 0:o.label,color:null===(n=r.limpeza.status)||void 0===n?void 0:n.color,sx:{height:28,fontSize:"0.75rem"}})})]})]})};o.Z=r},51239:function(e,o,n){"use strict";var i=n(85893),t=n(79072),l=n(12073),a=n(67294),r=n(60664),s=n(40039),d=n(84220);let c=e=>{let{form:o,type:n,data:c}=e,{loggedUnity:u}=(0,a.useContext)(s.V),[m,p]=(0,a.useState)(null),[x,f]=(0,a.useState)(null),h=async()=>{try{let e=await r.h.post("/formularios/limpeza/nao-conformidade/getModels",{unidadeID:u.unidadeID});p(e.data)}catch(o){console.log(o)}},v=async()=>{try{let e=await r.h.post("/formularios/limpeza/nao-conformidade/getLimpezaNC",{unidadeID:u.unidadeID});f(e.data)}catch(o){console.log(o)}};return(0,a.useEffect)(()=>{h(),v()},[c]),(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===n&&(0,i.jsx)(l.Z,{data:c}),(0,i.jsxs)(t.ZP,{container:!0,spacing:4,children:["list"===n&&(0,i.jsx)(d.Z,{xs:12,md:6,title:"Limpeza",name:"new.limpeza",required:!0,options:null!=x?x:[],helpText:"Selecione a limpeza e higieniza\xe7\xe3o para lan\xe7ar uma nova n\xe3o conformidade",form:o}),m&&(0,i.jsx)(d.Z,{xs:12,md:"form"===n?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",required:!0,options:null!=m?m:[],value:(null==c?void 0:c.modelo)||(null==m?void 0:m.length)===1?m[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:o})]})]})};o.Z=c},41088:function(e,o,n){"use strict";var i=n(67294),t=n(83830);let l=()=>{let{isLoading:e,setIsLoading:o}=(0,i.useContext)(t.X),n=()=>{o(!0)},l=()=>{setTimeout(()=>{o(!1)},500)};return{isLoading:e,startLoading:n,stopLoading:l}};o.Z=l}},function(e){e.O(0,[4738,172,3005,5217,9774,2888,179],function(){return e(e.s=97085)}),_N_E=e.O()}]);