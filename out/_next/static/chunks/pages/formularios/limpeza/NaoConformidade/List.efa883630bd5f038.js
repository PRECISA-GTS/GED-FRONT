(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1379],{97085:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza/NaoConformidade/List",function(){return i(15217)}])},84220:function(e,l,i){"use strict";var o=i(85893),t=i(79072),a=i(55343),n=i(35966),r=i(67836),s=i(70918),d=i(53934),c=i(62097),m=i(51514),u=i(67294);let p=e=>{let{xs:l,md:i,title:p,options:x,name:f,limitTags:h,required:v,disabled:j,multiple:g,onChange:b,className:Z,createNew:N,helpText:z,alertRequired:y,helpTextPosition:C,opacity:P,form:_}=e,{setValue:w,getValues:I,setError:M,clearErrors:S,formState:{errors:T}}=_,k=(0,c.Z)(),{settings:E}=(0,m.r)(),L=N?[{nome:"-- Novo --"},...null!=x?x:[]]:x,O=g?L.filter(e=>{var l;return!(null===(l=I(f))||void 0===l?void 0:l.some(l=>l.nome===e.nome))}):L,q=(e,l)=>{if(l&&"-- Novo --"===e.target.innerText)N();else{if(g){let i=Array.from(new Set(l.map(e=>e.nome))).map(e=>l.find(l=>l.nome===e));w(f,i),b&&b(i)}else w(f,l),b&&b(l);v&&(!l||g&&0===l.length)?M(f,{type:"required",message:"".concat(p," \xe9 obrigat\xf3rio")}):S(f)}},D=()=>{1===L.length&&(w(f,L[0]),b&&b(L[0]))},X=()=>{v&&!I(f)?M(f,{type:"required",message:"".concat(p," \xe9 obrigat\xf3rio")}):S(f)};return(0,u.useEffect)(()=>{D(),X()},[]),(0,o.jsx)(t.ZP,{item:!0,xs:l,md:i,sx:{my:1},className:Z,children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(a.Z,{fullWidth:!0,children:(0,o.jsx)(n.Z,{multiple:g,limitTags:h,size:"small",options:O,getOptionLabel:e=>(null==e?void 0:e.nome)||"",value:g?I(f)||[]:N||1!==O.length?I(f)||null:O[0],disabled:j,onChange:q,renderInput(e){var l,i,t;return(0,o.jsx)(r.Z,{...e,label:p,placeholder:p,sx:{opacity:P?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...(v||y)&&(g?!(null===(l=I(f))||void 0===l?void 0:l.id)||(null===(i=I(f))||void 0===i?void 0:i.length)===0:!(null===(t=I(f))||void 0===t?void 0:t.id))&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:k.palette.error.main},"&:hover fieldset":{borderColor:k.palette.error.main},"&.Mui-focused fieldset":{borderColor:k.palette.error.main}},"& .MuiInputLabel-root":{color:k.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:k.palette.error.main}}}})},PaperComponent(e){let{children:l}=e;return(0,o.jsx)(s.Z,{sx:{"& ul":{border:"dark"===E.mode?"1px solid rgba(".concat(k.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:l})},noOptionsText:"Sem op\xe7\xf5es"})}),z&&(0,o.jsx)("div",{className:"absolute right-[60px] top-[12px]",children:(0,o.jsx)(d.Z,{text:z,position:null!=C?C:"top"})})]})})};l.Z=p},12073:function(e,l,i){"use strict";var o=i(85893),t=i(79072),a=i(21609),n=i(7071);let r=e=>{var l,i;let{data:r}=e;if(r)return(0,o.jsxs)(t.ZP,{container:!0,spacing:4,children:[(0,o.jsxs)(t.ZP,{item:!0,xs:12,md:3,children:[(0,o.jsx)("label",{className:"opacity-60",children:"Per\xedodo da limpeza"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(a.Z,{icon:"tabler:calendar-check"}),(0,o.jsx)("p",{children:"".concat(r.limpeza.dataInicio," a ").concat(r.limpeza.dataFim)})]})]}),(0,o.jsxs)(t.ZP,{item:!0,xs:12,md:4,children:[(0,o.jsx)("label",{className:"opacity-60",children:"Setor"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(a.Z,{icon:"fluent-mdl2:map-pin-12"}),(0,o.jsx)("p",{children:r.limpeza.setor})]})]}),(0,o.jsxs)(t.ZP,{item:!0,xs:12,md:3,children:[(0,o.jsx)("label",{className:"opacity-60",children:"Modelo"}),(0,o.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,o.jsx)(a.Z,{icon:"clarity:form-line"}),(0,o.jsx)("p",{children:r.limpeza.modelo})]})]}),(0,o.jsxs)(t.ZP,{item:!0,xs:12,md:2,children:[(0,o.jsx)("label",{className:"opacity-60",children:"Limpeza"}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:(0,o.jsx)(n.Z,{skin:"light",label:null===(l=r.limpeza.status)||void 0===l?void 0:l.label,color:null===(i=r.limpeza.status)||void 0===i?void 0:i.color,sx:{height:28,fontSize:"0.75rem"}})})]})]})};l.Z=r},51239:function(e,l,i){"use strict";var o=i(85893),t=i(79072),a=i(12073),n=i(67294),r=i(60664),s=i(40039),d=i(84220);let c=e=>{let{form:l,type:i,data:c}=e,{loggedUnity:m}=(0,n.useContext)(s.V),[u,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(null),h=async()=>{try{let e=await r.h.post("/formularios/limpeza/nao-conformidade/getModels",{unidadeID:m.unidadeID});p(e.data)}catch(l){console.log(l)}},v=async()=>{try{let e=await r.h.post("/formularios/limpeza/nao-conformidade/getLimpezaNC",{unidadeID:m.unidadeID});f(e.data)}catch(l){console.log(l)}};return(0,n.useEffect)(()=>{h(),v()},[c]),(0,o.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===i&&(0,o.jsx)(a.Z,{data:c}),(0,o.jsxs)(t.ZP,{container:!0,spacing:4,children:["list"===i&&(0,o.jsx)(d.Z,{xs:12,md:6,title:"Limpeza",name:"new.limpeza",required:!0,options:null!=x?x:[],helpText:"Selecione a limpeza e higieniza\xe7\xe3o para lan\xe7ar uma nova n\xe3o conformidade",form:l}),u&&(0,o.jsx)(d.Z,{xs:12,md:"form"===i?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",required:!0,options:null!=u?u:[],value:(null==c?void 0:c.modelo)||(null==u?void 0:u.length)===1?u[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:l})]})]})};l.Z=c},41088:function(e,l,i){"use strict";var o=i(67294),t=i(83830);let a=()=>{let{isLoading:e,setIsLoading:l}=(0,o.useContext)(t.X),i=()=>{l(!0)},a=()=>{setTimeout(()=>{l(!1)},500)};return{isLoading:e,startLoading:i,stopLoading:a}};l.Z=a}},function(e){e.O(0,[4738,172,3005,5217,9774,2888,179],function(){return e(e.s=97085)}),_N_E=e.O()}]);