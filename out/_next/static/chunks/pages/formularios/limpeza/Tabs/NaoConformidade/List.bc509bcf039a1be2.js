(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3672],{79840:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza/Tabs/NaoConformidade/List",function(){return l(7113)}])},84220:function(e,t,l){"use strict";var i=l(85893),a=l(79072),o=l(55343),n=l(35966),s=l(67836),r=l(70918),c=l(53934),d=l(62097),m=l(51514),u=l(67294);let p=e=>{let{xs:t,md:l,title:p,options:x,name:h,limitTags:f,required:j,disabled:g,multiple:b,onChange:Z,className:v,createNew:z,helpText:N,alertRequired:C,helpTextPosition:_,opacity:y,form:P}=e,{setValue:k,getValues:w,setError:I,clearErrors:L,formState:{errors:M}}=P,T=(0,d.Z)(),{settings:S}=(0,m.r)(),E=z?[{nome:"-- Novo --"},...null!=x?x:[]]:x,D=(e,t)=>{t&&"-- Novo --"==e.target.innerText?z():(k(h,t),Z&&Z(t),j&&(!t||b&&0===t.length)?I(h,{type:"required",message:"".concat(p," \xe9 obrigat\xf3rio")}):L(h))},O=()=>{1===E.length&&(k(h,E[0]),Z&&Z(E[0]))};return(0,u.useEffect)(()=>{O()},[]),(0,i.jsx)(a.ZP,{item:!0,xs:t,md:l,sx:{my:1},className:v,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.Z,{fullWidth:!0,children:(0,i.jsx)(n.Z,{multiple:b,limitTags:f,size:"small",options:E,getOptionLabel:e=>(null==e?void 0:e.nome)||"",value:b?w(h)||[]:w(h)||null,disabled:g,onChange:D,renderInput:e=>(0,i.jsx)(s.Z,{...e,label:p,placeholder:p,sx:{opacity:y?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...(j||C)&&!w(h)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:T.palette.error.main},"&:hover fieldset":{borderColor:T.palette.error.main},"&.Mui-focused fieldset":{borderColor:T.palette.error.main}},"& .MuiInputLabel-root":{color:T.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:T.palette.error.main}}}}),PaperComponent(e){let{children:t}=e;return(0,i.jsx)(r.Z,{sx:{"& ul":{border:"dark"===S.mode?"1px solid rgba(".concat(T.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:t})},noOptionsText:"Sem op\xe7\xf5es"})}),N&&(0,i.jsx)("div",{className:"absolute right-[60px] top-[12px]",children:(0,i.jsx)(c.Z,{text:N,position:null!=_?_:"top"})})]})})};t.Z=p},12073:function(e,t,l){"use strict";var i=l(85893),a=l(79072),o=l(17575),n=l(11163),s=l(67294),r=l(21609),c=l(7071),d=l(40039),m=l(83830);let u=e=>{var t;let{data:l}=e;if(!l)return;let u=(0,n.useRouter)(),{user:p}=(0,s.useContext)(d.V),{setId:x}=(0,s.useContext)(m.X),h=()=>{x(l.limpeza.id),u.push("/formularios/limpeza/")};return(0,i.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,i.jsxs)(a.ZP,{item:!0,xs:12,md:4,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Setor"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(r.Z,{icon:"mdi:truck-fast-outline"}),(0,i.jsx)("p",{children:l.setor})]})]}),(0,i.jsxs)(a.ZP,{item:!0,xs:12,md:3,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Data e hora da limpeza"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(r.Z,{icon:"tabler:calendar-check"}),(0,i.jsx)("p",{children:"".concat(l.limpeza.dataLimpeza," ").concat(l.limpeza.horaLimpeza)})]})]}),(0,i.jsxs)(a.ZP,{item:!0,xs:12,md:3,children:[(0,i.jsx)("label",{className:"opacity-60",children:"NF"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,i.jsx)(r.Z,{icon:"ion:document-text-outline"}),(0,i.jsx)("p",{children:null!==(t=l.limpeza.nfRecebimentoMp)&&void 0!==t?t:"--"})]})]}),(0,i.jsxs)(a.ZP,{item:!0,xs:12,md:2,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Limpeza"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{skin:"light",label:l.limpeza.status.label,color:l.limpeza.status.color,sx:{height:28,fontSize:"0.75rem"}}),(2!=p.papelID||l.fornecedorAcessaRecebimento)&&(0,i.jsx)(o.Z,{title:"Acessar Limpeza e Higieniza\xe7\xe3o",placement:"top",children:(0,i.jsx)("div",{className:"cursor-pointer",children:(0,i.jsx)(r.Z,{icon:"ci:external-link",onClick:h})})})]})]})]})};t.Z=u},51239:function(e,t,l){"use strict";var i=l(85893),a=l(79072),o=l(12073),n=l(67294),s=l(60664),r=l(40039),c=l(84220);let d=e=>{let{form:t,type:l,data:d}=e,{loggedUnity:m}=(0,n.useContext)(r.V),[u,p]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),f=async()=>{try{let e=await s.h.post("/formularios/limpeza/nao-conformidade/getModels",{unidadeID:m.unidadeID});p(e.data)}catch(t){console.log(t)}},j=async()=>{try{let e=await s.h.post("/formularios/limpeza/nao-conformidade/getLimpezaNC",{unidadeID:m.unidadeID});h(e.data)}catch(t){console.log(t)}};return(0,n.useEffect)(()=>{f(),j()},[d]),(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===l&&(0,i.jsx)(o.Z,{data:d}),(0,i.jsxs)(a.ZP,{container:!0,spacing:4,children:["list"===l&&(0,i.jsx)(c.Z,{xs:12,md:6,title:"Limpeza",name:"new.limpeza",options:null!=x?x:[],helpText:"Selecione a limpeza e higieniza\xe7\xe3o para lan\xe7ar uma nova n\xe3o conformidade",form:t}),u&&(0,i.jsx)(c.Z,{xs:12,md:"form"===l?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",options:null!=u?u:[],value:(null==d?void 0:d.modelo)||(null==u?void 0:u.length)===1?u[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:t})]})]})};t.Z=d},41088:function(e,t,l){"use strict";var i=l(67294),a=l(83830);let o=()=>{let{isLoading:e,setIsLoading:t}=(0,i.useContext)(a.X),l=()=>{t(!0)},o=()=>{setTimeout(()=>{t(!1)},500)};return{isLoading:e,startLoading:l,stopLoading:o}};t.Z=o}},function(e){e.O(0,[4738,5206,8428,7113,9774,2888,179],function(){return e(e.s=79840)}),_N_E=e.O()}]);