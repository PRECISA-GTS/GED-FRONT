(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3672],{79840:function(e,l,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza/Tabs/NaoConformidade/List",function(){return o(7113)}])},84220:function(e,l,o){"use strict";var i=o(85893),t=o(79072),a=o(55343),n=o(35966),s=o(67836),r=o(70918),c=o(53934),d=o(62097),m=o(51514),u=o(67294);let p=e=>{let{xs:l,md:o,title:p,options:x,name:f,limitTags:h,required:j,disabled:g,multiple:v,onChange:Z,className:b,createNew:z,helpText:N,alertRequired:C,helpTextPosition:y,opacity:I,form:P}=e,{setValue:_,getValues:w,setError:M,clearErrors:k,formState:{errors:L}}=P,S=(0,d.Z)(),{settings:T}=(0,m.r)(),D=z?[{nome:"-- Novo --"},...null!=x?x:[]]:x,E=v?D.filter(e=>{var l;return!(null===(l=w(f))||void 0===l?void 0:l.some(l=>l.nome===e.nome))}):D,O=(e,l)=>{if(l&&"-- Novo --"===e.target.innerText)z();else{if(v){let o=Array.from(new Set(l.map(e=>e.nome))).map(e=>l.find(l=>l.nome===e));_(f,o),Z&&Z(o)}else _(f,l),Z&&Z(l);j&&(!l||v&&0===l.length)?M(f,{type:"required",message:"".concat(p," \xe9 obrigat\xf3rio")}):k(f)}},R=()=>{1===E.length&&(_(f,E[0]),Z&&Z(E[0]))};return(0,u.useEffect)(()=>{R()},[]),(0,i.jsx)(t.ZP,{item:!0,xs:l,md:o,sx:{my:1},className:b,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(a.Z,{fullWidth:!0,children:(0,i.jsx)(n.Z,{multiple:v,limitTags:h,size:"small",options:E,getOptionLabel:e=>(null==e?void 0:e.nome)||"",value:v?w(f)||[]:w(f)||null,disabled:g,onChange:O,renderInput(e){var l;return(0,i.jsx)(s.Z,{...e,label:p,placeholder:p,sx:{opacity:I?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...(j||C)&&(v?!w(f)||(null===(l=w(f))||void 0===l?void 0:l.length)===0:!w(f))&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:S.palette.error.main},"&:hover fieldset":{borderColor:S.palette.error.main},"&.Mui-focused fieldset":{borderColor:S.palette.error.main}},"& .MuiInputLabel-root":{color:S.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:S.palette.error.main}}}})},PaperComponent(e){let{children:l}=e;return(0,i.jsx)(r.Z,{sx:{"& ul":{border:"dark"===T.mode?"1px solid rgba(".concat(S.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:l})},noOptionsText:"Sem op\xe7\xf5es"})}),N&&(0,i.jsx)("div",{className:"absolute right-[60px] top-[12px]",children:(0,i.jsx)(c.Z,{text:N,position:null!=y?y:"top"})})]})})};l.Z=p},12073:function(e,l,o){"use strict";var i=o(85893),t=o(79072),a=o(17575),n=o(11163),s=o(67294),r=o(21609),c=o(7071),d=o(40039),m=o(83830);let u=e=>{let{data:l}=e;if(!l)return;console.log("\uD83D\uDE80 ~ LimpezaInfo:",l);let o=(0,n.useRouter)(),{user:u}=(0,s.useContext)(d.V),{setId:p}=(0,s.useContext)(m.X),x=()=>{p(l.limpeza.id),o.push("/formularios/limpeza/")};return(0,i.jsxs)(t.ZP,{container:!0,spacing:4,children:[(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:3,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Per\xedodo da limpeza"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(r.Z,{icon:"tabler:calendar-check"}),(0,i.jsx)("p",{children:"".concat(l.limpeza.dataInicio," a ").concat(l.limpeza.dataFim)})]})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:4,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Setor"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(r.Z,{icon:"fluent-mdl2:map-pin-12"}),(0,i.jsx)("p",{children:l.limpeza.setor})]})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:3,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Modelo"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,i.jsx)(r.Z,{icon:"clarity:form-line"}),(0,i.jsx)("p",{children:l.limpeza.modelo})]})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:2,children:[(0,i.jsx)("label",{className:"opacity-60",children:"Limpeza"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(c.Z,{skin:"light",label:l.limpeza.status.label,color:l.limpeza.status.color,sx:{height:28,fontSize:"0.75rem"}}),(2!=u.papelID||l.fornecedorAcessaRecebimento)&&(0,i.jsx)(a.Z,{title:"Acessar Limpeza e Higieniza\xe7\xe3o",placement:"top",children:(0,i.jsx)("div",{className:"cursor-pointer",children:(0,i.jsx)(r.Z,{icon:"ci:external-link",onClick:x})})})]})]})]})};l.Z=u},51239:function(e,l,o){"use strict";var i=o(85893),t=o(79072),a=o(12073),n=o(67294),s=o(60664),r=o(40039),c=o(84220);let d=e=>{let{form:l,type:o,data:d}=e,{loggedUnity:m}=(0,n.useContext)(r.V),[u,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(null),h=async()=>{try{let e=await s.h.post("/formularios/limpeza/nao-conformidade/getModels",{unidadeID:m.unidadeID});p(e.data)}catch(l){console.log(l)}},j=async()=>{try{let e=await s.h.post("/formularios/limpeza/nao-conformidade/getLimpezaNC",{unidadeID:m.unidadeID});f(e.data)}catch(l){console.log(l)}};return(0,n.useEffect)(()=>{h(),j()},[d]),(0,i.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===o&&(0,i.jsx)(a.Z,{data:d}),(0,i.jsxs)(t.ZP,{container:!0,spacing:4,children:["list"===o&&(0,i.jsx)(c.Z,{xs:12,md:6,title:"Limpeza",name:"new.limpeza",options:null!=x?x:[],helpText:"Selecione a limpeza e higieniza\xe7\xe3o para lan\xe7ar uma nova n\xe3o conformidade",form:l}),u&&(0,i.jsx)(c.Z,{xs:12,md:"form"===o?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",options:null!=u?u:[],value:(null==d?void 0:d.modelo)||(null==u?void 0:u.length)===1?u[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:l})]})]})};l.Z=d},41088:function(e,l,o){"use strict";var i=o(67294),t=o(83830);let a=()=>{let{isLoading:e,setIsLoading:l}=(0,i.useContext)(t.X),o=()=>{l(!0)},a=()=>{setTimeout(()=>{l(!1)},500)};return{isLoading:e,startLoading:o,stopLoading:a}};l.Z=a}},function(e){e.O(0,[4738,5206,8428,7113,9774,2888,179],function(){return e(e.s=79840)}),_N_E=e.O()}]);