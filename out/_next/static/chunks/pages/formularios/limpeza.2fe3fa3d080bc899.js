(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1132],{94156:function(e,a,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza",function(){return o(46579)}])},93250:function(e,a,o){"use strict";var t=o(85893),l=o(49837),s=o(91359),i=o(69175);let n=e=>{let{result:a,columns:o,btnNew:n=!0,btnPrint:r=!0,btnBack:d,openModal:u,modalLog:c}=e;return(0,t.jsx)(l.Z,{children:(0,t.jsx)(s.Z,{sx:{pt:"0"},children:(0,t.jsx)(i.Z,{rows:a,columns:o,modalLog:c,buttonsHeader:{btnNew:n,btnPrint:r,btnBack:d,openModal:u}})})})};a.Z=n},46905:function(e,a,o){"use strict";var t=o(85893),l=o(87536),s=o(79072),i=o(55343),n=o(67836);let r=e=>{let{xs:a,md:o,title:r,name:d,disabled:u,required:c,form:m,onChange:x}=e;return(0,t.jsx)(s.ZP,{item:!0,xs:a,md:o,children:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{fullWidth:!0,children:(0,t.jsx)(l.Qr,{name:d,control:m.control,rules:{required:c},render(e){let{field:a}=e;return(0,t.jsx)(n.Z,{label:r,value:null==a?void 0:a.value,placeholder:r,type:"date",size:"small","aria-describedby":"validation-schema-nome",disabled:u,error:!!m.formState.errors[d],onChange(e){let o=e.target.value;a.onChange(o),x&&x(o)},InputLabelProps:{shrink:!0},inputProps:{min:"1900-01-01",max:"2100-01-01"}})}})})})})};a.Z=r},55148:function(e,a,o){"use strict";var t=o(85893),l=o(79072),s=o(55343),i=o(35966),n=o(67836),r=o(87536),d=o(53934),u=o(30944);let c=e=>{let{xs:a,md:o,title:c,options:m,form:x,name:p,limitTags:f,value:v,required:h,disabled:g,multiple:b,onChange:j,className:Z,keyProps:D,createNew:I,helpText:S,helpTextPosition:y}=e,C=I?[{id:null,name:"-- Novo --"},...null!=m?m:[]]:m,{key:P}=(0,u.L0)();return(0,t.jsx)(l.ZP,{item:!0,xs:a,md:o,sx:{my:1},className:Z,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Z,{fullWidth:!0,children:(0,t.jsx)(r.Qr,{name:p,control:x.control,rules:{required:h},render(e){var a;let{field:o}=e;return(0,t.jsx)(i.Z,{options:C.map(e=>e.name),value:null!=v?v:null===(a=x.getValues(p))||void 0===a?void 0:a.name,onChange(e,a){let o=C.find(e=>e.name===a);x.setValue(p,null!=o?o:null),j&&j(a)},renderInput(e){var a;return(0,t.jsx)(n.Z,{...e,id:"customSelect",size:"small",label:c,placeholder:c,error:!!x.formState.errors[p],helperText:null===(a=x.formState.errors[p])||void 0===a?void 0:a.message})}},D||P)}})}),S&&(0,t.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,t.jsx)(d.Z,{text:S,position:null!=y?y:"top"})})]})})};a.Z=c},13529:function(e,a,o){"use strict";o.r(a);var t=o(85893),l=o(67294),s=o(46905),i=o(55148),n=o(51570),r=o(30944);let d=()=>{var e,a,o;let{form:d,setNames:u,filterDate:c,SelectFilterByName:m,data:x,setFilteredData:p,handleSearch:f,key:v}=(0,r.L0)(),{commonData:h}=(0,n.Lq)(),g=x,b=async()=>{p(g=await m(g=await m(g=await m(g=await c(g=await f(g)),"status"),"profissional"),"modelo"))};return(0,l.useEffect)(()=>{b()},[v]),(0,l.useEffect)(()=>{u(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Z,{xs:12,md:6,title:"Data inicio da avaliac\xe3o",name:"dataInicio",form:d}),(0,t.jsx)(s.Z,{xs:12,md:6,title:"Data Fim da avalia\xe7\xe3o",name:"dataFim",form:d}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Status",name:"status",form:d,options:h.status,value:null===(e=d.getValues("status"))||void 0===e?void 0:e.name}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Profissional",name:"profissional",form:d,options:h.professional,value:null===(a=d.getValues("profissional"))||void 0===a?void 0:a.name}),(0,t.jsx)(i.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(o=d.getValues("modelo"))||void 0===o?void 0:o.name,form:d,options:h.limpezaModel})]})};a.default=d},46579:function(e,a,o){"use strict";o.r(a),o.d(a,{default:function(){return G}});var t=o(85893),l=o(67294),s=o(60664),i=o(93250),n=o(87536),r=o(99734),d=o(34282),u=o(29308),c=o(7071),m=o(61953),x=o(19604),p=o(49837),f=o(91359),v=o(29630),h=o(79072),g=o(55343),b=o(11163),j=o.n(b),Z=o(64165),D=o(86887),I=o(83830),S=o(40039),y=o(86501),C=o(66136),P=o(80377),w=o(56531),F=o(50287),z=o(84220),E=o(44731);let N=e=>{var a,o,s;let{value:i}=e,{settings:n}=(0,l.useContext)(C.J6);return(0,t.jsx)(p.Z,{style:{height:"100%"},children:(0,t.jsx)(f.Z,{sx:{textAlign:"center"},children:(0,t.jsx)("div",{className:"flex flex-col items-center gap-1",children:(null==i?void 0:i.nome_)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(E.Z,{variant:"rounded",sx:{width:70,height:70},className:"p-1 ".concat("dark"===n.mode?"!bg-[#e0e0e0]":"!bg-[#f5f5f5]"),children:(0,t.jsx)("img",{src:null!==(a=null==i?void 0:i.foto)&&void 0!==a?a:"/imageDefault/factory.svg",alt:"Imagem da logo da f\xe1brica"})})}),(0,t.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:null==i?void 0:i.nome_}),(0,t.jsx)(v.Z,{variant:"subtitle2",children:null==i?void 0:i.cnpj_}),i.email?(0,t.jsx)(v.Z,{variant:"subtitle2",children:null==i?void 0:i.email}):(0,t.jsx)(v.Z,{variant:"subtitle2",color:"error",sx:{textTransform:"italic"},children:"E-mail n\xe3o informado"}),(null==i?void 0:i.telefone)&&(0,t.jsx)(v.Z,{variant:"subtitle2",children:null!==(o=null==i?void 0:i.telefone)&&void 0!==o?o:"--"}),(null==i?void 0:i.cidade)&&(0,t.jsx)(v.Z,{variant:"subtitle2",children:null!==(s=null==i?void 0:i.cidade)&&void 0!==s?s:"--"})]}):(0,t.jsx)(v.Z,{variant:"subtitle1",children:"-- Selecione um fornecedor --"})})})})};var V=o(22991);let H=e=>{var a,o,i,n,r,d,c,m;let{limpezaID:x,modelo:v,values:g,fields:b,disabled:j,register:Z,errors:D,getValues:I,setValue:y,control:C}=e,{user:P}=(0,l.useContext)(S.V),[E,H]=(0,l.useState)([]),M=async()=>{let e=await s.h.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:4,modeloID:v.id});H(e.data.preenche),_(e.data.preenche)},_=e=>{let a=P.profissionalID,o=e.find(e=>e.id===a);o&&o.id>0&&y("fieldsHeader.profissional",o)};return(0,l.useEffect)(()=>{M()},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(h.ZP,{container:!0,alignItems:"stretch",spacing:4,children:[(0,t.jsx)(h.ZP,{item:!0,xs:12,md:10,children:(0,t.jsx)(p.Z,{style:{height:"100%"},children:(0,t.jsx)(f.Z,{children:(0,t.jsxs)(h.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(h.ZP,{item:!0,xs:12,sx:{textAlign:"right"},children:(0,t.jsx)(V.Z,{data:null!==(c=null==g?void 0:g.setores)&&void 0!==c?c:[]})}),(0,t.jsx)(F.Z,{xs:12,md:2,title:"Data da abertura",name:"fieldsHeader.abertoPor.dataInicio",type:"date",value:null==g?void 0:null===(a=g.abertoPor)||void 0===a?void 0:a.dataInicio,disabled:!0,control:C}),(0,t.jsx)(u.Z,{xs:12,md:2,title:"Hora da abertura",name:"fieldsHeader.abertoPor.horaInicio",type:"time",disabled:!0,register:Z,control:C}),(0,t.jsx)(u.Z,{xs:12,md:8,title:"Profissional que abriu",name:"fieldsHeader.abertoPor.profissional.nome",value:null==g?void 0:null===(o=g.abertoPor)||void 0===o?void 0:null===(i=o.profissional)||void 0===i?void 0:i.nome,disabled:!0,register:Z,control:C}),(0,t.jsx)(F.Z,{xs:12,md:2,title:"Data da avalia\xe7\xe3o",name:"fieldsHeader.data",type:"date",value:null!==(m=null==g?void 0:g.data)&&void 0!==m?m:new Date,disabled:j,register:Z,control:C,typeValidation:"dataPassado",daysValidation:365,errors:null==D?void 0:null===(n=D.fieldsHeader)||void 0===n?void 0:n.data}),(0,t.jsx)(u.Z,{xs:12,md:2,title:"Hora da avalia\xe7\xe3o",name:"fieldsHeader.hora",type:"time",disabled:j,register:Z,control:C,errors:null==D?void 0:null===(r=D.fieldsHeader)||void 0===r?void 0:r.hora}),(0,t.jsx)(z.Z,{xs:12,md:4,title:"Profissional preenchimento",name:"fieldsHeader.profissional",type:"string",options:E,disabled:j,register:Z,setValue:y,control:C,errors:null==D?void 0:null===(d=D.fieldsHeader)||void 0===d?void 0:d.profissional}),(0,t.jsx)(w.Z,{register:Z,errors:D,getValues:I,setValue:y,control:C,fields:b,values:b,disabled:j})]})})})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:2,children:(0,t.jsx)(N,{value:null})})]})})};var M=o(41088),_=o(92629),L=o(1503),A=o(91757),k=o(934);let O=e=>{var a,o,i;let b;let{id:w}=e,{menu:F,user:z,loggedUnity:E,hasPermission:N,hasSectorPermission:V}=(0,l.useContext)(S.V),[O,T]=(0,l.useState)(!1),[B,R]=(0,l.useState)(!1),[W,q]=(0,l.useState)(!1),[X,J]=(0,l.useState)(!1),[Q,U]=(0,l.useState)(null),[G,K]=(0,l.useState)([]),[Y,$]=(0,l.useState)(null),[ee,ea]=(0,l.useState)(!1),[eo,et]=(0,l.useState)([]),[el,es]=(0,l.useState)([]),[ei,en]=(0,l.useState)([]),[er,ed]=(0,l.useState)(null),[eu,ec]=(0,l.useState)([]),[em,ex]=(0,l.useState)(null),[ep,ef]=(0,l.useState)(""),[ev,eh]=(0,l.useState)(!1),[eg,eb]=(0,l.useState)(!1),[ej,eZ]=(0,l.useState)({status:!1,errors:[]}),[eD,eI]=(0,l.useState)(null),{settings:eS}=(0,l.useContext)(C.J6),{setId:ey}=(0,l.useContext)(I.X),{isLoading:eC,startLoading:eP,stopLoading:ew}=(0,M.Z)(),[eF,ez]=(0,l.useState)(!1),{setReportParameters:eE,sendPdfToServer:eN}=(0,L.Gc)(),[eV,eH]=(0,l.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),eM=j(),e_=w&&w>0?"edit":"new",eL=eM.pathname,{reset:eA,register:ek,getValues:eO,setValue:eT,control:eB,watch:eR,handleSubmit:eW,clearErrors:eq,setError:eX,formState:{errors:eJ}}=(0,n.cI)(),eQ=()=>{ey(Q.modelo.id),eM.push("/configuracoes/formularios/limpeza/")},eU=async e=>{let a={status:30,observacao:null==e?void 0:e.obs,auth:{usuarioID:z.usuarioID,papelID:z.papelID,unidadeID:E.unidadeID}};R(!0);try{await s.h.post("".concat(eL,"/changeFormStatus/").concat(w),a).then(e=>{y.ZP.success(Z.OD.successUpdate),R(!1),manageNotifications(Y,null,null)})}catch(o){console.log(o)}finally{T(!O)}},eG={id:1,name:"Reabrir formul\xe1rio",description:"Reabrir formul\xe1rio para preenchimento.",component:(0,t.jsx)(A.Z,{}),disabled:!!X||!N(eM.pathname,"editar"),route:null,type:null,action:eU,modal:!0,size:"sm",icon:"heroicons:lock-open",identification:null},eK=[];ep.status>=40&&eK.push(eG),b=!1,F.map(e=>{e.menu.map(e=>{e.submenu&&e.submenu.length>0&&e.submenu.map(e=>{"/configuracoes/formularios"==e.rota&&(b=!0)})})}),b&&eK.push({id:5,name:"Configura\xe7\xf5es do formul\xe1rio",description:"Alterar as configura\xe7\xf5es do modelo de formul\xe1rio.",route:null,type:null,action:eQ,modal:!1,icon:"bi:gear",identification:null});let eY=async()=>{},e$=()=>{eP();try{s.h.post("".concat(eL,"/getData/").concat(w),{type:e_,profissionalID:z.profissionalID,unidadeID:E.unidadeID}).then(e=>{var a,o,t,l;console.log("getData: ",e.data),et(e.data.fieldsHeader),es(e.data.fieldsFooter),en(e.data.fields),ec(e.data.blocos),ef(e.data.info),U(e.data.unidade),ex(e.data.ultimaMovimentacao),eA(e.data);let s=Z.WR[null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(o=a.info)||void 0===o?void 0:o.status];$(s),eH({status:!!(1==z.papelID&&e.data.info.status<40&&V(null!==(l=null===(t=e.data.fieldsHeader)||void 0===t?void 0:t.setores)&&void 0!==l?l:[])),message:e.data.info.status>40?"Esse formul\xe1rio j\xe1 foi conclu\xeddo, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":e.data.info.status<40?"Formul\xe1rio aberto para preenchimento!":40==e.data.info.status?"Este formul\xe1rio est\xe1 aguardando aprova\xe7\xe3o!":null,messageType:"info"}),eY()}).catch(e=>{console.log("\uD83D\uDE80 ~ error:",e)})}catch(e){console.log("\uD83D\uDE80 ~ error:",e)}finally{ew()}},e0=()=>{eq();let e=!1,a=[];null==ei||ei.forEach((o,t)=>{let l=o.tabela?"fields[".concat(t,"].").concat(o.tabela):"fields[".concat(t,"].").concat(o.nomeColuna),s=eO(l);1!==o.obrigatorio||s||(eX(l,{type:"manual",message:"Campo obrigat\xf3rio"}),a.push(null==o?void 0:o.nomeCampo),e=!0)}),eu.forEach((o,t)=>{o.itens.forEach((o,l)=>{let s=eO("blocos[".concat(t,"].itens[").concat(l,"].resposta"));(null==o?void 0:o.obrigatorio)!==1||s||(eX("blocos[".concat(t,"].itens[").concat(l,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push(null==o?void 0:o.nome),e=!0),o.respostaConfig&&1==o.respostaConfig.anexo&&o.respostaConfig.anexosSolicitados.length>0&&o.respostaConfig.anexosSolicitados.forEach((s,i)=>{1==s.obrigatorio&&s.anexos&&0==s.anexos.length&&(eX("blocos[".concat(t,"].itens[").concat(l,"].respostaConfig.anexosSolicitados[").concat(i,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),a.push("Anexo: ".concat(null==o?void 0:o.nome," / ").concat(null==s?void 0:s.nome)),e=!0)})})}),eZ({status:e,errors:a})},e1=e=>{eI(e),e0(),eh(!0)},e3=async e=>{eh(!1),e.conclusion=!0,await eW(e5)(e)},e5=async function(e){var a,o;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===t.conclusion&&(e.concluiForm=!0,e.info.status=null!==(a=t.status)&&void 0!==a?a:ep.status,e.obsConclusao=t.obsConclusao);let l={form:e,auth:{usuarioID:z.usuarioID,profissionalID:null!==(o=z.profissionalID)&&void 0!==o?o:0,papelID:z.papelID,unidadeID:E.unidadeID}};try{"edit"==e_?await s.h.post("".concat(eL,"/updateData/").concat(w),l).then(e=>{y.ZP.success(Z.OD.successUpdate)}):"new"==e_?await s.h.post("".concat((0,Z.g_)(eL),"/insertData"),l).then(e=>{eM.push("".concat((0,Z.g_)(eL))),ey(e.data),y.ZP.success(Z.OD.successNew)}):y.ZP.error(Z.OD.error)}catch(i){console.log("errro da fun\xe7\xe3o update/email",i)}finally{!0===t.conclusion&&T(!O)}},e2=async(e,a)=>{q(!0);let o=e.target.files;if(o&&o.length>0){var t,l;let i=new FormData;for(let n=0;n<o.length;n++)i.append("files[]",o[n]);i.append("usuarioID",z.usuarioID),i.append("unidadeID",E.unidadeID),i.append("parLimpezaModeloBlocoID",null!==(t=a.parLimpezaModeloBlocoID)&&void 0!==t?t:null),i.append("itemOpcaoAnexoID",null!==(l=a.itemOpcaoAnexoID)&&void 0!==l?l:null),await s.h.post("".concat(eL,"/saveAnexo/").concat(w,"/item/").concat(z.usuarioID,"/").concat(Q.unidadeID),i).then(e=>{let a=eO();e5(a)}).catch(e=>{var a,o,t;y.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao atualizar anexo, tente novamente!!!!")}).finally(()=>{q(!1),T(!O)})}},e4=async e=>{e&&await s.h.delete("".concat(eL,"/deleteAnexo/").concat(w,"/").concat(e.anexoID,"/").concat(Q.unidadeID,"/").concat(z.usuarioID,"/item")).then(e=>{let a=eO();e5(a)}).catch(e=>{var a,o,t;y.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")}).finally(()=>{T(!O)})},e6=e=>{e.preventDefault();let a=eO();e5(a)};return(0,l.useEffect)(()=>{"edit"==e_&&e$()},[w,O]),(0,l.useEffect)(()=>{e0()},[eC]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("form",{onSubmit:e=>e6(e),children:[(0,t.jsx)(D.Z,{btnCancel:!0,btnSave:!ep.concluido,btnSend:ep.status>=30&&!ep.concluido,btnPrint:"edit"==e_,btnDelete:ep.status<40,onclickDelete:()=>ez(!0),actionsData:eK,actions:!0,handleSubmit:()=>eW(e5),handleSend:e1,iconConclusion:"mdi:check-bold",titleConclusion:"Concluir Formul\xe1rio",title:"Limpeza",componentSaveReport:null,btnStatus:"edit"==e_,handleBtnStatus:()=>ea(!0),type:e_,status:Y,setores:null!==(i=null==el?void 0:el.setores)&&void 0!==i?i:[]}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[Y&&(0,t.jsx)(c.Z,{size:"small",skin:"light",color:Y.color,label:Y.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}}),Q&&Q.modelo&&(0,t.jsx)(c.Z,{size:"small",skin:"light",label:Q.modelo.nome,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,t.jsxs)(m.Z,{display:"flex",flexDirection:"column",sx:{gap:6},children:[em&&(0,t.jsxs)(x.Z,{severity:"info",children:["\xdaltima movimenta\xe7\xe3o: Profissional ".concat(em.nome," do(a) ").concat(em.nomeFantasia," movimentou o formul\xe1rio de ").concat(em.statusAnterior," para ").concat(em.statusAtual," em ").concat(em.dataHora,"."),em.observacao&&(0,t.jsxs)("p",{children:[(0,t.jsx)("br",{}),'Mensagem: "',em.observacao,'"']})]}),ep&&""!=ep.cabecalhoModelo&&(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{children:(0,t.jsx)(v.Z,{variant:"subtitle1",children:ep.cabecalhoModelo})})}),Q&&(0,t.jsx)(H,{recebimentoMpID:w,modelo:Q.modelo,values:eo,fields:ei,getValues:eO,disabled:!eV.status,register:ek,errors:eJ,setValue:eT,control:eB}),eu&&eu.map((e,a)=>(0,t.jsx)(r.Z,{bloco:e,index:a,blockKey:"parLimpezaModeloBlocoID",setBlocos:ec,setValue:eT,blocos:eu,getValues:eO,register:ek,control:eB,disabled:!eV.status,errors:null==eJ?void 0:eJ.blocos,handleFileSelect:e2,handleRemoveAnexoItem:e4,status:ep.status})),ep&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{children:(0,t.jsx)(h.ZP,{container:!0,spacing:4,children:(0,t.jsx)(h.ZP,{item:!0,xs:12,md:12,children:(0,t.jsxs)(g.Z,{fullWidth:!0,children:[(0,t.jsx)(v.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es"}),(0,t.jsx)(u.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:ep.obs,disabled:!eV.status,control:eB})]})})})})})}),el&&el.concluded&&(null===(a=el.conclusion)||void 0===a?void 0:a.profissional)&&(0,t.jsx)(v.Z,{variant:"caption",children:"Conclu\xeddo por ".concat(el.conclusion.profissional.nome," em ").concat(el.conclusion.dataFim," ").concat(el.conclusion.horaFim,".")}),(0,t.jsx)(k.Z,{id:w,parFormularioID:4},O),ee&&(0,t.jsx)(d.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(w," de Limpeza."),id:w,parFormularioID:4,formStatus:ep.status,hasFormPending:X,canChangeStatus:!1,openModal:ee,handleClose:()=>ea(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:!1}),(0,t.jsx)(P.Z,{openModal:ev,handleClose(){eh(!1),e0()},title:"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:ep,canChange:!X,register:ek,setValue:eT,getValues:eO,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:e3,listErrors:ej,canApprove:!0,type:"limpeza",unity:Q,values:el,control:eB,formularioID:4,errors:eJ,modeloID:null==Q?void 0:null===(o=Q.modelo)||void 0===o?void 0:o.id}),(0,t.jsx)(_.Z,{title:"Excluir Formul\xe1rio",description:"Tem certeza que deseja exluir o formulario?",params:{route:"formularios/limpeza/delete/".concat(w),messageSucceded:"Formul\xe1rio exclu\xeddo com sucesso!",MessageError:"Dado possui pend\xeancia!"},open:eF,handleClose:()=>ez(!1)})]})]})]})})};var T=o(60565),B=o(47842),R=o(30944),W=o(13529),q=o(45670),X=o(8769),J=o(55050),Q=o(18661);let U=()=>{let{user:e,loggedUnity:a}=(0,l.useContext)(S.V),o=(0,b.useRouter)(),n=o.pathname,{setTitle:r}=(0,l.useContext)(T.f),{id:d}=(0,l.useContext)(I.X),{startFilter:u,setFilteredData:c,filteredData:x,setData:p}=(0,R.L0)(),f=async()=>{await s.h.get("".concat(n,"/getList/").concat(a.unidadeID,"/").concat(e.papelID,"/").concat(e.usuarioID)).then(e=>{c(e.data),p(e.data),r({title:"Limpeza e Higieniza\xe7\xe3o",subtitle:{id:d,count:e.data.length,new:!1}})})};(0,l.useEffect)(()=>{f(),u((0,t.jsx)(W.default,{}))},[d]);let v=(0,Z.OL)(n,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.1,type:"date"},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]),[h,g]=(0,l.useState)("1"),j=(e,a)=>{g(a)};return(0,t.jsx)(t.Fragment,{children:x?d&&d>0?(0,t.jsx)(O,{id:d}):(0,t.jsxs)(q.ZP,{value:h,children:[(0,t.jsx)(m.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,t.jsxs)(X.Z,{onChange:j,"aria-label":"lab API tabs example",children:[(0,t.jsx)(Q.Z,{label:"Limpeza e Higieniza\xe7\xe3o",value:"1"}),(0,t.jsx)(Q.Z,{label:"N\xe3o Conformidade",value:"2"})]})}),(0,t.jsx)(J.Z,{value:"1",children:(0,t.jsx)(i.Z,{result:x,columns:v})}),(0,t.jsx)(J.Z,{value:"2",children:"N\xe3o conformidade..."})]}):(0,t.jsx)(B.Z,{show:!0})})};var G=U}},function(e){e.O(0,[4738,4186,1445,1111,5999,5206,2187,4818,4297,6887,5061,9525,2697,9774,2888,179],function(){return e(e.s=94156)}),_N_E=e.O()}]);