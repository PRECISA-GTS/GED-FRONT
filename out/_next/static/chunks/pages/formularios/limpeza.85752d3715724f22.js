(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1132],{94156:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza",function(){return t(6530)}])},3404:function(e,a,t){"use strict";t.d(a,{H:function(){return o}});let o=(e,a)=>{a.push({pathname:a.pathname,query:{...null==a?void 0:a.query,aba:e}},void 0,{shallow:!0})}},13529:function(e,a,t){"use strict";t.r(a);var o=t(85893),n=t(67294),s=t(46905),i=t(55148),l=t(51570),d=t(30944);let r=()=>{var e,a,t;let{form:r,setNames:u,filterDate:m,SelectFilterByName:c,data:f,setFilteredData:x,handleSearch:p,key:h}=(0,d.L0)(),{commonData:j}=(0,l.Lq)(),v=f,z=async()=>{x(v=await c(v=await c(v=await c(v=await m(v=await p(v)),"status"),"profissional"),"modelo"))};return(0,n.useEffect)(()=>{z()},[h]),(0,n.useEffect)(()=>{u(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{xs:12,md:6,title:"Data inicio da avaliac\xe3o",name:"dataInicio",form:r}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Data Fim da avalia\xe7\xe3o",name:"dataFim",form:r}),(0,o.jsx)(i.Z,{xs:12,md:6,title:"Status",name:"status",form:r,options:j.status,value:null===(e=r.getValues("status"))||void 0===e?void 0:e.name}),(0,o.jsx)(i.Z,{xs:12,md:6,title:"Profissional",name:"profissional",form:r,options:j.professional,value:null===(a=r.getValues("profissional"))||void 0===a?void 0:a.name}),(0,o.jsx)(i.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(t=r.getValues("modelo"))||void 0===t?void 0:t.name,form:r,options:j.limpezaModel})]})};a.default=r},8316:function(e,a,t){"use strict";t.r(a);var o=t(85893),n=t(67294),s=t(60664),i=t(93250),l=t(60565),d=t(40039),r=t(47842),u=t(11163),m=t(71798),c=t(30944),f=t(13529);let x=()=>{let{user:e,loggedUnity:a}=(0,n.useContext)(d.V),t=(0,u.useRouter)(),x=t.pathname,{setTitle:p}=(0,n.useContext)(l.f),{startFilter:h,setFilteredDataRecebimentoMP:j,filteredDataRecebimentoMP:v,setDataRecebimentoMP:z}=(0,c.L0)(),N=async()=>{await s.h.get("".concat(x,"/getList/").concat(a.unidadeID,"/").concat(e.papelID,"/").concat(e.usuarioID)).then(e=>{j(e.data),z(e.data),p({icon:"carbon:clean",title:"Limpeza e Higieniza\xe7\xe3o",subtitle:{id:null,count:e.data.length,new:!1}})})};(0,n.useEffect)(()=>{N(),h((0,o.jsx)(f.default,{}),!1)},[t.query]);let w=(0,m.OL)(x,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.1,type:"date"},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Setor",field:"setor",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]);return(0,o.jsx)(o.Fragment,{children:v?(0,o.jsx)(i.Z,{result:v,columns:w},v):(0,o.jsx)(r.Z,{show:!0})})};a.default=x},7113:function(e,a,t){"use strict";t.r(a);var o=t(85893),n=t(67294),s=t(60664),i=t(93250),l=t(60565),d=t(40039),r=t(47842),u=t(11163),m=t(71798),c=t(30944),f=t(13529),x=t(72819),p=t(78432),h=t(87536),j=t(83830);let v=()=>{let{user:e,loggedUnity:a}=(0,n.useContext)(d.V),t=(0,u.useRouter)(),{setModelID:v,setRecebimentoMpID:z}=(0,n.useContext)(j.X),N=t.pathname,{setTitle:w}=(0,n.useContext)(l.f),{startFilter:g,setFilteredDataRecebimentoMP:b,filteredDataRecebimentoMP:Z,setDataRecebimentoMP:D}=(0,c.L0)(),[I,y]=(0,n.useState)(!1),C=(0,h.cI)({mode:"onChange"}),_=async()=>{await s.h.post("/formularios/recebimento-mp/nao-conformidade/getList",{unidadeID:a.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID}).then(e=>{b(e.data),D(e.data),w({title:"N\xe3o Conformidades do Recebimento de MP",icon:"typcn:warning-outline",subtitle:{id:null,count:e.data.length,new:!1}})})},E=()=>{let e=C.getValues("new");z(e.recebimento.id),v(e.modelo.id),t.push("/formularios/recebimento-mp/novo/?aba=nao-conformidade")};(0,n.useEffect)(()=>{_(),g((0,o.jsx)(f.default,{}),!1)},[t.query]);let L=(0,m.OL)(N,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.7,type:"date"},{headerName:"Recebimento de MP",field:"recebimentoMpID",size:1},{headerName:"Fornecedor",field:"fornecedor",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]);return(0,o.jsxs)(o.Fragment,{children:[Z?(0,o.jsx)(i.Z,{result:Z,columns:L,btnNew:!1,btnNewModal:1===e.papelID,handleNewModal:()=>y(!0)},Z):(0,o.jsx)(r.Z,{show:!0}),(0,o.jsx)(x.Z,{title:"Nova N\xe3o Conformidade",handleConclusion:E,size:"lg",setOpenModal:y,openModal:I,children:(0,o.jsx)(p.Z,{form:C,type:"list",data:null})})]})};a.default=v},6530:function(e,a,t){"use strict";t.r(a);var o=t(85893),n=t(45670),s=t(8769),i=t(55050),l=t(61953),d=t(18661),r=t(67294),u=t(83830),m=t(8316),c=t(4665),f=t(7113),x=t(11163),p=t(21609),h=t(19624),j=t(3404);let v=()=>{let e=(0,x.useRouter)(),{id:a}=(0,r.useContext)(u.X),[t,v]=(0,r.useState)("limpeza"),z=(a,t)=>{v(t),(0,j.H)(t,e)},N=()=>e.query.aba||"limpeza";return(0,r.useEffect)(()=>{v(N())},[e.query.aba]),(0,o.jsx)(o.Fragment,{children:a?(0,o.jsxs)(o.Fragment,{children:["limpeza"===N()&&(0,o.jsx)(c.Z,{id:a,modelID:null}),"nao-conformidade"===N()&&(0,o.jsx)(h.Z,{id:a})]}):(0,o.jsxs)(n.ZP,{value:t,children:[(0,o.jsx)(l.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,o.jsxs)(s.Z,{onChange:z,children:[(0,o.jsx)(d.Z,{label:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(p.Z,{icon:"carbon:clean"}),(0,o.jsx)("p",{children:"Limpeza e Higieniza\xe7\xe3o"})]}),value:"limpeza",sx:{textTransform:"none",fontSize:"1rem"}}),(0,o.jsx)(d.Z,{label:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(p.Z,{icon:"typcn:warning-outline"}),(0,o.jsx)("p",{children:"N\xe3o Conformidade"})]}),value:"nao-conformidade",sx:{textTransform:"none",fontSize:"1rem"}})]})}),(0,o.jsx)(i.Z,{value:"limpeza",children:(0,o.jsx)(m.default,{})}),(0,o.jsx)(i.Z,{value:"nao-conformidade",children:(0,o.jsx)(f.default,{})})]})})};a.default=v}},function(e){e.O(0,[4738,4186,1445,1111,5999,5206,2187,137,4297,2477,8428,15,4665,7397,4100,5746,9774,2888,179],function(){return e(e.s=94156)}),_N_E=e.O()}]);