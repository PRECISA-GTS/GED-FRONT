(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1421],{5071:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp/novo",function(){return o(7224)}])},7224:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return v}});var n=o(85893),i=o(73113),l=o(61953),r=o(54225),a=o(79072),s=o(86501);o(47842),o(84220);var u=o(83830),c=o(40039);o(86887);var d=o(66136),m=o(87536),f=o(21609),p=o(67294),h=o(60664),x=o(11163),D=o.n(x),b=o(24527);let g=()=>{let{user:e,loggedUnity:t}=(0,p.useContext)(c.V),{setId:o}=(0,p.useContext)(u.X),[x,g]=(0,p.useState)(null),[_,j]=(0,p.useState)([]),[v,w]=(0,p.useState)(!1),I=D(),{settings:y}=(0,p.useContext)(d.J6);y.mode;let{reset:C,register:E,getValues:k,setValue:Z,control:N,watch:P,handleSubmit:S,clearErrors:M,setError:X,formState:{errors:O}}=(0,m.cI)(),T=async n=>{try{let i={model:n.model,profissionalID:e.profissionalID,usuarioID:e.usuarioID,unidadeID:t.unidadeID},l=await h.hi.post("/formularios/recebimento-mp/insertData",i);l&&(s.ZP.success("Novo formul\xe1rio criado!"),o(l.data.recebimentoMpID),I.push("/formularios/recebimento-mp/"))}catch(r){console.log(r)}},z=async()=>{try{w(!0);let e=await h.hi.get("/formularios/recebimento-mp/getModels/".concat(t.unidadeID));1===e.data.length?(F(e.data[0].id),g(e.data[0].id)):(j(e.data),w(!1))}catch(o){console.log(o)}},F=e=>{console.log("\uD83D\uDE80 ~ modelID:",e),g(e)},J=async e=>{try{F(e)}catch(t){console.log(t)}};return(0,p.useEffect)(()=>{z()},[]),(0,n.jsxs)(n.Fragment,{children:[x&&(0,n.jsx)(i.Z,{id:null,model:x}),!x&&(0,n.jsx)("form",{onSubmit:S(T),children:(0,n.jsxs)(l.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,n.jsx)("div",{children:(0,n.jsx)(r.Z,{onClick(){o(null),I.push("/formularios/recebimento-mp/")},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,n.jsx)(f.Z,{icon:"grommet-icons:form-previous-link"})})}),(0,n.jsx)(a.ZP,{container:!0,spacing:4,children:_&&_.length>1&&_.map((e,t)=>(0,n.jsx)(b.Z,{xs:12,md:3,icon:"fluent:form-multiple-48-regular",title:e.nome,action:"new",subtitle:"Ciclo de ".concat(e.ciclo," dias"),handleClick:()=>J(e.id)},t))})]})})]})};var _=o(60565);let j=()=>{let{setTitle:e}=(0,p.useContext)(_.f);return(0,p.useEffect)(()=>{e({title:"Recebimento de Mat\xe9ria Prima",subtitle:{id:null,count:null,new:!0}})},[]),(0,n.jsx)(g,{})};var v=j}},function(e){e.O(0,[4186,1445,1111,5999,2187,1515,44,6887,5061,2697,6545,3113,9774,2888,179],function(){return e(e.s=5071)}),_N_E=e.O()}]);