(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5842],{63674:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp/Tabs/NaoConformidade/List",function(){return o(41284)}])},84220:function(e,t,o){"use strict";var n=o(85893),i=o(79072),l=o(55343),r=o(35966),s=o(67836),a=o(70918),c=o(53934),d=o(62097),m=o(51514),u=o(67294);let x=e=>{let{xs:t,md:o,title:x,options:p,name:f,limitTags:h,required:b,disabled:j,multiple:v,onChange:g,className:Z,createNew:N,helpText:M,alertRequired:C,helpTextPosition:P,opacity:y,form:R}=e,{setValue:_,getValues:w,setError:k,clearErrors:I,formState:{errors:T}}=R,S=(0,d.Z)(),{settings:E}=(0,m.r)(),D=N?[{nome:"-- Novo --"},...null!=p?p:[]]:p,O=v?D.filter(e=>{var t;return!(null===(t=w(f))||void 0===t?void 0:t.some(t=>t.nome===e.nome))}):D,L=(e,t)=>{if(t&&"-- Novo --"===e.target.innerText)N();else{if(v){let o=Array.from(new Set(t.map(e=>e.nome))).map(e=>t.find(t=>t.nome===e));_(f,o),g&&g(o)}else _(f,t),g&&g(t);b&&(!t||v&&0===t.length)?k(f,{type:"required",message:"".concat(x," \xe9 obrigat\xf3rio")}):I(f)}},X=()=>{1===O.length&&(_(f,O[0]),g&&g(O[0]))};return(0,u.useEffect)(()=>{X()},[]),(0,n.jsx)(i.ZP,{item:!0,xs:t,md:o,sx:{my:1},className:Z,children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(l.Z,{fullWidth:!0,children:(0,n.jsx)(r.Z,{multiple:v,limitTags:h,size:"small",options:O,getOptionLabel:e=>(null==e?void 0:e.nome)||"",value:v?w(f)||[]:w(f)||null,disabled:j,onChange:L,renderInput(e){var t;return(0,n.jsx)(s.Z,{...e,label:x,placeholder:x,sx:{opacity:y?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...(b||C)&&(v?!w(f)||(null===(t=w(f))||void 0===t?void 0:t.length)===0:!w(f))&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:S.palette.error.main},"&:hover fieldset":{borderColor:S.palette.error.main},"&.Mui-focused fieldset":{borderColor:S.palette.error.main}},"& .MuiInputLabel-root":{color:S.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:S.palette.error.main}}}})},PaperComponent(e){let{children:t}=e;return(0,n.jsx)(a.Z,{sx:{"& ul":{border:"dark"===E.mode?"1px solid rgba(".concat(S.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:t})},noOptionsText:"Sem op\xe7\xf5es"})}),M&&(0,n.jsx)("div",{className:"absolute right-[60px] top-[12px]",children:(0,n.jsx)(c.Z,{text:M,position:null!=P?P:"top"})})]})})};t.Z=x},78432:function(e,t,o){"use strict";var n=o(85893),i=o(79072),l=o(18194),r=o(67294),s=o(60664),a=o(40039),c=o(84220);let d=e=>{let{form:t,type:o,data:d}=e,{loggedUnity:m}=(0,r.useContext)(a.V),[u,x]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),h=async()=>{try{let e=await s.h.post("/formularios/recebimento-mp/nao-conformidade/getModels",{unidadeID:m.unidadeID});x(e.data)}catch(t){console.log(t)}},b=async()=>{try{let e=await s.h.post("/formularios/recebimento-mp/nao-conformidade/getRecebimentoMPNC",{unidadeID:m.unidadeID});f(e.data)}catch(t){console.log(t)}};return(0,r.useEffect)(()=>{h(),b()},[d]),(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===o&&(0,n.jsx)(l.Z,{data:d}),(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:["list"===o&&(0,n.jsx)(c.Z,{xs:12,md:6,title:"Recebimento de MP",name:"new.recebimento",options:null!=p?p:[],helpText:"Selecione o Recebimento de MP para lan\xe7ar uma nova n\xe3o conformidade",form:t}),u&&(0,n.jsx)(c.Z,{xs:12,md:"form"===o?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",options:null!=u?u:[],value:(null==d?void 0:d.modelo)||(null==u?void 0:u.length)===1?u[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:t})]})]})};t.Z=d},18194:function(e,t,o){"use strict";var n=o(85893),i=o(79072),l=o(17575),r=o(11163),s=o(67294),a=o(21609),c=o(7071),d=o(40039),m=o(83830);let u=e=>{var t;let{data:o}=e;if(!o)return;let u=(0,r.useRouter)(),{user:x}=(0,s.useContext)(d.V),{setId:p}=(0,s.useContext)(m.X),f=()=>{p(o.recebimento.id),u.push("/formularios/recebimento-mp/")};return(0,n.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,n.jsxs)(i.ZP,{item:!0,xs:12,md:4,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Fornecedor"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.Z,{icon:"mdi:truck-fast-outline"}),(0,n.jsx)("p",{children:o.recebimento.fornecedor})]})]}),(0,n.jsxs)(i.ZP,{item:!0,xs:12,md:3,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Data e hora do recebimento"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.Z,{icon:"tabler:calendar-check"}),(0,n.jsx)("p",{children:"".concat(o.recebimento.dataRecebimentoMp," ").concat(o.recebimento.horaRecebimentoMp)})]})]}),(0,n.jsxs)(i.ZP,{item:!0,xs:12,md:3,children:[(0,n.jsx)("label",{className:"opacity-60",children:"NF"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,n.jsx)(a.Z,{icon:"ion:document-text-outline"}),(0,n.jsx)("p",{children:null!==(t=o.recebimento.nfRecebimentoMp)&&void 0!==t?t:"--"})]})]}),(0,n.jsxs)(i.ZP,{item:!0,xs:12,md:2,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Recebimento"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Z,{skin:"light",label:o.recebimento.status.label,color:o.recebimento.status.color,sx:{height:28,fontSize:"0.75rem"}}),(2!=x.papelID||o.fornecedorAcessaRecebimento)&&(0,n.jsx)(l.Z,{title:"Acessar Recebimento de MP",placement:"top",children:(0,n.jsx)("div",{className:"cursor-pointer",children:(0,n.jsx)(a.Z,{icon:"ci:external-link",onClick:f})})})]})]})]})};t.Z=u},41088:function(e,t,o){"use strict";var n=o(67294),i=o(83830);let l=()=>{let{isLoading:e,setIsLoading:t}=(0,n.useContext)(i.X),o=()=>{t(!0)},l=()=>{setTimeout(()=>{t(!1)},500)};return{isLoading:e,startLoading:o,stopLoading:l}};t.Z=l}},function(e){e.O(0,[4738,5206,8428,1284,9774,2888,179],function(){return e(e.s=63674)}),_N_E=e.O()}]);