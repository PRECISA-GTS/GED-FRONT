(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5842],{63674:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp/Tabs/NaoConformidade/List",function(){return t(41284)}])},84220:function(e,o,t){"use strict";var n=t(85893),l=t(79072),r=t(55343),i=t(35966),s=t(67836),a=t(70918),c=t(87536),d=t(53934),m=t(62097),u=t(51514);let x=e=>{var o,t;let{form:x,xs:p,md:f,title:h,options:b,name:j,limitTags:v,value:Z,required:g,disabled:N,multiple:M,onChange:C,className:P,createNew:R,helpText:_,alertRequired:y,helpTextPosition:k,opacity:w}=e,I=(0,m.Z)(),{settings:T}=(0,u.r)(),E=R?[{nome:"-- Novo --"},...null!=b?b:[]]:b,S=j.split(".").reduce((e,o)=>null==e?void 0:e[o],null==x?void 0:null===(o=x.formState)||void 0===o?void 0:o.errors),D=Boolean(S);return(0,n.jsx)(l.ZP,{item:!0,xs:p,md:f,sx:{my:1},className:P,children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(r.Z,{fullWidth:!0,children:(0,n.jsx)(c.Qr,{name:j,control:x.control,defaultValue:Z,rules:{required:g},render(e){let{field:o}=e;return(0,n.jsx)(i.Z,{...o,multiple:M,limitTags:v,size:"small",options:E,getOptionLabel:e=>null==e?void 0:e.nome,value:M&&o.value&&o.value.length>0?o.value.map(e=>b.find(o=>o.id===e.id)):null!==(t=o.value)&&void 0!==t?t:{nome:""},disabled:N,onChange(e,o){o&&"-- Novo --"==e.target.innerText?R():(C&&C(o),x.setValue(j,o),o?x.clearErrors(j):x.setError(j,{type:"required",message:"".concat(h," \xe9 obrigat\xf3rio")}))},renderInput:e=>(0,n.jsx)(s.Z,{...e,label:h,placeholder:h,error:D,sx:{opacity:w?.4:1,"& .MuiInputBase-input":{padding:"4px 14px !important"},...y&&!(null==o?void 0:o.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:I.palette.error.main},"&:hover fieldset":{borderColor:I.palette.error.main},"&.Mui-focused fieldset":{borderColor:I.palette.error.main}},"& .MuiInputLabel-root":{color:I.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:I.palette.error.main}}}}),PaperComponent(e){let{children:o}=e;return(0,n.jsx)(a.Z,{sx:{"& ul":{border:"dark"==T.mode?"1px solid rgba(".concat(I.palette.customColors.main,", 0.32)"):"null",borderRadius:"8px"}},children:o})},noOptionsText:"Sem op\xe7\xf5es"})}})}),_&&(0,n.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,n.jsx)(d.Z,{text:_,position:null!=k?k:"top"})})]})})};o.Z=x},78432:function(e,o,t){"use strict";var n=t(85893),l=t(79072),r=t(18194),i=t(67294),s=t(60664),a=t(40039),c=t(84220);let d=e=>{let{form:o,type:t,data:d}=e,{loggedUnity:m}=(0,i.useContext)(a.V),[u,x]=(0,i.useState)(null),[p,f]=(0,i.useState)(null),h=async()=>{try{let e=await s.h.post("/formularios/recebimento-mp/nao-conformidade/getModels",{unidadeID:m.unidadeID});x(e.data)}catch(o){console.log(o)}},b=async()=>{try{let e=await s.h.post("/formularios/recebimento-mp/nao-conformidade/getRecebimentoMPNC",{unidadeID:m.unidadeID});f(e.data)}catch(o){console.log(o)}};return(0,i.useEffect)(()=>{h(),b()},[d]),(0,n.jsxs)("div",{className:"flex flex-col gap-8",children:["form"===t&&(0,n.jsx)(r.Z,{data:d}),(0,n.jsxs)(l.ZP,{container:!0,spacing:4,children:["list"===t&&(0,n.jsx)(c.Z,{xs:12,md:6,title:"Recebimento de MP",name:"new.recebimento",options:null!=p?p:[],helpText:"Selecione o Recebimento de MP para lan\xe7ar uma nova n\xe3o conformidade",form:o}),u&&(0,n.jsx)(c.Z,{xs:12,md:"form"===t?12:6,title:"Modelo de formul\xe1rio",name:"new.modelo",options:null!=u?u:[],value:(null==d?void 0:d.modelo)||(null==u?void 0:u.length)===1?u[0]:{nome:""},helpText:"Selecione um modelo de formul\xe1rio para o preenchimento desta n\xe3o conformidade para este Recebimento de MP",form:o})]})]})};o.Z=d},18194:function(e,o,t){"use strict";var n=t(85893),l=t(79072),r=t(17575),i=t(11163),s=t(67294),a=t(21609),c=t(7071),d=t(40039),m=t(83830);let u=e=>{let{data:o}=e;if(!o)return;let t=(0,i.useRouter)(),{user:u}=(0,s.useContext)(d.V),{setId:x}=(0,s.useContext)(m.X),p=()=>{x(o.recebimento.id),t.push("/formularios/recebimento-mp/")};return(0,n.jsxs)(l.ZP,{container:!0,spacing:4,children:[(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:4,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Fornecedor"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.Z,{icon:"mdi:truck-fast-outline"}),(0,n.jsx)("p",{children:o.recebimento.fornecedor})]})]}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:3,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Data e hora do recebimento"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.Z,{icon:"tabler:calendar-check"}),(0,n.jsx)("p",{children:"".concat(o.recebimento.dataRecebimentoMp," ").concat(o.recebimento.horaRecebimentoMp)})]})]}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:3,children:[(0,n.jsx)("label",{className:"opacity-60",children:"NF"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,n.jsx)(a.Z,{icon:"ion:document-text-outline"}),(0,n.jsx)("p",{children:o.recebimento.nfRecebimentoMp})]})]}),(0,n.jsxs)(l.ZP,{item:!0,xs:12,md:2,children:[(0,n.jsx)("label",{className:"opacity-60",children:"Recebimento"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Z,{skin:"light",label:o.recebimento.status.label,color:o.recebimento.status.color,sx:{height:28,fontSize:"0.75rem"}}),(2!=u.papelID||o.fornecedorAcessaRecebimento)&&(0,n.jsx)(r.Z,{title:"Acessar Recebimento de MP",placement:"top",children:(0,n.jsx)("div",{className:"cursor-pointer",children:(0,n.jsx)(a.Z,{icon:"ci:external-link",onClick:p})})})]})]})]})};o.Z=u},41088:function(e,o,t){"use strict";var n=t(67294),l=t(83830);let r=()=>{let{isLoading:e,setIsLoading:o}=(0,n.useContext)(l.X),t=()=>{o(!0)},r=()=>{setTimeout(()=>{o(!1)},500)};return{isLoading:e,startLoading:t,stopLoading:r}};o.Z=r}},function(e){e.O(0,[4738,5206,8428,1284,9774,2888,179],function(){return e(e.s=63674)}),_N_E=e.O()}]);