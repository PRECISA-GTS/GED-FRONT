(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6031],{77434:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/limpeza copy",function(){return t(74507)}])},48836:function(e,a,t){"use strict";t.r(a);var i=t(85893),o=t(67294),n=t(46905),s=t(55148),l=t(51570),d=t(30944);let u=()=>{var e,a,t;let{form:u,setNames:r,filterDate:m,SelectFilterByName:c,data:f,setFilteredData:p,handleSearch:x,key:h}=(0,d.L0)(),{commonData:z}=(0,l.Lq)(),j=f,w=async()=>{p(j=await c(j=await c(j=await c(j=await m(j=await x(j)),"status"),"profissional"),"modelo"))};return(0,o.useEffect)(()=>{w()},[h]),(0,o.useEffect)(()=>{r(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Z,{xs:12,md:6,title:"Data inicio da avaliac\xe3o",name:"dataInicio",form:u}),(0,i.jsx)(n.Z,{xs:12,md:6,title:"Data Fim da avalia\xe7\xe3o",name:"dataFim",form:u}),(0,i.jsx)(s.Z,{xs:12,md:6,title:"Status",name:"status",form:u,options:z.status,value:null===(e=u.getValues("status"))||void 0===e?void 0:e.name}),(0,i.jsx)(s.Z,{xs:12,md:6,title:"Profissional",name:"profissional",form:u,options:z.professional,value:null===(a=u.getValues("profissional"))||void 0===a?void 0:a.name}),(0,i.jsx)(s.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(t=u.getValues("modelo"))||void 0===t?void 0:t.name,form:u,options:z.limpezaModel})]})};a.default=u},98043:function(e,a,t){"use strict";t.r(a);var i=t(85893),o=t(67294),n=t(60664),s=t(93250),l=t(60565),d=t(40039),u=t(47842),r=t(11163),m=t(71798),c=t(30944),f=t(48836);let p=()=>{let{user:e,loggedUnity:a}=(0,o.useContext)(d.V),t=(0,r.useRouter)(),p=t.pathname,{setTitle:x}=(0,o.useContext)(l.f),{startFilter:h,setFilteredDataRecebimentoMP:z,filteredDataRecebimentoMP:j,setDataRecebimentoMP:w}=(0,c.L0)(),[N,D]=(0,o.useState)({module:"limpeza",type:"open"}),I=async()=>{await n.h.post("".concat(p,"/getList"),{unidadeID:a.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID,status:N}).then(e=>{z(e.data),w(e.data),x({icon:"carbon:clean",title:"Limpeza e Higieniza\xe7\xe3o",subtitle:{id:null,count:e.data.length,new:!1}})})};(0,o.useEffect)(()=>{I(),h((0,i.jsx)(f.default,{}),!1)},[t.query,N]);let g=(0,m.OL)(p,[{headerName:"ID",field:"id",size:.4,variant:"naoConformidade"},{headerName:"Data Inicial",field:"dataInicio",size:.4,type:"date"},{headerName:"Data Final",field:"dataFim",size:.4,type:"date"},{headerName:"Setor",field:"setor",size:1},{headerName:"Modelo",field:"modelo",size:1},{headerName:"Tipo",field:"limpezaHigienizacao",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:.5,type:"statusSteps"}]);return(0,i.jsx)(i.Fragment,{children:j?(0,i.jsx)(s.Z,{result:j,columns:g,status:N,setStatus:D},j):(0,i.jsx)(u.Z,{show:!0})})};a.default=p},95769:function(e,a,t){"use strict";t.r(a);var i=t(85893),o=t(67294),n=t(60664),s=t(93250),l=t(60565),d=t(40039),u=t(47842),r=t(11163),m=t(71798),c=t(30944),f=t(48836),p=t(72819),x=t(51239),h=t(87536),z=t(83830);let j=()=>{let{user:e,loggedUnity:a}=(0,o.useContext)(d.V),t=(0,r.useRouter)(),{setModelID:j,setLimpezaID:w}=(0,o.useContext)(z.X),N=t.pathname,{setTitle:D}=(0,o.useContext)(l.f),{startFilter:I,setFilteredDataLimpeza:g,filteredDataLimpeza:v,setDataLimpeza:y}=(0,c.L0)(),[Z,C]=(0,o.useState)(!1),[b,L]=(0,o.useState)({module:"limpeza-nao-conformidade",type:"open"}),_=(0,h.cI)({mode:"onChange"}),S=async()=>{await n.h.post("/formularios/limpeza/nao-conformidade/getList",{unidadeID:a.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID,status:b}).then(e=>{g(e.data),y(e.data),D({title:"N\xe3o Conformidades da Limpeza e Higieniza\xe7\xe3o",icon:"typcn:warning-outline",subtitle:{id:null,count:e.data.length,new:!1}})})},E=e=>{w(e.new.limpeza.id),j(e.new.modelo.id),t.push("/formularios/limpeza/novo/?aba=nao-conformidade")};(0,o.useEffect)(()=>{S(),I((0,i.jsx)(f.default,{}),!1)},[t.query,b]);let F=(0,m.OL)(N,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.7,type:"date"},{headerName:"Limpeza e Higieniza\xe7\xe3o",field:"limpezaID",size:1},{headerName:"Equipamentos",field:"equipamentos",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]);return(0,i.jsxs)(i.Fragment,{children:[v?(0,i.jsx)(s.Z,{result:v,columns:F,btnNew:!1,btnNewModal:1===e.papelID,handleNewModal:()=>C(!0),status:b,setStatus:L},v):(0,i.jsx)(u.Z,{show:!0}),(0,i.jsx)(p.Z,{title:"Nova N\xe3o Conformidade",handleConclusion:E,size:"lg",setOpenModal:C,openModal:Z,form:_,children:(0,i.jsx)(x.Z,{form:_,type:"list",data:null})})]})};a.default=j},74507:function(e,a,t){"use strict";t.r(a);var i=t(85893),o=t(67294),n=t(83830),s=t(98043),l=t(89604),d=t(95769),u=t(11163),r=t(21609),m=t(93598),c=t(51735);let f=()=>{let e=(0,u.useRouter)(),{id:a}=(0,o.useContext)(n.X),t=e.query.aba||"limpeza",f=[{value:"limpeza",title:"Limpeza e Higieniza\xe7\xe3o",icon:()=>(0,i.jsx)(r.Z,{icon:"carbon:clean"}),content:(0,i.jsx)(s.default,{})},{value:"nao-conformidade",title:"N\xe3o Conformidade",icon:()=>(0,i.jsx)(r.Z,{icon:"typcn:warning-outline"}),content:(0,i.jsx)(d.default,{})}];return(0,i.jsx)(i.Fragment,{children:a?(0,i.jsxs)(i.Fragment,{children:["limpeza"===t&&(0,i.jsx)(l.Z,{id:a,modelID:null}),"nao-conformidade"===t&&(0,i.jsx)(m.Z,{id:a})]}):(0,i.jsx)(c.Z,{tabs:f,defaultTab:"limpeza"})})};a.default=f}},function(e){e.O(0,[4738,4186,1445,1111,5999,172,2187,137,5698,3005,3698,5501,7113,2121,9774,2888,179],function(){return e(e.s=77434)}),_N_E=e.O()}]);