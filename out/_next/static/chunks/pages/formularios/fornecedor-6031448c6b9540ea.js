(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7463],{59424:function(e,a,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/fornecedor",function(){return o(77735)}])},77993:function(e,a,o){"use strict";o.d(a,{Z:function(){return P}});var t=o(85893),i=o(11163),l=o.n(i),n=o(67294),s=o(60565),r=o(83830),d=o(40039),c=o(60664),u=o(49837),m=o(91359),x=o(79072),p=o(29630),f=o(54225),h=o(21609),v=o(87536),g=o(86501),j=o(45061),D=o(47842),I=o(86887),b=o(64165),Z=o(41088),y=o(84220),S=o(29308),C=o(67569),F=o(88475);let N=e=>{let{getValues:a,removeItem:o,control:i,register:l,errors:n,type:s}=e;return a("items")&&a("items").map((e,a)=>{var r,d,c,u;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Z,{xs:12,md:3,title:"Nome",name:"items[".concat(a,"].nome"),required:!0,control:i,errors:null==n?void 0:null===(r=n.items)||void 0===r?void 0:null===(d=r[a])||void 0===d?void 0:d.nome}),(0,t.jsx)(S.Z,{xs:12,md:6,title:"Descri\xe7\xe3o",name:"items[".concat(a,"].descricao"),required:!1,control:i,errors:null==n?void 0:null===(c=n.items)||void 0===c?void 0:null===(u=c[a])||void 0===u?void 0:u.descricao}),(0,t.jsx)(C.Z,{xs:4,md:1,title:"Ativo",index:a,name:"items[".concat(a,"].status"),value:e.status,typePage:s,register:l}),(0,t.jsx)(C.Z,{xs:4,md:1,title:"Obrigat\xf3rio",index:a,name:"items[".concat(a,"].obrigatorio"),value:e.obrigatorio,typePage:s,register:l}),(0,t.jsx)(F.Z,{xs:4,md:1,title:"Remover",index:a,removeItem:o,item:e,pending:e.hasPending,textSuccess:"Remover este item",textError:"Este item n\xe3o pode mais ser removido pois possui anexo vinculado a ele"})]})})},w=e=>{var a,o,i,F;let{id:w,btnClose:P,handleConfirmNew:A,handleModalClose:E,newChange:z,manualUrl:R,outsideID:q}=e,{setId:k}=(0,n.useContext)(r.X),M=l(),[O,H]=(0,n.useState)(null),[V,T]=(0,n.useState)(!1),L=w&&w>0?"edit":"new",_=M.pathname,{title:G}=(0,n.useContext)(s.f),{loggedUnity:U,user:B}=(0,n.useContext)(d.V),[Q,J]=(0,n.useState)(!1),[X,W]=(0,n.useState)([]),[K,Y]=(0,n.useState)(!1),{startLoading:$,stopLoading:ee}=(0,Z.Z)(),{trigger:ea,handleSubmit:eo,setValue:et,reset:ei,getValues:el,control:en,formState:{errors:es},register:er}=(0,v.cI)({mode:"onChange"}),ed=async()=>{try{let e="new"===L?"cadastros/grupo-anexos/new/getData":"".concat(_,"/getData/").concat(w);await c.hi.post(e,{unidadeID:U.unidadeID}).then(e=>{H(e.data),ei(e.data)})}catch(a){console.log(a)}},ec=()=>{let e=[...el("items"),{nome:"",descricao:"",status:!0,obrigatorio:!0}];et("items",e),Y(!K)},eu=(e,a)=>{if(1===O.items.length){g.ZP.error("\xc9 necess\xe1rio ter pelo menos um item!");return}e.id&&W([...X,e.id]);let o=el("items").filter((e,o)=>o!==a);et("items",o),Y(!K)},em=async e=>{let a={...e,usuarioID:B.usuarioID,unidadeID:U.unidadeID};$(),a.removedItems=X,a.unidade=U.unidadeID;try{"new"===L?await c.hi.post("cadastros/grupo-anexos/new/insertData",a).then(e=>{A?A(e.data,"gruposAnexo"):(M.push("".concat((0,b.g_)(_))),k(e.data.id)),g.ZP.success(b.OD.successNew)}):"edit"===L&&(await c.hi.post("".concat(_,"/updateData/").concat(w),a),g.ZP.success(b.OD.successUpdate)),J(!Q)}catch(o){o.response&&409===o.response.status?g.ZP.error(b.OD.errorRepeated):console.log(o)}finally{ee()}},ex=async()=>{try{await c.hi.delete("".concat(_,"/deleteData/").concat(w,"/").concat(B.usuarioID,"/").concat(U.unidadeID)),k(null),setOpen(!1),g.ZP.success(b.OD.successDelete),console.log("entrou")}catch(e){e.response&&409===e.response.status?(g.ZP.error(b.OD.pendingDelete),T(!1)):console.log(e)}};return(0,n.useEffect)(()=>{ed(),setTimeout(()=>{ea()},300)},[w]),(0,n.useEffect)(()=>{z&&eo(em)()},[z]),(0,t.jsxs)(t.Fragment,{children:[!O&&(0,t.jsx)(D.Z,{}),O&&(0,t.jsxs)("form",{onSubmit:eo(em),children:[(0,t.jsx)(I.Z,{btnCancel:!0,btnNew:!A,btnSave:!0,manualUrl:R,btnClose:P,handleModalClose:E,handleSubmit:()=>eo(em),btnDelete:"edit"===L,onclickDelete:()=>T(!0),type:L,outsideID:q}),(0,t.jsx)(u.Z,{children:O&&(0,t.jsx)(m.Z,{children:(0,t.jsxs)(x.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(S.Z,{xs:11,md:11,title:"Nome",name:"fields.nome",required:!0,control:en,errors:null==es?void 0:null===(a=es.fields)||void 0===a?void 0:a.nome}),(0,t.jsx)(C.Z,{xs:1,md:1,title:"Ativo",name:"fields.status",value:O.fields.status,typePage:L,register:er}),(0,t.jsx)(S.Z,{xs:12,md:12,title:"Descri\xe7\xe3o",name:"fields.descricao",required:!1,control:en,errors:null==es?void 0:null===(o=es.fields)||void 0===o?void 0:o.descricao}),(0,t.jsx)(y.Z,{xs:12,md:12,title:"Formul\xe1rios",name:"formulario.fields",value:null!==(F=null==O?void 0:O.formulario.fields)&&void 0!==F?F:null,multiple:!0,limitTags:5,required:!0,options:O.formulario.options,register:er,setValue:et,control:en,errors:null==es?void 0:null===(i=es.formulario)||void 0===i?void 0:i.fields})]})})}),(0,t.jsx)(u.Z,{sx:{mt:4},children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(p.Z,{sx:{mb:5},children:"Itens"}),(0,t.jsx)(x.ZP,{container:!0,spacing:3,children:(0,t.jsx)(N,{getValues:el,removeItem:eu,control:en,register:er,errors:es,type:L},K)}),(0,t.jsx)(f.Z,{variant:"outlined",color:"primary",sx:{mt:4},startIcon:(0,t.jsx)(h.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick(){ec()},children:"Inserir item"})]})})]}),(0,t.jsx)(j.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir "+G.title,openModal:V,handleClose:()=>T(!1),handleSubmit:ex,btnCancel:!0,btnConfirm:!0})]})};var P=w},93250:function(e,a,o){"use strict";var t=o(85893),i=o(49837),l=o(91359),n=o(69175);let s=e=>{let{result:a,columns:o,btnNew:s=!0,btnPrint:r=!0,btnBack:d,openModal:c,modalLog:u}=e;return(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{sx:{pt:"0"},children:(0,t.jsx)(n.Z,{rows:a,columns:o,modalLog:u,buttonsHeader:{btnNew:s,btnPrint:r,btnBack:d,openModal:c}})})})};a.Z=s},46905:function(e,a,o){"use strict";var t=o(85893),i=o(87536),l=o(79072),n=o(55343),s=o(67836);let r=e=>{let{xs:a,md:o,title:r,name:d,disabled:c,required:u,form:m,onChange:x}=e;return(0,t.jsx)(l.ZP,{item:!0,xs:a,md:o,children:(0,t.jsx)("div",{children:(0,t.jsx)(n.Z,{fullWidth:!0,children:(0,t.jsx)(i.Qr,{name:d,control:m.control,rules:{required:u},render(e){let{field:a}=e;return(0,t.jsx)(s.Z,{label:r,value:null==a?void 0:a.value,placeholder:r,type:"date",size:"small","aria-describedby":"validation-schema-nome",disabled:c,error:!!m.formState.errors[d],onChange(e){let o=e.target.value;a.onChange(o),x&&x(o)},InputLabelProps:{shrink:!0},inputProps:{min:"1900-01-01",max:"2100-01-01"}})}})})})})};a.Z=r},55148:function(e,a,o){"use strict";var t=o(85893),i=o(79072),l=o(55343),n=o(35966),s=o(67836),r=o(87536),d=o(53934),c=o(30944);let u=e=>{let{xs:a,md:o,title:u,options:m,form:x,name:p,limitTags:f,value:h,required:v,disabled:g,multiple:j,onChange:D,className:I,keyProps:b,createNew:Z,helpText:y,helpTextPosition:S}=e,C=Z?[{id:null,name:"-- Novo --"},...null!=m?m:[]]:m,{key:F}=(0,c.L0)();return(0,t.jsx)(i.ZP,{item:!0,xs:a,md:o,sx:{my:1},className:I,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Z,{fullWidth:!0,children:(0,t.jsx)(r.Qr,{name:p,control:x.control,rules:{required:v},render(e){var a;let{field:o}=e;return(0,t.jsx)(n.Z,{options:C.map(e=>e.name),value:null!=h?h:null===(a=x.getValues(p))||void 0===a?void 0:a.name,onChange(e,a){let o=C.find(e=>e.name===a);x.setValue(p,null!=o?o:null),D&&D(a)},renderInput(e){var a;return(0,t.jsx)(s.Z,{...e,id:"customSelect",size:"small",label:u,placeholder:u,error:!!x.formState.errors[p],helperText:null===(a=x.formState.errors[p])||void 0===a?void 0:a.message})}},b||F)}})}),y&&(0,t.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,t.jsx)(d.Z,{text:y,position:null!=S?S:"top"})})]})})};a.Z=u},30140:function(e,a,o){"use strict";o.r(a);var t=o(85893),i=o(67294),l=o(46905),n=o(55148),s=o(51570),r=o(30944);let d=()=>{var e,a;let{form:o,setNames:d,filterDate:c,SelectFilterByName:u,dataSupplier:m,setFilteredDataSupplier:x,handleSearch:p,key:f,setKey:h}=(0,r.L0)(),{commonData:v}=(0,s.Lq)(),g=m,j=async()=>{x(g=await u(g=await u(g=await c(g=await p(g)),"status"),"quemPreenche"))};return(0,i.useEffect)(()=>{j()},[f]),(0,i.useEffect)(()=>{d(["dataInicio","dataFim","quemPreenche","status"])},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Z,{xs:12,md:6,title:"Data in\xedcio da avaliac\xe3o",name:"dataInicio",form:o}),(0,t.jsx)(l.Z,{xs:12,md:6,title:"Data Fim da avalia\xe7\xe3o",name:"dataFim",form:o}),(0,t.jsx)(n.Z,{xs:12,md:6,title:"Status",name:"status",form:o,options:v.status,value:null===(e=o.getValues("status"))||void 0===e?void 0:e.name}),(0,t.jsx)(n.Z,{xs:12,md:6,title:"Quem preencheu",name:"quemPreenche",value:null===(a=o.getValues("quemPreenche"))||void 0===a?void 0:a.name,form:o,options:[{id:"1",name:"F\xe1brica"},{id:"2",name:"Fornecedor"}]})]})};a.default=d},77735:function(e,a,o){"use strict";o.r(a),o.d(a,{default:function(){return ej}});var t=o(85893),i=o(67294),l=o(11163),n=o.n(l),s=o(60664),r=o(93250),d=o(87536),c=o(99734),u=o(34282),m=o(7071),x=o(29308),p=o(23895),f=o(61953),h=o(19604),v=o(49837),g=o(91359),j=o(79072),D=o(55343),I=o(29630),b=o(64165),Z=o(86887),y=o(83830),S=o(40039),C=o(39976),F=o(86501),N=o(66136),w=o(80377),P=o(22416),A=o(22841),E=o(16056);let z=e=>{let{xs:a,md:o,title:i,index:l,name:n,typePage:s,value:r,disabled:d,register:c,...u}=e;return(0,t.jsx)(j.ZP,{item:!0,xs:a,md:o,children:(0,t.jsx)(f.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,t.jsx)(A.Z,{control:(0,t.jsx)(E.Z,{...u,name:n,...c(n),defaultChecked:r,disabled:d,onChange(e){u.onChange&&u.onChange(e.target.checked,l,n,s)}}),label:i,size:"small",sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},R=e=>{let{data:a,control:o,setValue:l,register:n,errors:s}=e,[r,d]=(0,i.useState)(!0);return l("emailDestinatario",a.email),(0,t.jsxs)("div",{className:"flex flex-col gap-2 pt-2",children:[r&&(0,t.jsx)(x.Z,{name:"emailDestinatario",type:"email",title:"E-mail do destinat\xe1rio",required:!0,control:o,errors:s.emailDestinatario}),(0,t.jsx)(x.Z,{name:"assunto",title:"Assunto",required:!0,register:n,control:o,defaultValue:"",errors:s.assunto}),(0,t.jsx)(x.Z,{name:"descricao",title:"Descri\xe7\xe3o",multiline:!0,rows:4,required:!0,control:o,defaultValue:"",errors:s.descricao}),(0,t.jsxs)(P.Z,{row:!0,children:[(0,t.jsx)(z,{name:"email",title:"E-mail",value:!0,register:n,onChange:()=>d(!r)}),(0,t.jsx)(z,{name:"alerta",title:"Alerta",value:!0,register:n})]})]})};var q=o(44642),k=o(82747),M=o(84220),O=o(1322),H=o(77993),V=o(69291),T=o(62135),L=o(54225),_=o(78633),G=o(21609),U=o(431);let B=i.memo(e=>{let{xs:a,md:o,name:l,register:n,setValue:s}=e,[r,d]=(0,i.useState)(1),{setIsNotFactory:c}=(0,U.r7)();return(0,i.useEffect)(()=>{l&&n&&s(l,r)},[l,n,r,s,c]),(0,t.jsxs)(j.ZP,{item:!0,xs:a,md:o,children:[(0,t.jsxs)(T.Z,{color:"primary",children:[(0,t.jsx)(L.Z,{onClick(){c(!1),d(1)},variant:1===r?"contained":"outlined",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 py-2 px-1",children:[(0,t.jsx)(G.Z,{icon:"mdi:company"}),(0,t.jsx)("p",{className:"capitalize",children:"F\xe1brica"})]})}),(0,t.jsx)(L.Z,{onClick(){c(!0),d(2)},variant:2===r?"contained":"outlined",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 py-2 px-1",children:[(0,t.jsx)(G.Z,{icon:"mdi:truck-fast-outline"}),(0,t.jsx)("p",{className:"capitalize",children:"Fornecedor"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-4",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(_.gH_,{})}),(0,t.jsx)("p",{className:"text-sm",children:"".concat(1==r?"F\xe1brica ficar\xe1 respons\xe1vel pelo preenchimento do formul\xe1rio":"Fornecedor ficar\xe1 respons\xe1vel pelo preenchimento do formul\xe1rio, ser\xe1 enviado um e-mail com instru\xe7\xf5es de preenchimento ao fornecedor e a f\xe1brica ir\xe1 monitorar o status")})]}),l&&n&&(0,t.jsx)("input",{type:"hidden",name:l,...n(l),value:r})]})}),Q=e=>{var a,o,l,n,r,d,c,u,m,p;let{fields:h,params:v,habilitaQuemPreencheFormFornecedor:g,setFields:j,handleCnpj:D,validCnpj:b,getValues:Z,control:y,errors:C,setValue:F,register:N,watch:w,reset:P}=e,{loggedUnity:A}=(0,i.useContext)(S.V),[E,z]=(0,i.useState)([]),[R,q]=(0,i.useState)([]),[k,T]=(0,i.useState)([]),[L,_]=(0,i.useState)([]),[G,Q]=(0,i.useState)(!1),[J,X]=(0,i.useState)(!1),[W,K]=(0,i.useState)(""),[Y,$]=(0,i.useState)(null),{isNotFactory:ee,setIsNotFactory:ea}=(0,i.useContext)(U.YF),eo=async()=>{let e=await s.hi.post("/formularios/fornecedor/getModels",{unidadeID:A.unidadeID});z(e.data)},et=async()=>{let e=await s.hi.post("/formularios/fornecedor/getProducts",{unidadeID:A.unidadeID});q(e.data)},ei=async()=>{let e=await s.hi.post("/formularios/fornecedor/getGruposAnexo",{unidadeID:A.unidadeID});T(e.data)},el=async()=>{let e=await s.hi.post("/configuracoes/formularios/fornecedor/getCategories",{unidadeID:A.unidadeID});_(e.data)},en=()=>{j(null),F("fields.cnpj",""),F("fields.razaoSocial",""),F("fields.email",""),F("fields.modelo",null),F("fields.gruposAnexo",[]),F("fields.produtos",[])};(0,i.useEffect)(()=>{P(),eo(),et(),ei(),el()},[]);let es=async(e,a)=>{if(X(!1),"gruposAnexo"==a){T(a=>[...a,e]);let o=[...Z("fields.gruposAnexo")];o.push(e),F("fields.gruposAnexo",o)}else if("produtos"==a){q(a=>[...a,e]);let t=[...Z("fields.produtos")];t.push(e),F("fields.produtos",t)}Q(!G)},er=async e=>{X(!0),"gruposAnexo"==e?(K("Novo grupo de anexos"),$((0,t.jsx)(H.Z,{manualUrl:"/cadastros/grupo-anexos",btnClose:!0,handleModalClose:()=>X(!1),newChange:G,handleConfirmNew:es,outsideID:!0}))):"produtos"==e&&(K("Novo produto"),$((0,t.jsx)(V.Z,{manualUrl:"/cadastros/produto",btnClose:!0,handleModalClose:()=>X(!1),newChange:G,handleConfirmNew:es,outsideID:!0})))},ed=async e=>{X(!1)};return E&&R&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(f.Z,{children:[(null==v?void 0:v.habilitaQuemPreencheFormFornecedor)&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(B,{xs:12,md:12,register:N,name:"habilitaQuemPreencheFormFornecedor",setValue:F})}),(0,t.jsx)(x.Z,{xs:12,md:12,title:"CNPJ",name:"fields.cnpj",value:null==h?void 0:h.cnpj,onChange:D,clearField:Z("fields.cnpj")?en:null,mask:"cnpj",required:!0,control:y,errors:null==C?void 0:null===(a=C.fields)||void 0===a?void 0:a.cnpj}),!1==b&&(0,t.jsx)(I.Z,{variant:"body2",color:"error",children:"CNPJ inv\xe1lido!"})]}),(0,t.jsx)(x.Z,{xs:12,md:12,title:"Raz\xe3o Social",name:"fields.razaoSocial",value:null==h?void 0:h.razaoSocial,disabled:!b,required:!0,control:y,errors:null==C?void 0:null===(o=C.fields)||void 0===o?void 0:o.razaoSocial}),(0,t.jsx)(x.Z,{xs:12,md:12,title:"Nome Fantasia",name:"fields.nomeFantasia",value:null==h?void 0:h.nomeFantasia,disabled:!b,required:!0,control:y,errors:null==C?void 0:null===(l=C.fields)||void 0===l?void 0:l.nomeFantasia}),ee&&(0,t.jsx)(x.Z,{xs:12,md:12,type:"email",title:"E-mail",name:"fields.email",value:null==h?void 0:h.email,disabled:!b,required:!0,control:y,errors:null==C?void 0:null===(n=C.fields)||void 0===n?void 0:n.email}),!ee&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.Z,{xs:12,md:12,title:"Categoria",name:"fields.categoria",value:null==h?void 0:h.categoria,disabled:!b,onChange(e){F("fields.risco",null),F("fields.categoria",e),w("fields.categoria")},required:!0,options:null!=L?L:[],register:N,setValue:F,control:y,errors:null==C?void 0:null===(r=C.fields)||void 0===r?void 0:r.categoria}),(0,t.jsx)(M.Z,{xs:12,md:12,disabled:null==Z("fields.categoria"),title:"Risco",name:"fields.risco",value:null==h?void 0:h.risco,required:!0,options:null!==(m=null===(d=Z("fields.categoria"))||void 0===d?void 0:d.riscos)&&void 0!==m?m:[],register:N,setValue:F,control:y,errors:null==C?void 0:null===(c=C.fields)||void 0===c?void 0:c.risco})]}),(0,t.jsx)(M.Z,{xs:12,md:12,title:"Produtos",name:"fields.produtos",value:null!==(p=null==h?void 0:h.produtos)&&void 0!==p?p:[],disabled:!b,multiple:!0,createNew:()=>er("produtos"),required:null==v?void 0:v.obrigatorioProdutoFornecedor,options:null!=R?R:[],register:N,setValue:F,control:y,errors:null==C?void 0:null===(u=C.fields)||void 0===u?void 0:u.produtos}),(0,t.jsx)(O.Z,{title:W,size:"md",openModal:J,setOpenModal:X,handleSave:ed,children:Y})]})};var J=o(34175);let X=e=>{var a,o;let{sipeAgro:i}=e,l=()=>{let e=(e,a)=>i&&i[a]&&i[a].includes(e)?(0,t.jsx)(G.Z,{icon:"lets-icons:check-fill",className:"text-green-600 w-full"}):(0,t.jsx)(G.Z,{icon:"lets-icons:check-fill",className:"text-gray-100 w-full"});return(0,t.jsxs)("table",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{}),(0,t.jsx)("td",{className:"text-center",children:(0,t.jsx)(I.Z,{variant:"caption",children:(0,t.jsx)("strong",{children:"Fabricante"})})}),(0,t.jsx)("td",{className:"text-center",children:(0,t.jsx)(I.Z,{variant:"caption",children:(0,t.jsx)("strong",{children:"Fracionador"})})}),(0,t.jsx)("td",{className:"text-center",children:(0,t.jsx)(I.Z,{variant:"caption",children:(0,t.jsx)("strong",{children:"Importador"})})})]}),[{name:"Aditivo",column:"aditivo"},{name:"Alimento",column:"alimento"},{name:"Concentrado",column:"concentrado"},{name:"Coproduto",column:"coproduto"},{name:"Ingrediente",column:"ingrediente"},{name:"N\xfacleo",column:"nucleo"},{name:"Premix",column:"premix"},{name:"Produto mastig\xe1vel",column:"produtoMastigavel"},{name:"Ra\xe7\xe3o",column:"racao"},{name:"Suplemento",column:"suplemento"}].map((a,o)=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"py-1",children:(0,t.jsx)(I.Z,{variant:"caption",children:(0,t.jsx)("strong",{children:a.name})})}),(0,t.jsx)("td",{className:"py-1",children:e(1,a.column)}),(0,t.jsx)("td",{className:"py-1",children:e(2,a.column)}),(0,t.jsx)("td",{className:"py-1",children:e(3,a.column)})]}))]})};return(0,t.jsx)(v.Z,{sx:{mt:4},children:(0,t.jsx)(g.Z,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)(I.Z,{variant:"body2",className:"flex justify-between",children:[(0,t.jsxs)("strong",{children:["Dados MAPA - \xdaltima atualiza\xe7\xe3o (",null!==(o=null==i?void 0:i.dataImportacao)&&void 0!==o?o:"----",")"]}),(0,t.jsxs)("span",{children:["Fonte dos dados:"," ",(0,t.jsx)("a",{className:"text-blue-500 hover:underline",target:"_blank",href:"https://www.gov.br/agricultura/pt-br/assuntos/insumos-agropecuarios/insumos-pecuarios/alimentacao-animal/registro-cadastro",children:"link"})]})]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Raz\xe3o Social:"})," ",null==i?void 0:null===(a=i.razaoSocial)||void 0===a?void 0:a.toUpperCase()]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Registro SIPEAGRO:"})," ",null==i?void 0:i.registroSipeAgro]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"SIPOA:"})," ",["Regi\xe3o Norte","Regi\xe3o Nordeste","Regi\xe3o Centro-Oeste","Regi\xe3o Sudeste","Regi\xe3o Sul","Goi\xe1s","Minas Gerais","Bahia","Paran\xe1","Rio Grande do Sul","S\xe3o Paulo"][(null==i?void 0:i.sipoa)-1]]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Situa\xe7\xe3o:"})," ",null==i?void 0:i.situacao]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Munic\xedpio:"})," ","".concat(null==i?void 0:i.municipio,"/").concat(null==i?void 0:i.uf)]}),(0,t.jsx)(l,{})]})})})},W=e=>{var a,o,l,n,r,d;let{cnpj:c,control:u,setValue:m,register:x,errors:p,clearErrors:h,reset:D,getValues:b,watch:Z,trigger:y}=e,[C,F]=(0,i.useState)(!1),{loggedUnity:N}=(0,i.useContext)(S.V),[w,P]=(0,i.useState)(null),[A,E]=(0,i.useState)(null),[z,R]=(0,i.useState)(null),[M,O]=(0,i.useState)(null),H=e=>{18==e.length?(0,k.zk)(e)?(O(!0),T(e),V(e)):O(!1):(O(null),P(null))},V=async e=>{try{let a=await s.hi.post("/formularios/fornecedor/mapaSipeAgro",{cnpj:e});console.log("\uD83D\uDE80  response sipeagro",a),R(a.data)}catch(o){console.error(o)}},T=async e=>{try{let a=await s.hi.post("/formularios/fornecedor/cnpj",{unidadeID:N.unidadeID,cnpj:e}),o={new:a.data.new,fornecedorID:a.data.fornecedorID,data:a.data.dataAvaliacao,modelo:a.data.modelo.nome,produtos:a.data.produtos,gruposAnexo:a.data.gruposAnexo},t="";o.new&&(t=await L(e)),P({...w,cnpj:o.new?(0,J.PK)(t.data.CNPJ):e,status:o.new?t.data.STATUS:"",dataAbertura:o.new?t.data["DATA ABERTURA"]:"",telefone:o.new?t.data.DDD+" "+t.data.TELEFONE:"",razaoSocial:o.new?t.data["RAZAO SOCIAL"]:a.data.fields.razaoSocial,nomeFantasia:o.new?t.data["NOME FANTASIA"]:a.data.fields.nomeFantasia,email:o.new?t.data.EMAIL:a.data.fields.email,cidade:o.new?t.data.MUNICIPIO+"/"+t.data.UF:"",preenchimento:o,telefone:a.data.fields.telefone,cep:a.data.fields.cep,logradouro:a.data.fields.logradouro,numero:a.data.fields.numero,complemento:a.data.fields.complemento,bairro:a.data.fields.bairro,cidade:a.data.fields.cidade,estado:a.data.fields.estado,pais:a.data.fields.pais,ie:a.data.fields.ie,principaisClientes:a.data.fields.principaisClientes,registroSipeagro:a.data.fields.registroSipeagro,categoria:a.data.fields.categoria,risco:a.data.fields.risco}),m("fields.cnpj",e),m("fields.razaoSocial",o.new?t.data["RAZAO SOCIAL"]:a.data.fields.razaoSocial),m("fields.nomeFantasia",o.new?t.data["NOME FANTASIA"]:a.data.fields.nomeFantasia),m("fields.nome",o.new?t.data["NOME FANTASIA"]:""),m("fields.email",o.new?t.data.EMAIL:a.data.fields.email),m("fields.modelo",a.data.modelo.id>0?a.data.modelo:null),m("fields.gruposAnexo",a.data.gruposAnexo),m("fields.produtos",a.data.produtos),m("fields.telefone",a.data.fields.telefone),m("fields.cep",a.data.fields.cep),m("fields.logradouro",a.data.fields.logradouro),m("fields.numero",a.data.fields.numero),m("fields.complemento",a.data.fields.complemento),m("fields.bairro",a.data.fields.bairro),m("fields.cidade",a.data.fields.cidade),m("fields.estado",a.data.fields.estado),m("fields.pais",a.data.fields.pais),m("fields.ie",a.data.fields.ie),m("fields.principaisClientes",a.data.fields.principaisClientes),m("fields.registroSipeagro",a.data.fields.registroSipeagro),m("fields.categoria",a.data.fields.categoria),m("fields.risco",a.data.fields.risco),b("fields.razaoSocial")&&h("fields.razaoSocial"),b("fields.nomeFantasia")&&h("fields.nomeFantasia"),b("fields.email")&&h("fields.email"),b("fields.categoria")&&h("fields.categoria"),b("fields.risco")&&h("fields.risco"),b("fields.produtos")&&h("fields.produtos")}catch(i){console.error(i)}},L=async e=>{let a=e.replace(/\D/g,""),o=await s.hi.get("https://api-publica.speedio.com.br/buscarcnpj?cnpj=".concat(a));return o},_=async()=>{let e={unidadeID:N.unidadeID};try{let a=await s.hi.post("/formularios/fornecedor/paramsNewFornecedor",e);E(a.data)}catch(o){console.error(o)}};return(0,i.useEffect)(()=>{F(!C),c&&c.length>0&&H(c)},[]),(0,i.useEffect)(()=>{_(),setTimeout(()=>{y()},300)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(q.Z,{children:(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsxs)(j.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(f.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:(0,t.jsx)(Q,{setFields:P,fields:null!=w?w:null,params:A,control:u,errors:p,reset:D,setValue:m,getValues:b,watch:Z,register:x,handleCnpj:H,validCnpj:M},C)}),(0,t.jsx)(v.Z,{sx:{mt:4},children:(0,t.jsx)(g.Z,{children:(0,t.jsxs)(f.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,t.jsx)(I.Z,{variant:"body2",children:(0,t.jsx)("strong",{children:"Dados do \xfaltimo formul\xe1rio deste fornecedor"})}),(null==w?void 0:null===(a=w.preenchimento)||void 0===a?void 0:a.new)?(0,t.jsx)(I.Z,{variant:"body2",color:"primary",children:(0,t.jsx)("strong",{children:"Novo fornecedor"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"ID: "})," ",null==w?void 0:null===(o=w.preenchimento)||void 0===o?void 0:o.fornecedorID]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Data de preenchimento:"})," ",null==w?void 0:null===(l=w.preenchimento)||void 0===l?void 0:l.data]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Modelo:"})," ",null==w?void 0:null===(n=w.preenchimento)||void 0===n?void 0:n.modelo]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Grupos de anexo: "}),null==w?void 0:null===(r=w.preenchimento)||void 0===r?void 0:r.gruposAnexo.map((e,a)=>{var o;return"".concat(e.nome).concat(a<(null==w?void 0:null===(o=w.preenchimento)||void 0===o?void 0:o.gruposAnexo.length)-1?", ":"")})]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Produtos: "}),null==w?void 0:null===(d=w.preenchimento)||void 0===d?void 0:d.produtos.map((e,a)=>{var o;return"".concat(e.nome).concat(a<(null==w?void 0:null===(o=w.preenchimento)||void 0===o?void 0:o.produtos.length)-1?", ":"")})]})]})]})})})]}),(0,t.jsxs)(j.ZP,{item:!0,xs:12,md:6,children:[(0,t.jsx)(X,{sipeAgro:z},z),(0,t.jsx)(v.Z,{sx:{mt:4},children:(0,t.jsx)(g.Z,{children:(0,t.jsxs)(f.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,t.jsx)(I.Z,{variant:"body2",children:(0,t.jsx)("strong",{children:"Dados consultados da Receita Federal"})}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Raz\xe3o Social:"})," ",null==w?void 0:w.razaoSocial]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Nome Fantasia:"})," ",null==w?void 0:w.nomeFantasia]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"CNPJ:"})," ",null==w?void 0:w.cnpj]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Status:"})," ",null==w?void 0:w.status]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Data Abertura:"})," ",null==w?void 0:w.dataAbertura]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Telefone:"})," ",null==w?void 0:w.telefone]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"E-mail:"})," ",null==w?void 0:w.email]}),(0,t.jsxs)(I.Z,{variant:"caption",children:[(0,t.jsx)("strong",{children:"Cidade:"})," ",null==w?void 0:w.cidade]})]})})})]})]})})})};var K=o(44373);o(80587);var Y=o(92945);let $=e=>{let{values:a,handleFileSelect:o,handleRemove:l,disabled:n,errors:s}=e,{settings:r}=(0,i.useContext)(N.J6),d=r.mode,[c,u]=(0,i.useState)(null),m=(0,i.useRef)(null),x=e=>{m.current.click(),u(e)};return(0,i.useEffect)(()=>{m.current&&(m.current.value="")},[o]),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:a&&a.map((e,i)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.ZP,{container:!0,spacing:2,children:(0,t.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,t.jsxs)(f.Z,{display:"flex",alignItems:"center",sx:{gap:1},children:[(0,t.jsx)(I.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700},children:e.nome}),(0,t.jsx)(I.Z,{variant:"body2",children:"(".concat(e.unidadeMedida,")")})]})})},i),e.produtoAnexosDescricao&&e.produtoAnexosDescricao.length>0&&(0,t.jsx)(j.ZP,{container:!0,spacing:4,children:e.produtoAnexosDescricao.map((e,a)=>(0,t.jsx)(Y.Z,{modeTheme:d,handleFileClick:x,selectedItem:c,inputRef:m,item:e,indexBlock:i,indexItem:a,handleFileSelect:o,folder:"produto",handleRemove:l,error:s,disabled:n},"".concat(i,"-").concat(a)))}),e.anexos&&0===e.anexos.length&&(0,t.jsx)(I.Z,{variant:"body2",sx:{mb:2},children:"Este produto n\xe3o exige anexos"}),i<a.length-1&&(0,t.jsx)(K.Z,{sx:{my:4}})]}))})};var ee=o(56531),ea=o(50287);let eo=e=>{var a,o,l,n,r,d,c,u,m;let{modeloID:p,values:f,fields:h,disabled:v,register:g,errors:D,setValue:I,control:Z,getValues:y,getAddressByCep:S}=e,[C,F]=(0,i.useState)([]),N=async()=>{let e=await s.hi.post("/cadastros/profissional/getProfissionaisAssinatura",{formularioID:1,modeloID:p});F(e.data.preenche)};return(0,i.useEffect)(()=>{N(),f&&!f.data&&I("fieldsHeader.data",(0,b.Ux)()),f&&!f.hora&&I("fieldsHeader.hora",(0,b.Xn)())},[f]),(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(x.Z,{xs:12,md:2,title:"Data da abertura",name:"fieldsHeader.abertoPor.dataInicio",value:f.abertoPor.dataInicio,disabled:!0,register:g,control:Z,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:2,title:"Hora da abertura",name:"fieldsHeader.abertoPor.horaInicio",value:f.abertoPor.dataInicio,type:"time",disabled:!0,register:g,control:Z,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:8,title:"Aberto por",name:"fieldsHeader.abertoPor.profissional.nome",value:null==f?void 0:null===(a=f.abertoPor)||void 0===a?void 0:null===(o=a.profissional)||void 0===o?void 0:o.nome,disabled:!0,register:g,control:Z,alertRequired:!0}),(0,t.jsx)(ea.Z,{xs:12,md:2,title:"Data da avalia\xe7\xe3o",name:"fieldsHeader.data",type:"date",value:null!==(u=null==f?void 0:f.data)&&void 0!==u?u:(0,b.Ux)(),disabled:v,register:g,control:Z,typeValidation:"dataPassado",daysValidation:365,errors:null==D?void 0:null===(l=D.fieldsHeader)||void 0===l?void 0:l.data,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:2,title:"Hora da avalia\xe7\xe3o",name:"fieldsHeader.hora",value:null!==(m=null==f?void 0:f.data)&&void 0!==m?m:(0,b.Xn)(),type:"time",disabled:v,register:g,control:Z,errors:null==D?void 0:null===(n=D.fieldsHeader)||void 0===n?void 0:n.hora,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:4,title:"CNPJ",name:"fieldsHeader.cnpj",type:"string",mask:"cnpj",disabled:!0,register:g,control:Z,errors:null==D?void 0:null===(r=D.fieldsHeader)||void 0===r?void 0:r.cnpj,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:4,title:"Raz\xe3o Social",name:"fieldsHeader.razaoSocial",type:"string",disabled:v,register:g,control:Z,errors:null==D?void 0:null===(d=D.fieldsHeader)||void 0===d?void 0:d.razaoSocial,alertRequired:!0}),(0,t.jsx)(x.Z,{xs:12,md:4,title:"Nome Fantasia",name:"fieldsHeader.nomeFantasia",type:"string",disabled:v,register:g,control:Z,errors:null==D?void 0:null===(c=D.fieldsHeader)||void 0===c?void 0:c.nomeFantasia,alertRequired:!0}),(0,t.jsx)(ee.Z,{register:g,errors:D,setValue:I,control:Z,getValues:y,fields:h,values:h,getAddressByCep:S,disabled:v})]})};var et=o(41088),ei=o(92629),el=o(1503),en=o(934),es=o(87771);let er=e=>{var a,o;let{values:i}=e;if(i)return(0,t.jsx)(v.Z,{children:(0,t.jsx)(g.Z,{children:(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4",children:[(0,t.jsx)(es.QRz,{size:60,className:"text-yellow-600"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("p",{className:"text-2xl font-semibold",children:"Aguardando preenchimento do Fornecedor"}),(0,t.jsx)("p",{children:"Este formul\xe1rio ser\xe1 preenchido pelo fornecedor"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full px-10 text-center pt-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"Nome Fantasia"}),(0,t.jsx)("p",{className:"text-lg",children:i.nomeFantasia})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"Raz\xe3o Social"}),(0,t.jsx)("p",{className:"text-lg",children:i.razaoSocial})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"CNPJ"}),(0,t.jsx)("p",{className:"text-lg",children:i.cnpj})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"Telefone"}),(0,t.jsx)("p",{className:"text-lg",children:null!==(a=i.telefone)&&void 0!==a?a:"--"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"E-mail"}),(0,t.jsx)("p",{className:"text-lg",children:null!==(o=i.email)&&void 0!==o?o:"--"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm opacity-60",children:"Data de Cadastro"}),(0,t.jsx)("p",{className:"text-lg",children:i.dataInicio})]})]})]})})})};var ed=o(82555),ec=o(91757);let eu=e=>{var a,o;let l;let{id:r,makeFornecedor:N}=e,{setData:P,data:A}=(0,ed.O)(),[E,z]=(0,i.useState)(!0),[q,k]=(0,i.useState)(null),{menu:M,user:O,loggedUnity:H}=(0,i.useContext)(S.V),[V,T]=(0,i.useState)(!1),[L,_]=(0,i.useState)(!1),[G,U]=(0,i.useState)(!0),[B,Q]=(0,i.useState)(!0),[J,X]=(0,i.useState)(null),[K,Y]=(0,i.useState)([]),[ee,ea]=(0,i.useState)([]),[es,eu]=(0,i.useState)(!1),[em,ex]=(0,i.useState)(null),{createNewNotification:ep}=(0,i.useContext)(C.u),[ef,eh]=(0,i.useState)(!1),[ev,eg]=(0,i.useState)([]),[ej,eD]=(0,i.useState)([]),[eI,eb]=(0,i.useState)([]),[eZ,ey]=(0,i.useState)(null),[eS,eC]=(0,i.useState)([]),[eF,eN]=(0,i.useState)(null),[ew,eP]=(0,i.useState)(""),[eA,eE]=(0,i.useState)(!1),[ez,eR]=(0,i.useState)({status:!1,errors:[]}),{setId:eq}=(0,i.useContext)(y.X),[ek,eM]=(0,i.useState)([]),[eO,eH]=(0,i.useState)(!1),[eV,eT]=(0,i.useState)(null),{sendPdfToServer:eL}=(0,el.Gc)(),{isLoading:e_,startLoading:eG,stopLoading:eU}=(0,et.Z)(),[eB,eQ]=(0,i.useState)({status:!1,message:"Voc\xea n\xe3o tem permiss\xf5es",messageType:"info"}),eJ=n(),eX=r&&r>0?"edit":"new",eW=eJ.pathname,{reset:eK,register:eY,getValues:e$,setValue:e0,control:e1,trigger:e2,handleSubmit:e3,clearErrors:e4,setError:e7,formState:{errors:e5}}=(0,d.cI)({mode:"onChange"}),e6=async e=>{let a={status:30,observacao:null==e?void 0:e.obs,auth:{usuarioID:O.usuarioID,papelID:O.papelID,unidadeID:H.unidadeID}};try{T(!0),await s.hi.post("".concat(eW,"/changeFormStatus/").concat(r),a).then(e=>{F.ZP.success(b.OD.successUpdate),T(!1),av(em,null,null)})}catch(o){console.log(o)}finally{eu(!es)}},e9=async e=>{try{if(!e.email&&!e.alerta)return F.ZP.error("Selecione ao menos um tipo de notifica\xe7\xe3o!");let a={titulo:e.assunto,descricao:e.descricao,url:"/formularios/fornecedor/",urlID:r,tipoNotificacaoID:3,usuarioGeradorID:O.usuarioID,usuarioID:0,unidadeID:J.fornecedor.unidadeID,papelID:2,email:e.email,alerta:e.alerta};if(ep(a),e.email){let o={values:e,auth:{id:r,usuarioID:O.usuarioID,papelID:O.papelID,unidadeID:H.unidadeID}};await s.hi.post("".concat(eW,"/sendNotification"),o)}let t=e.alerta&&e.email?"E-mail e alerta enviados com sucesso!":e.alerta&&!e.email?"Alerta criado com sucesso!":!e.alerta&&e.email?"E-mail enviado com sucesso!":null;F.ZP.success(t)}catch(i){console.log(i)}},e8=()=>{navigator.clipboard.writeText(eZ),F.ZP.success("Link copiado com sucesso!")},ae=()=>{eq(J.parFornecedorModeloID),eJ.push("/configuracoes/formularios/fornecedor/")},aa={id:1,name:"Gerar novo formul\xe1rio",description:"Gerar um novo formul\xe1rio de preenchimento para este fornecedor.",component:(0,t.jsx)(W,{cnpj:null==ev?void 0:ev.cnpj}),route:null,type:null,modal:!0,fullHeight:!0,action:N,size:"lg",icon:"fluent:form-new-20-regular",identification:null},ao={id:2,name:"Gerar notifica\xe7\xe3o",description:"Gerar uma nova notifica\xe7\xe3o para o fornecedor, podendo ser um e-mail e/ou alerta do sistema.",component:(0,t.jsx)(R,{data:{email:null===(a=null==eI?void 0:eI.find(e=>"email"==e.nomeColuna))||void 0===a?void 0:a.email}}),route:null,type:null,modal:!0,action:e9,icon:"cil:bell",identification:null},at={id:3,name:"Copiar link do formul\xe1rio",description:"Copiar o link deste formul\xe1rio.",component:(0,t.jsx)(W,{}),route:null,type:null,action:e8,modal:!1,icon:"solar:copy-outline",identification:null},ai={id:r,name:"Imprimir",nameComponent:"indexFormulario",type:"report",unidadeID:null==J?void 0:J.unidadeID,usuarioID:null==ew?void 0:ew.usuarioID,papelID:null==O?void 0:O.papelID,status:null==ew?void 0:ew.status,route:"formularios/fornecedor",icon:"fluent:print-24-regular",module:"fornecedor"},al={id:6,name:"Reabrir formul\xe1rio",description:"Reabrir formul\xe1rio para preenchimento.",component:(0,t.jsx)(ec.Z,{}),disabled:!!G,route:null,type:null,action:e6,modal:!0,size:"sm",icon:"heroicons:lock-open",identification:null},an=[];1==O.papelID&&(an.push(aa),(null==ew?void 0:ew.status)>=40&&an.push(al)),an.push(ao),an.push(at),an.push(ai),1==O.papelID&&(l=!1,M.map(e=>{e.menu.map(e=>{e.submenu&&e.submenu.length>0&&e.submenu.map(e=>{"/configuracoes/formularios"==e.rota&&(l=!0)})})}),l)&&an.push({id:5,name:"Configura\xe7\xf5es do formul\xe1rio",description:"Alterar as configura\xe7\xf5es do modelo de formul\xe1rio.",route:null,type:null,action:ae,modal:!1,icon:"bi:gear",identification:null});let as=async()=>{try{await s.hi.post("".concat(eW,"/verifyFormPending/").concat(r),{parFormularioID:1}).then(e=>{U(e.data) //! true/false
})}catch(e){console.log(e)}},ar=()=>{eG();try{s.hi.post("".concat(eW,"/getData/").concat(r),{type:eX,unidadeID:H.unidadeID}).then(e=>{var a,o,t;if(!e.data)return;e.data.hasModel||(z(!1),k(e.data)),eg(e.data.fieldsHeader),eD(e.data.fieldsFooter),eb(e.data.fields),Y(e.data.produtos),eC(e.data.blocos),ea(e.data.grupoAnexo),eP(e.data.info),X(e.data.unidade),ey(e.data.link),eN(e.data.ultimaMovimentacao),af(e.data.blocos),eK(e.data);let i=[];for(let l=0;l<e.data.fields.length;l++){let n=e.data.fields[l].nomeColuna,s=e.data.fields[l].nomeCampo;for(let r in H){if("telefone"==n&&!e$("fields[".concat(l,"].").concat(n))){let d=null!==(t=H.telefone1)&&void 0!==t?t:H.telefone2;e0("fields[".concat(l,"].").concat(n),null!=d?d:"")}r!==n||e$("fields[".concat(l,"].").concat(n),H[r])||(e0("fields[".concat(l,"].").concat(n),H[r]),null!==H[r]&&""!==H[r]&&i.push({name:s,value:H[r]}))}}eM(i);let c=b.WR[null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(o=a.info)||void 0===o?void 0:o.status];ex(c),eQ({status:O.papelID==e.data.unidade.quemPreenche&&e.data.info.status<40,message:2==O.papelID&&e.data.info.status>=40?"Esse formul\xe1rio j\xe1 foi conclu\xeddo e enviado pra f\xe1brica, n\xe3o \xe9 mais poss\xedvel alterar as informa\xe7\xf5es!":1==O.papelID&&e.data.info.status<40?"Somente o fornecedor pode alterar as informa\xe7\xf5es deste formul\xe1rio!":1==O.papelID&&40==e.data.info.status?"Este formul\xe1rio est\xe1 aguardando aprova\xe7\xe3o":null,messageType:2==O.papelID?"warning":"info"}),as()}).catch(e=>{console.log("\uD83D\uDE80 ~ error:",e)})}catch(e){console.log("\uD83D\uDE80 ~ error:",e)}finally{eU()}},ad=!1,ac=[],au=(e,a)=>{e7(e,{type:"manual",message:"Campo obrigat\xf3rio"}),ac.push(a),ad=!0},am=()=>{e4(),e$("fieldsHeader.data")||au("fieldsHeader.data","Data da avalia\xe7\xe3o"),e$("fieldsHeader.hora")||au("fieldsHeader.hora","Hora da avalia\xe7\xe3o"),e$("fieldsHeader.razaoSocial")||au("fieldsHeader.razaoSocial","Raz\xe3o Social"),e$("fieldsHeader.nomeFantasia")||au("fieldsHeader.nomeFantasia","Nome Fantasia"),null==eI||eI.forEach((e,a)=>{let o=e.tabela?"fields[".concat(a,"].").concat(e.tabela):"fields[".concat(a,"].").concat(e.nomeColuna),t=e$(o);1!==e.obrigatorio||t||au(o,null==e?void 0:e.nomeCampo)}),K&&K.length>0&&K.forEach((e,a)=>{e.produtoAnexosDescricao.forEach((o,t)=>{1===o.obrigatorio&&0==o.anexos.length&&(e7("produtos[".concat(a,"].produtoAnexosDescricao[").concat(t,"].anexos"),{type:"manual",message:"Campo obrigat\xf3rio"}),ac.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==o?void 0:o.nome)),ad=!0)})}),eS&&eS.length>0&&eS.forEach((e,a)=>{e.itens.forEach((e,o)=>{let t=e$("blocos[".concat(a,"].itens[").concat(o,"].resposta"));(null==e?void 0:e.obrigatorio)!==1||t||(e7("blocos[".concat(a,"].itens[").concat(o,"].resposta"),{type:"manual",message:"Campo obrigat\xe1rio"}),ac.push(null==e?void 0:e.nome),ad=!0),e.respostaConfig&&1==e.respostaConfig.anexo&&e.respostaConfig.anexosSolicitados.length>0&&e.respostaConfig.anexosSolicitados.forEach((t,i)=>{1==t.obrigatorio&&t.anexos&&0==t.anexos.length&&(e7("blocos[".concat(a,"].itens[").concat(o,"].respostaConfig.anexosSolicitados[").concat(i,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),ac.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==t?void 0:t.nome)),ad=!0)})})}),ee&&ee.length>0&&ee.forEach((e,a)=>{e.itens.forEach((o,t)=>{1===o.obrigatorio&&0==o.anexos.length&&(e7("grupoAnexo[".concat(a,"].itens[").concat(t,"].anexos"),{type:"manual",message:"Campo obrigat\xe1rio"}),ac.push("Anexo: ".concat(null==e?void 0:e.nome," / ").concat(null==o?void 0:o.nome)),ad=!0)})}),eR({status:ad,errors:ac}),ad&&ac.forEach(e=>{e2(e)})},ax=async e=>{if(9===e.length){let a=e.replace(/[^0-9]/g,"");try{let o=await s.hi.get("https://viacep.com.br/ws/".concat(a,"/json/"));o.data.localidade?(eI.forEach(async(e,a)=>{("logradouro"===e.nomeColuna||"bairro"===e.nomeColuna||"cidade"===e.nomeColuna||"estado"===e.nomeColuna)&&(await e0("fields[".concat(a,"].logradouro"),o.data.logradouro),await e0("fields[".concat(a,"].bairro"),o.data.bairro),await e0("fields[".concat(a,"].cidade"),o.data.localidade),await e0("fields[".concat(a,"].estado"),o.data.uf))}),F.ZP.success("Endere\xe7o encontrado!")):F.ZP.error("Endere\xe7o n\xe3o encontrado!")}catch(t){console.error(t)}}},ap=async()=>{await e3(ag)(),am(),eE(!0),_(!0)},af=e=>{let a=!0;e.forEach(e=>{e.itens.forEach(e=>{e.respostaConfig&&1==e.respostaConfig.bloqueiaFormulario&&(a=!1)})}),Q(a)},ah=async(e,a)=>{1===H.papelID&&eL(r,a,"fornecedor"),e.conclusion=!0,await e3(ag)(e)},av=(e,a,o)=>{let t=30==e?"Em preenchimento":40==e?"Conclu\xeddo":50==e?"Reprovado":60==e?"Aprovado parcialmente":70==e?"Aprovado":"Pendente",i={titulo:"Formul\xe1rio de Fornecedor ".concat(t),descricao:"O formul\xe1rio de Fornecedor #".concat(r," est\xe1 ").concat(t,"."),url:"/formularios/fornecedor/",urlID:r,tipoNotificacaoID:6,usuarioGeradorID:O.usuarioID,usuarioID:0,unidadeID:H.unidadeID,papelID:1};if(i&&(ep(i),a)){let l={titulo:"Fornecedor gerado",descricao:"O formul\xe1rio de Fornecedor #".concat(r," est\xe1 ").concat(t," e gerou uma n\xe3o conformidade."),url:"/formularios/fornecedor/nao-conformidade/",urlID:o,tipoNotificacaoID:5,usuarioGeradorID:O.usuarioID,usuarioID:0,unidadeID:H.unidadeID,papelID:1};ep(l)}},ag=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("no onSubmit..."),eE(!1),eG(),!0===a.conclusion?(e.status=O&&1==O.papelID?a.status:40,e.obsConclusao=a.obsConclusao):(console.log("no onSubmit...2"),e4());let o={form:e,auth:{usuarioID:O.usuarioID,papelID:O.papelID,unidadeID:H.unidadeID},currentStatus:e.info.status};try{"edit"==eX?(T(!0),await s.hi.post("".concat(eW,"/updateData/").concat(r),o).then(a=>{F.ZP.success(b.OD.successUpdate),T(!1);let o=null;a.data&&a.data.naoConformidade&&a.data.id>0&&(eJ.push("/formularios/fornecedor/nao-conformidade/"),eq(a.data.id),o=a.data.id),av(e.status,e.naoConformidade,o)})):"new"==eX?await s.hi.post("".concat((0,b.g_)(eW),"/insertData"),o).then(e=>{eJ.push("".concat((0,b.g_)(eW))),eq(e.data),F.ZP.success(b.OD.successNew)}):F.ZP.error(b.OD.error)}catch(t){console.log(t)}finally{eU(),eu(!es)}},aj=async(e,a)=>{eG();let o=e.target.files;if(o&&o.length>0){var t,i,l,n;let d=new FormData;for(let c=0;c<o.length;c++)d.append("files[]",o[c]);d.append("usuarioID",O.usuarioID),d.append("unidadeID",H.unidadeID),d.append("produtoAnexoID",null!==(t=a.produtoAnexoID)&&void 0!==t?t:null);try{await s.hi.post("".concat(eW,"/saveAnexo/").concat(r,"/produto/").concat(O.usuarioID,"/").concat(J.unidadeID),d);let u=e$();ag(u)}catch(m){F.ZP.error(null!==(n=null===(i=m.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.message)&&void 0!==n?n:"Erro ao atualizar anexo, tente novamente!")}finally{eU()}}},aD=async(e,a)=>{let o=e.target.files;if(o&&o.length>0){var t,i,l,n;let d=new FormData;for(let c=0;c<o.length;c++)d.append("files[]",o[c]);d.append("usuarioID",O.usuarioID),d.append("unidadeID",H.unidadeID),d.append("grupoAnexoItemID",null!==(t=a.grupoAnexoItemID)&&void 0!==t?t:null);try{eG(),await s.hi.post("".concat(eW,"/saveAnexo/").concat(r,"/grupo-anexo/").concat(O.usuarioID,"/").concat(J.unidadeID),d);let u=e$();ag(u)}catch(m){F.ZP.error(null!==(n=null===(i=m.response)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.message)&&void 0!==n?n:"Erro ao atualizar anexo, tente novamente!")}finally{eU()}}},aI=async(e,a)=>{let o=e.target.files;if(o&&o.length>0){var t,i,l,n,d;let c=new FormData;for(let u=0;u<o.length;u++)c.append("files[]",o[u]);c.append("usuarioID",O.usuarioID),c.append("unidadeID",H.unidadeID),c.append("parFornecedorModeloBlocoID",null!==(t=a.parFornecedorModeloBlocoID)&&void 0!==t?t:null),c.append("itemOpcaoAnexoID",null!==(i=a.itemOpcaoAnexoID)&&void 0!==i?i:null);try{eG(),await s.hi.post("".concat(eW,"/saveAnexo/").concat(r,"/item/").concat(O.usuarioID,"/").concat(J.unidadeID),c);let m=e$();ag(m)}catch(x){F.ZP.error(null!==(d=null===(l=x.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)&&void 0!==d?d:"Erro ao atualizar anexo, tente novamente!")}finally{eU()}}},ab=async e=>{try{let a=await s.hi.post("/cadastros/item/getItemConfigs",{itemID:e.itemID,alternativaItemID:e.alternativa.id}),o=eS.map(o=>({...o,itens:o.itens.map(o=>o.itemID==e.itemID?{...o,respostaConfig:{...a.data}}:o)}));eC(o)}catch(t){console.log("error",t)}},aZ=async e=>{e&&await s.hi.delete("".concat(eW,"/deleteAnexo/").concat(r,"/").concat(e.anexoID,"/").concat(J.unidadeID,"/").concat(O.usuarioID,"/produto")).then(e=>{let a=e$();ag(a)}).catch(e=>{var a,o,t;F.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},ay=async e=>{e&&await s.hi.delete("".concat(eW,"/deleteAnexo/").concat(r,"/").concat(e.anexoID,"/").concat(J.unidadeID,"/").concat(O.usuarioID,"/grupo-anexo")).then(e=>{let a=e$();ag(a)}).catch(e=>{var a,o,t;F.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},aS=async e=>{e&&await s.hi.delete("".concat(eW,"/deleteAnexo/").concat(r,"/").concat(e.anexoID,"/").concat(J.unidadeID,"/").concat(O.usuarioID,"/item")).then(e=>{let a=e$();ag(a)}).catch(e=>{var a,o,t;F.ZP.error(null!==(t=null===(a=e.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)&&void 0!==t?t:"Erro ao remover anexo, tente novamente!")})},aC=e=>{let a=[...eS];a.forEach((a,o)=>{a.itens.forEach((a,t)=>{let i=a.alternativas[e];e0("blocos[".concat(o,"].itens[").concat(t,"].resposta"),i),a.resposta=i&&i.id>0?i:null})}),eC(a),eu(e=>!e)},aF=e=>{e.preventDefault();let a=e$();ag(a)};return(0,i.useEffect)(()=>{"edit"==eX&&ar(),P({user:O,report:{id:r}})},[V]),(0,i.useEffect)(()=>{am()},[e_]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("form",{onSubmit:e=>aF(e),children:[(0,t.jsx)(Z.Z,{btnCancel:!0,btnDelete:(null==ew?void 0:ew.status)<40,onclickDelete:()=>eH(!0),btnSave:eB.status,btnSend:1==O.papelID&&(ew.status>=30&&ew.status<40&&1==J.quemPreenche||40==ew.status&&2==J.quemPreenche)||2==O.papelID&&ew.status<40&&2==J.quemPreenche,btnPrint:"edit"==eX,actionsData:an,actions:!0,handleSubmit:()=>e3(ag),handleSend:ap,iconConclusion:"mdi:check-bold",titleConclusion:"Concluir Formul\xe1rio",title:"Fornecedor",btnStatus:"edit"==eX,handleBtnStatus:()=>eh(!0),type:eX,status:em}),E&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[em&&(0,t.jsx)(m.Z,{size:"small",skin:"light",color:em.color,label:em.title,sx:{"& .MuiChip-label":{textTransform:"capitalize"}}}),(0,t.jsx)(m.Z,{size:"small",skin:"light",color:"primary",label:((null==J?void 0:J.quemPreenche)==1?"F\xe1brica":"Fornecedor")+" preenche"}),(0,t.jsx)(m.Z,{size:"small",skin:"light",label:"Modelo ".concat(null==J?void 0:J.modelo)})]}),(0,t.jsxs)(f.Z,{display:"flex",flexDirection:"column",sx:{gap:6},children:[ek&&ek.length>0&&(0,t.jsxs)(h.Z,{severity:"info",sx:{mb:2},children:[(0,t.jsxs)("h1",{children:["Os seguintes campos foram copiados de ",(0,t.jsx)("strong",{children:"Meus Dados"}),":"]}),(0,t.jsx)("div",{className:"pt-2",children:ek.map(e=>(0,t.jsx)("div",{className:"flex opacity-80",children:(0,t.jsx)("p",{children:"- ".concat(e.name," (").concat(e.value,")")})}))})]}),ew&&""!=ew.cabecalhoModelo&&(0,t.jsx)(v.Z,{children:(0,t.jsx)(g.Z,{children:(0,t.jsx)("p",{children:ew.cabecalhoModelo})})}),(0,t.jsx)(v.Z,{children:(0,t.jsx)(g.Z,{children:J&&(0,t.jsx)(eo,{modeloID:J.parFornecedorModeloID,values:ev,fields:eI,disabled:!eB.status||G,register:eY,errors:e5,setValue:e0,control:e1,getValues:e$,getAddressByCep:ax})})}),K&&K.length>0&&(0,t.jsx)(v.Z,{children:(0,t.jsx)(g.Z,{children:(0,t.jsx)($,{values:K,handleFileSelect:aj,handleRemove:aZ,disabled:!eB.status||G,errors:null==e5?void 0:e5.produtos},e_)})}),eS&&eS.map((e,a)=>(0,t.jsx)(c.Z,{index:a,blockKey:"parFornecedorModeloBlocoID",handleFileSelect:aI,changeAllOptions:aC,setItemResposta:ab,handleRemoveAnexoItem:aS,setBlocos:eC,values:e,control:e1,register:eY,setValue:e0,getValues:e$,errors:null==e5?void 0:e5.blocos,disabled:!eB.status||G},es)),ee&&ee.map((e,a)=>(0,t.jsx)(p.Z,{values:{grupo:e,indexGrupo:a,handleFileSelect:aD,handleRemove:ay,folder:"grupo-anexo",disabled:!eB.status,error:e5}},a)),ew&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(v.Z,{children:(0,t.jsx)(g.Z,{children:(0,t.jsx)(j.ZP,{container:!0,spacing:4,children:(0,t.jsx)(j.ZP,{item:!0,xs:12,md:12,children:(0,t.jsxs)(D.Z,{fullWidth:!0,children:[(0,t.jsx)(I.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Observa\xe7\xf5es (campo de uso exclusivo da validadora)"}),(0,t.jsx)(x.Z,{title:"Observa\xe7\xe3o (opcional)",name:"info.obs",multiline:!0,rows:4,value:ew.obs,disabled:!eB.status||G,control:e1})]})})})})})}),ej&&ej.concluded&&(0,t.jsx)(I.Z,{variant:"caption",children:"Conclu\xeddo por ".concat(null==ej?void 0:null===(o=ej.profissionalAprova)||void 0===o?void 0:o.nome," em ").concat(ej.dataFim," ").concat(ej.horaFim,".")}),ef&&(0,t.jsx)(u.Z,{title:"Hist\xf3rico do Formul\xe1rio",text:"Listagem do hist\xf3rico das movimenta\xe7\xf5es do formul\xe1rio ".concat(r," do Fornecedor."),id:r,parFormularioID:1,formStatus:ew.status,hasFormPending:G,canChangeStatus:!G&&2==J.quemPreenche&&ew.status>=40,openModal:ef,handleClose:()=>eh(!1),btnCancel:!0,btnConfirm:!0,handleSubmit:e6}),(0,t.jsx)(w.Z,{openModal:eA,handleClose(){eE(!1),_(!1)},title:"Concluir Formul\xe1rio",text:"Deseja realmente concluir este formul\xe1rio?",info:ew,canChange:!G,register:eY,setValue:e0,getValues:e$,btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",conclusionForm:ah,listErrors:ez,handleSend:ap,canApprove:!0,type:"fornecedor",unity:J}),(0,t.jsx)(en.Z,{parFormularioID:1,id:r},es)]})]}),!E&&(0,t.jsx)(er,{values:q})]}),(0,t.jsx)(ei.Z,{title:"Excluir Formul\xe1rio",description:"Tem certeza que deseja exluir o formulario?",params:{route:"formularios/fornecedor/delete/".concat(r),messageSucceded:"Formul\xe1rio exclu\xeddo com sucesso!",MessageError:"Dado possui pend\xeancia!"},open:eO,handleClose:()=>eH(!1)})]})};var em=o(60565),ex=o(72819),ep=o(47842);let ef=e=>{let{values:a}=e;return(0,t.jsx)("div",{children:(0,t.jsxs)(f.Z,{display:"flex",flexDirection:"column",sx:{gap:4},children:[(0,t.jsxs)(I.Z,{variant:"body2",children:[(0,t.jsx)("strong",{children:"E-mail enviado para: "})," ",null==a?void 0:a.email]}),(0,t.jsxs)(I.Z,{variant:"body2",children:[(0,t.jsx)("strong",{children:"Link do formul\xe1rio: "})," ",null==a?void 0:a.link]})]})})};var eh=o(30944),ev=o(30140);let eg=()=>{let{user:e,loggedUnity:a}=(0,i.useContext)(S.V),o=(0,l.useRouter)(),n=o.pathname,{setTitle:d}=(0,i.useContext)(em.f),{id:c,setId:u}=(0,i.useContext)(y.X),[m,x]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),[h,v]=(0,i.useState)(null),{isNotFactory:g}=(0,U.r7)(),{form:j,dataSupplier:D,startFilter:I,SelectFilterByName:Z,setFilteredDataSupplier:C,filteredDataSupplier:N,setDataSupplier:w,setKey:P,key:A}=(0,eh.L0)(),E=()=>{x(!0)},z=async()=>{console.log("getList");try{let o=await s.hi.post("".concat(n,"/getList/"),{unidadeID:a.unidadeID,papelID:e.papelID,cnpj:e.cnpj?e.cnpj:null});if(!o.data)return;C(o.data),w(o.data),d({title:"Fornecedor",subtitle:{id:c,count:o.data.length,new:!1}})}catch(t){console.log(t)}},R=async o=>{try{var t,i,l,n;let r=await s.hi.post("/formularios/fornecedor/makeFornecedor",{usuarioID:e.usuarioID,papelID:e.papelID,profissionalID:e.profissionalID,unidadeID:a.unidadeID,values:o.fields,habilitaQuemPreencheFormFornecedor:o.habilitaQuemPreencheFormFornecedor,fornecedorCategoriaID:null===(t=o.fields)||void 0===t?void 0:null===(i=t.categoria)||void 0===i?void 0:i.fornecedorCategoriaID,fornecedorCategoriaRiscoID:null===(l=o.fields)||void 0===l?void 0:null===(n=l.risco)||void 0===n?void 0:n.fornecedorCategoriaRiscoID});200==r.status&&(F.ZP.success(r.data.message),g?(f(!0),v(r.data.result),z()):u(r.data.result.fornecedorID))}catch(d){console.error("Erro ao enviar email",d)}},q=()=>{let e=null==h?void 0:h.link;e&&(navigator.clipboard.writeText(e),F.ZP.success("Link copiado com sucesso!"))};(0,i.useEffect)(()=>{C([]),w([])},[o.query]),(0,i.useEffect)(()=>{z(),I((0,t.jsx)(ev.default,{}))},[c,o.query]),(0,i.useEffect)(()=>{o.query.f&&u(o.query.f)},[o.query]);let k=1==e.papelID?[{headerName:"ID",field:"id",size:.2},{headerName:"Data da Avalia\xe7\xe3o",field:"data",size:.7,type:"date"},{headerName:"Fornecedor",field:"fornecedor",size:2},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Quem preenche",field:"quemPreenche",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]:2==e.papelID?[{headerName:"ID",field:"id",size:1},{headerName:"Data da Avalia\xe7\xe3o",field:"data",size:1,type:"date"},{headerName:"F\xe1brica",field:"fabrica",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Respons\xe1vel",field:"responsavel",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]:[],M=(0,b.OL)(n,k);return(0,t.jsxs)(t.Fragment,{children:[N?c&&c>0?(0,t.jsx)(eu,{id:c,makeFornecedor:R}):(0,t.jsx)(r.Z,{result:N,columns:M,openModal:1==e.papelID?E:null,btnNew:1==e.papelID},"".concat(A,"-").concat(N)):(0,t.jsx)(ep.Z,{show:!0}),(0,t.jsx)(ex.Z,{title:"Habilitar Fornecedor",handleConclusion:R,setOpenModal:x,openModal:m,size:"lg",fullHeight:!0,children:(0,t.jsx)(W,{})}),(0,t.jsx)(ex.Z,{title:"Formul\xe1rio enviado ao fornecedor",description:"Um novo formul\xe1rio de qualifica\xe7\xe3o de fornecedor foi enviado",handleCopyLink:q,setOpenModal:f,openModal:p,children:(0,t.jsx)("div",{children:(0,t.jsx)(ef,{values:h})})})]})};var ej=eg}},function(e){e.O(0,[4738,4186,1445,1111,5999,594,172,2187,1515,44,6887,5061,9525,2697,6545,9291,9774,2888,179],function(){return e(e.s=59424)}),_N_E=e.O()}]);