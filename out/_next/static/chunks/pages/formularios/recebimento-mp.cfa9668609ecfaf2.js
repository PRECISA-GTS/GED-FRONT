(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2752],{68374:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/formularios/recebimento-mp",function(){return t(75600)}])},3404:function(e,a,t){"use strict";t.d(a,{H:function(){return o}});let o=(e,a)=>{a.push({pathname:a.pathname,query:{...null==a?void 0:a.query,aba:e}},void 0,{shallow:!0})}},63067:function(e,a,t){"use strict";t.r(a);var o=t(85893),i=t(67294),n=t(46905),s=t(55148),d=t(51570),r=t(30944);let l=()=>{var e,a;let{form:t,setNames:l,filterDate:u,SelectFilterByName:m,dataRecebimentoMP:c,setFilteredDataRecebimentoMP:f,handleSearch:h,key:x,searchText:p}=(0,r.L0)(),{commonData:N}=(0,d.Lq)(),j=c,b=async()=>{f(j=await m(j=await m(j=await m(j=await u(j=await h(j)),"status"),"profissional"),"modelo"))};return(0,i.useEffect)(()=>{b()},[x]),(0,i.useEffect)(()=>{l(["dataInicio","dataFim","status","profissional","modelo"])},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{xs:12,md:6,title:"Data inicio",name:"dataInicio",form:t}),(0,o.jsx)(n.Z,{xs:12,md:6,title:"Data Fim",name:"dataFim",form:t}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Status",name:"status",form:t,options:N.status}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Profissional",name:"profissional",value:null===(e=t.getValues("profissional"))||void 0===e?void 0:e.name,form:t,options:N.professional}),(0,o.jsx)(s.Z,{xs:12,md:6,title:"Modelo",name:"modelo",value:null===(a=t.getValues("modelo"))||void 0===a?void 0:a.name,form:t,options:N.recebimentoModel})]})};a.default=l},41284:function(e,a,t){"use strict";t.r(a);var o=t(85893),i=t(67294),n=t(60664),s=t(93250),d=t(60565),r=t(40039),l=t(47842),u=t(11163),m=t(71798),c=t(30944),f=t(63067),h=t(72819),x=t(78432),p=t(87536),N=t(83830);let j=()=>{let{user:e,loggedUnity:a}=(0,i.useContext)(r.V),t=(0,u.useRouter)(),{setModelID:j,setRecebimentoMpID:b}=(0,i.useContext)(N.X),v=t.pathname,{setTitle:w}=(0,i.useContext)(d.f),{startFilter:z,setFilteredDataRecebimentoMP:Z,filteredDataRecebimentoMP:g,setDataRecebimentoMP:D}=(0,c.L0)(),[y,I]=(0,i.useState)(!1),C=(0,p.cI)({mode:"onChange"}),F=async()=>{await n.h.post("/formularios/recebimento-mp/nao-conformidade/getList",{unidadeID:a.unidadeID,papelID:e.papelID,usuarioID:e.usuarioID}).then(e=>{Z(e.data),D(e.data),w({title:"N\xe3o Conformidades do Recebimento de MP",icon:"typcn:warning-outline",subtitle:{id:null,count:e.data.length,new:!1}})})},M=()=>{let e=C.getValues("new");b(e.recebimento.id),j(e.modelo.id),t.push("/formularios/recebimento-mp/novo/?aba=nao-conformidade")};(0,i.useEffect)(()=>{F(),z((0,o.jsx)(f.default,{}),!1)},[t.query]);let _=(0,m.OL)(v,[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.7,type:"date"},{headerName:"Recebimento de MP",field:"recebimentoMpID",size:1},{headerName:"Fornecedor",field:"fornecedor",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}]);return(0,o.jsxs)(o.Fragment,{children:[g?(0,o.jsx)(s.Z,{result:g,columns:_,btnNew:!1,btnNewModal:1===e.papelID,handleNewModal:()=>I(!0)},g):(0,o.jsx)(l.Z,{show:!0}),(0,o.jsx)(h.Z,{title:"Nova N\xe3o Conformidade",handleConclusion:M,size:"lg",setOpenModal:I,openModal:y,children:(0,o.jsx)(x.Z,{form:C,type:"list",data:null})})]})};a.default=j},21196:function(e,a,t){"use strict";t.r(a);var o=t(85893),i=t(67294),n=t(60664),s=t(93250),d=t(60565),r=t(40039),l=t(47842),u=t(11163),m=t(71798),c=t(30944),f=t(63067);let h=()=>{let{user:e,loggedUnity:a}=(0,i.useContext)(r.V),t=(0,u.useRouter)(),h=t.pathname,{setTitle:x}=(0,i.useContext)(d.f),{startFilter:p,setFilteredDataRecebimentoMP:N,filteredDataRecebimentoMP:j,setDataRecebimentoMP:b}=(0,c.L0)(),v=async()=>{await n.h.get("".concat(h,"/getList/").concat(a.unidadeID,"/").concat(e.papelID,"/").concat(e.usuarioID)).then(e=>{N(e.data),b(e.data),x({icon:"icon-park-outline:receive",title:"Recebimento de MP",subtitle:{id:null,count:e.data.length,new:!1}})})};(0,i.useEffect)(()=>{v(),p((0,o.jsx)(f.default,{}),!1)},[t.query]);let w=2==e.papelID?[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.1,type:"date",variant:"naoConformidade"},{headerName:"F\xe1brica",field:"fabrica",size:.2},{headerName:"NF",field:"nf",size:1},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:.2},{headerName:"Status",field:{name:"status",cor:"cor"},size:.2,type:"statusSteps"}]:[{headerName:"ID",field:"id",size:.1},{headerName:"Data",field:"data",size:.7,type:"date",variant:"naoConformidade"},{headerName:"Fornecedor",field:"fornecedor",size:1},{headerName:"NF",field:"nf",size:.6},{headerName:"Produtos",field:"produtos",size:1},{headerName:"Modelo",field:"modelo",size:1},{headerName:"Status",field:{name:"status",cor:"cor"},size:1,type:"statusSteps"}],z=(0,m.OL)(h,w);return(0,o.jsx)(o.Fragment,{children:j?(0,o.jsx)(s.Z,{result:j,columns:z},j):(0,o.jsx)(l.Z,{show:!0})})};a.default=h},75600:function(e,a,t){"use strict";t.r(a);var o=t(85893),i=t(45670),n=t(8769),s=t(55050),d=t(61953),r=t(18661),l=t(67294),u=t(83830),m=t(21196),c=t(73796),f=t(41284),h=t(11163),x=t(21609),p=t(78553),N=t(3404);let j=()=>{let e=(0,h.useRouter)(),{id:a}=(0,l.useContext)(u.X),[t,j]=(0,l.useState)("recebimento"),b=(a,t)=>{j(t),(0,N.H)(t,e)},v=()=>e.query.aba||"recebimento";return(0,l.useEffect)(()=>{j(v())},[e.query.aba]),(0,o.jsx)(o.Fragment,{children:a?(0,o.jsxs)(o.Fragment,{children:["recebimento"===v()&&(0,o.jsx)(c.Z,{id:a,model:null}),"nao-conformidade"===v()&&(0,o.jsx)(p.Z,{id:a})]}):(0,o.jsxs)(i.ZP,{value:t,children:[(0,o.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,o.jsxs)(n.Z,{onChange:b,children:[(0,o.jsx)(r.Z,{label:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(x.Z,{icon:"icon-park-outline:receive"}),(0,o.jsx)("p",{children:"Recebimento de MP"})]}),value:"recebimento",sx:{textTransform:"none",fontSize:"1rem"}}),(0,o.jsx)(r.Z,{label:(0,o.jsxs)("div",{className:"flex items-center gap-1",children:[(0,o.jsx)(x.Z,{icon:"typcn:warning-outline"}),(0,o.jsx)("p",{children:"N\xe3o Conformidade"})]}),value:"nao-conformidade",sx:{textTransform:"none",fontSize:"1rem"}})]})}),(0,o.jsx)(s.Z,{value:"recebimento",children:(0,o.jsx)(m.default,{})}),(0,o.jsx)(s.Z,{value:"nao-conformidade",children:(0,o.jsx)(f.default,{})})]})})};a.default=j}},function(e){e.O(0,[4738,4186,1445,1111,5999,5206,2187,137,8163,4297,2477,8428,15,3545,7397,3796,4100,9488,9774,2888,179],function(){return e(e.s=68374)}),_N_E=e.O()}]);