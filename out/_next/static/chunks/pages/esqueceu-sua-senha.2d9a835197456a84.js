(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3825],{91359:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(87462),a=n(63366),i=n(67294),s=n(86010),o=n(94780),l=n(67074),u=n(78884),d=n(1588),c=n(34867);function v(e){return(0,c.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var m=n(85893);let h=["className","component"],p=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},v,t)},f=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=i.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=n,l=(0,a.Z)(n,h),d=(0,r.Z)({},n,{component:o}),c=p(d);return(0,m.jsx)(f,(0,r.Z)({as:o,className:(0,s.Z)(c.root,i),ownerState:d,ref:t},l))});var g=x},49837:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(87462),a=n(63366),i=n(67294),s=n(86010),o=n(94780),l=n(67074),u=n(78884),d=n(70918),c=n(1588),v=n(34867);function m(e){return(0,v.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var h=n(85893);let p=["className","raised"],f=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},m,t)},x=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),g=i.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=n,l=(0,a.Z)(n,p),d=(0,r.Z)({},n,{raised:o}),c=f(d);return(0,h.jsx)(x,(0,r.Z)({className:(0,s.Z)(c.root,i),elevation:o?8:void 0,ref:t,ownerState:d},l))});var Z=g},3511:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/esqueceu-sua-senha",function(){return n(9361)}])},82747:function(e,t,n){"use strict";function r(e){if(!e||14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=e.length-2,n=e.substring(0,t),r=e.substring(t),a=0,i=t-7;for(let s=t;s>=1;s--)a+=n.charAt(t-s)*i--,i<2&&(i=9);let o=a%11<2?0:11-a%11;if(o!=r.charAt(0))return!1;t+=1,n=e.substring(0,t),a=0,i=t-7;for(let l=t;l>=1;l--)a+=n.charAt(t-l)*i--,i<2&&(i=9);return(o=a%11<2?0:11-a%11)==r.charAt(1)}function a(e){let t;if(!e||11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=0;for(let r=1;r<=9;r++)n+=parseInt(e.substring(r-1,r))*(11-r);if((10==(t=10*n%11)||11===t)&&(t=0),t!==parseInt(e.substring(9,10)))return!1;n=0;for(let a=1;a<=10;a++)n+=parseInt(e.substring(a-1,a))*(12-a);return(10==(t=10*n%11)||11===t)&&(t=0),t===parseInt(e.substring(10,11))}function i(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}n.d(t,{dI:function(){return i},sw:function(){return a},zk:function(){return r}})},9361:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(41664),i=n.n(a),s=n(60664),o=n(61953),l=n(54225),u=n(67836),d=n(29630),c=n(91359),v=n(67074),m=n(49837),h=n(55343),p=n(21609);n(30152);var f=n(88942),x=n(32414),g=n(67294),Z=n(87536),j=n(34175),C=n(82747),b=n(11163),P=n.n(b),y=n(86501),w=n(41099),N=n(22841),k=n(75158),I=n(19604),S=n(431);let E=(0,v.ZP)(m.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("sm")]:{width:450}}}),_=()=>{var e,t,n,a,v,m,f,b,_;let[F,D]=(0,g.useState)(),[q,z]=(0,g.useState)(),[A,M]=(0,g.useState)(),R=P(),{isCpf:V,setIsCpf:J}=(0,g.useContext)(S.YF),L=null==q?void 0:null===(e=q.email)||void 0===e?void 0:e.replace(/^(.{3}).*@/,"$1****@"),T=(0,Z.cI)({});function W(e){z(""),"login"==F&&14==e.length&&(0,C.sw)(e)?s.h.post("esqueceuSenha/validation?type=".concat(F),{data:e}).then(e=>{z(e.data)}):("fornecedor"==F&&!V&&18==e.length&&(0,C.zk)(e)||V&&14==e.length&&(0,C.sw)(e))&&(console.log("ENVIA PRO BACKEND"),s.h.post("esqueceuSenha/validation?type=".concat(F),{data:e}).then(e=>{z(e.data)}))}let $=e=>{let t={...e,email:null==q?void 0:q.email,nome:null==q?void 0:q.nome,usuarioID:null==q?void 0:q.usuarioID};s.h.post("/esqueceuSenha?type=".concat(F),{data:t}).then(e=>{200===e.status?y.Am.success("Email enviado com sucesso!"):y.Am.error("Erro ao enviar email, tente novamente!")})};return(0,g.useEffect)(()=>{D(R.query.type)},[R.query]),(0,r.jsxs)(o.Z,{className:"content-center",children:[(0,r.jsx)(E,{sx:{zIndex:1},style:{width:"min(500px, 96%)"},children:(0,r.jsxs)(c.Z,{sx:{p:e=>"".concat(e.spacing(15.5,7,8)," !important")},children:[(0,r.jsx)(o.Z,{sx:{mb:8,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(w.Z,{})}),(0,r.jsxs)(o.Z,{sx:{mb:6.5},children:[(0,r.jsx)(d.Z,{variant:"h5",sx:{mb:1.5,letterSpacing:"0.18px",fontWeight:600},children:"Esqueceu sua senha? \uD83D\uDD12"}),(0,r.jsx)(d.Z,{variant:"body2",children:"login"===F?"Digite seu CPF e enviaremos instru\xe7\xf5es para redefinir sua senha":"Digite seu ".concat(V?"CPF":"CNPJ"," e enviaremos instru\xe7\xf5es para redefinir sua senha")})]}),(0,r.jsxs)("form",{onSubmit:T.handleSubmit($),children:["login"===F?(0,r.jsx)(h.Z,{fullWidth:!0,children:(0,r.jsx)(u.Z,{label:"CPF",placeholder:"CPF",size:"small","aria-describedby":"validation-schema-nome",name:"cpf",...T.register("cpf",{required:!0,validate:e=>(0,C.sw)(e)||"CPF inv\xe1lido"}),error:null===(t=T.formState)||void 0===t?void 0:t.errors.cpf,helperText:null===(a=null===(n=T.formState)||void 0===n?void 0:n.errors.cpf)||void 0===a?void 0:a.message,inputProps:{maxLength:14,onChange(e){T.setValue("cpf",(0,j.VL)(e.target.value)),W(e.target.value),M(e.target.value)}}})}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.Z,{fullWidth:!0,children:(0,r.jsx)(u.Z,{label:V?"CPF":"CNPJ",placeholder:V?"CPF":"CNPJ","aria-describedby":"validation-schema-nome",name:"cnpj",...T.register("cnpj",{required:!0,validate:e=>V?(0,C.sw)(e):(0,C.zk)(e)||V?"CPF inv\xe1lido":"CNPJ inv\xe1lido"}),error:null===(v=T.formState)||void 0===v?void 0:null===(m=v.errors)||void 0===m?void 0:m.cnpj,helperText:null===(f=T.formState)||void 0===f?void 0:null===(b=f.errors)||void 0===b?void 0:null===(_=b.cnpj)||void 0===_?void 0:_.message,inputProps:{maxLength:V?14:18,onChange(e){T.setValue("cnpj",V?(0,j.VL)(e.target.value):(0,j.PK)(e.target.value)),W(e.target.value),M(e.target.value)}}})}),(0,r.jsx)(N.Z,{label:"CPF",labelPlacement:"top",control:(0,r.jsx)(k.Z,{checked:V,onChange(e){J(e.target.checked),T.setValue("cnpj","")}}),sx:{position:"relative",top:-10}})]}),(null==q?void 0:q.email)&&(0,C.dI)(null==q?void 0:q.email)&&(0,r.jsx)(I.Z,{severity:"info",sx:{mt:2},children:(0,r.jsxs)(d.Z,{variant:"body2",children:["Um link para a redefini\xe7\xe3o da senha ser\xe1 enviado para ",L]})}),!q&&(null==A?void 0:A.length)==("login"==F?14:18)&&(0,r.jsx)(I.Z,{severity:"error",sx:{mt:2},children:(0,r.jsxs)(d.Z,{variant:"body2",children:["Esse ","login"==F?"CPF":"CNPJ"," n\xe3o est\xe1 na nossa base de dados!"]})}),(0,r.jsx)(l.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",sx:{mb:5.25,mt:4},disabled:!(null==q?void 0:q.email)||!(0,C.dI)(null==q?void 0:q.email),children:"Enviar"}),(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(d.Z,{component:i(),href:"login"===F?"/login":"/fornecedor",sx:{display:"flex","& svg":{mr:1.5},alignItems:"center",color:"primary.main",textDecoration:"none",justifyContent:"center"},children:[(0,r.jsx)(p.Z,{icon:"mdi:chevron-left",fontSize:"2rem"}),(0,r.jsx)("span",{children:"Voltar para o login"})]})})]})]})}),(0,r.jsx)(x.Z,{image:"/images/pages/auth-v1-reset-password-mask-dark.png"})]})};_.getLayout=e=>(0,r.jsx)(f.Z,{children:e}),_.guestGuard=!0,t.default=_},32414:function(e,t,n){"use strict";var r=n(85893),a=n(61225),i=n(67074),s=n(62097);let o=(0,i.ZP)("img")(e=>{let{theme:t}=e;return{zIndex:-1,bottom:"7%",width:"100%",position:"absolute",[t.breakpoints.down("lg")]:{bottom:"10%"}}}),l=e=>{let{image:t}=e,n=(0,s.Z)(),i=(0,a.Z)(n.breakpoints.down("md")),l=t||"/images/pages/auth-v1-login-mask-".concat(n.palette.mode,".png");return i?null:(0,r.jsx)(o,{alt:"mask",src:l})};t.Z=l}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=3511)}),_N_E=e.O()}]);