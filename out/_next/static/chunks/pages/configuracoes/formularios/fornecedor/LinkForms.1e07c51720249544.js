(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{81465:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes/formularios/fornecedor/LinkForms",function(){return s(39178)}])},55148:function(e,l,s){"use strict";var t=s(85893),r=s(79072),n=s(55343),a=s(35966),o=s(67836),i=s(87536),c=s(53934),d=s(30944);let u=e=>{let{xs:l,md:s,title:u,options:m,form:x,name:f,limitTags:p,value:h,required:g,disabled:v,multiple:j,onChange:N,className:_,keyProps:Z,createNew:w,helpText:y,helpTextPosition:I}=e,b=w?[{id:null,name:"-- Novo --"},...null!=m?m:[]]:m,{key:C}=(0,d.L0)();return(0,t.jsx)(r.ZP,{item:!0,xs:l,md:s,sx:{my:1},className:_,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Z,{fullWidth:!0,children:(0,t.jsx)(i.Qr,{name:f,control:x.control,rules:{required:g},render(e){var l;let{field:s}=e;return(0,t.jsx)(a.Z,{options:b.map(e=>e.name),value:null!=h?h:null===(l=x.getValues(f))||void 0===l?void 0:l.name,onChange(e,l){let s=b.find(e=>e.name===l);x.setValue(f,null!=s?s:null),N&&N(l)},renderInput(e){var l;return(0,t.jsx)(o.Z,{...e,id:"customSelect",size:"small",label:u,placeholder:u,error:!!x.formState.errors[f],helperText:null===(l=x.formState.errors[f])||void 0===l?void 0:l.message})}},Z||C)}})}),y&&(0,t.jsx)("div",{className:"absolute right-[60px] top-[12px] ",children:(0,t.jsx)(c.Z,{text:y,position:null!=I?I:"top"})})]})})};l.Z=u},39178:function(e,l,s){"use strict";s.r(l);var t=s(85893),r=s(67294),n=s(11163),a=s.n(n),o=s(60664),i=s(79072),c=s(55148),d=s(40039),u=s(21609);let m=e=>{let{form:l,onSubmit:s}=e,{loggedUnity:n}=(0,r.useContext)(d.V),m=a(),x=m.pathname,[f,p]=(0,r.useState)(null),[h,g]=(0,r.useState)([]),v=async()=>{try{let e=await o.h.post("".concat(x,"/getCategories"),{unidadeID:n.unidadeID,allRisks:!0});p(e.data)}catch(l){console.log(l)}},j=async()=>{try{let e=await o.h.post("/formularios/fornecedor/getModels",{unidadeID:n.unidadeID});g(e.data)}catch(l){console.log(l)}};return(0,r.useEffect)(()=>{v(),j(),setTimeout(()=>{l.trigger()},300)},[]),(0,t.jsx)("div",{className:"flex flex-col gap-6",children:f&&f.map((e,r)=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Z,{icon:e.icon,className:"text-yellow-500 text-3xl"}),(0,t.jsx)("p",{className:"font-semibold text-lg",children:e.nome})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2 ml-10 ",children:e.riscos.map((e,n)=>{var a;return(0,t.jsx)("form",{onSubmit:l.handleSubmit(s),children:(0,t.jsxs)(i.ZP,{container:!0,spacing:4,className:"grid grid-cols-2 items-center space-y-2",children:[(0,t.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,t.jsx)("p",{children:e.risco})}),(0,t.jsx)(c.Z,{xs:12,md:9,title:"Modelo de formul\xe1rio",name:"fornecedorCategoriaRiscoID".concat(e.fornecedorCategoriaRiscoID),value:null===(a=l.getValues("parFormularioID"))||void 0===a?void 0:a.name,form:l,options:h,required:!0})]},r)})})})]}))})};l.default=m}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=81465)}),_N_E=e.O()}]);