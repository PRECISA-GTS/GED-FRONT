(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7324],{91359:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var o=n(87462),r=n(63366),s=n(67294),a=n(86010),l=n(94780),c=n(67074),i=n(78884),u=n(1588),d=n(34867);function f(e){return(0,d.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var m=n(85893);let Z=["className","component"],h=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},f,t)},p=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),x=s.forwardRef(function(e,t){let n=(0,i.Z)({props:e,name:"MuiCardContent"}),{className:s,component:l="div"}=n,c=(0,r.Z)(n,Z),u=(0,o.Z)({},n,{component:l}),d=h(u);return(0,m.jsx)(p,(0,o.Z)({as:l,className:(0,a.Z)(d.root,s),ownerState:u,ref:t},c))});var v=x},49837:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var o=n(87462),r=n(63366),s=n(67294),a=n(86010),l=n(94780),c=n(67074),i=n(78884),u=n(70918),d=n(1588),f=n(34867);function m(e){return(0,f.Z)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var Z=n(85893);let h=["className","raised"],p=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},m,t)},x=(0,c.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=s.forwardRef(function(e,t){let n=(0,i.Z)({props:e,name:"MuiCard"}),{className:s,raised:l=!1}=n,c=(0,r.Z)(n,h),u=(0,o.Z)({},n,{raised:l}),d=p(u);return(0,Z.jsx)(x,(0,o.Z)({className:(0,a.Z)(d.root,s),elevation:l?8:void 0,ref:t,ownerState:u},c))});var j=v},75429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cadastros/profissao/novo",function(){return n(39238)}])},39238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o=n(85893),r=n(60565),s=n(67294),a=n(11163),l=n.n(a),c=n(60664),i=n(49837),u=n(91359),d=n(79072),f=n(55343),m=n(67836),Z=n(22841),h=n(75158),p=n(74231),x=n(87536),v=n(47533),j=n(32631),C=n(86501),w=n(45061),b=n(46749),g=n(86887),P=n(41088);let _=()=>{let[e,t]=(0,s.useState)(!1),{id:n}=l().query,a=l(),_=(0,b.Lo)(a.pathname),N=(0,b.g_)(a.pathname),y=(0,s.useRef)(null),{title:R}=useContext(r.f),{startLoading:D,stopLoading:M}=(0,P.Z)(),S=p.Ry().shape({nome:p.Z_().required("Campo obrigat\xf3rio")}),{control:E,handleSubmit:O,formState:{errors:k},reset:q}=(0,x.cI)({resolver:(0,v.X)(S)}),T=async e=>{D();try{"new"===_?(await c.h.post("".concat(N,"/novo"),e),a.push(N),C.ZP.success(b.OD.successNew),q(e)):"edit"===_&&(await c.h.put("".concat(N,"/").concat(n),e),C.ZP.success(b.OD.successUpdate),console.log("editado"))}catch(t){t.response&&409===t.response.status?C.ZP.error(b.OD.errorRepeated):console.log(t)}finally{M()}},X=async()=>{try{await c.h.delete("".concat(N,"/").concat(n)),a.push(N),C.ZP.success(b.OD.successDelete)}catch(e){e.response&&409===e.response.status?(C.ZP.error(b.OD.pendingDelete),t(!1)):console.log(e)}};return(0,s.useEffect)(()=>{if("new"===_)y.current.focus();else{let e=async()=>{try{let e=await c.h.get("".concat(N,"/").concat(n));q(e.data)}catch(t){console.log(t)}};e()}},[]),(0,o.jsxs)(o.Fragment,{children:[!data&&(0,o.jsx)(Loading,{}),data&&(0,o.jsx)(i.Z,{children:(0,o.jsxs)("form",{onSubmit:O(T),children:[(0,o.jsx)(g.Z,{btnCancel:!0,btnSave:!0,disabled:Object.keys(k).length>0,handleSubmit:()=>O(T),btnDelete:"edit"===_,onclickDelete:()=>t(!0)}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(d.ZP,{container:!0,spacing:5,children:[(0,o.jsx)(d.ZP,{item:!0,xs:12,md:11,children:(0,o.jsxs)(f.Z,{fullWidth:!0,children:[(0,o.jsx)(x.Qr,{name:"nome",control:E,render(e){let{field:{value:t,onChange:n}}=e;return(0,o.jsx)(m.Z,{value:null!=t?t:"",label:"Nome",onChange:n,placeholder:"Nome",error:Boolean(k.nome),"aria-describedby":"validation-schema-nome",inputRef:y})}}),k.nome&&(0,o.jsx)(j.Z,{sx:{color:"error.main"},id:"validation-schema-nome",children:k.nome.message})]})}),(0,o.jsx)(d.ZP,{item:!0,xs:12,md:1,children:(0,o.jsx)(f.Z,{children:(0,o.jsx)(x.Qr,{name:"status",control:E,rules:{required:!1},render(e){let{field:{value:t,onChange:n}}=e;return(0,o.jsx)(Z.Z,{control:(0,o.jsx)(h.Z,{checked:"new"===_||null!=t&&t,onChange:n}),label:"Status",labelPlacement:"top",sx:{mr:8}})}})})})]})})]})}),(0,o.jsx)(w.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir "+R.title,openModal:e,handleClose:()=>t(!1),handleSubmit:X,btnCancel:!0,btnConfirm:!0})]})},N=()=>{let{setTitle:e}=(0,s.useContext)(r.f);return(0,s.useEffect)(()=>{e({title:"Profiss\xe3o",subtitle:{id:null,count:null,new:!0}})},[]),(0,o.jsx)(_,{})};var y=N}},function(e){e.O(0,[9491,5061,9774,2888,179],function(){return e(e.s=75429)}),_N_E=e.O()}]);