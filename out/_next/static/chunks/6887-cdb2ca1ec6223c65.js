"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{72819:function(e,n,l){var t=l(85893),i=l(95398),r=l(19604),o=l(44642),s=l(76779),a=l(54225),d=l(1890),c=l(77745),u=l(67294),x=l(87536);l(29308);var p=l(21609);let h=e=>{let{title:n,description:l,setOpenModal:h,openModal:m,children:v,handleConclusion:j,handleCopyLink:f,handleLink:b,size:g,fullHeight:y=!1}=e,{control:Z,register:C,handleSubmit:k,reset:w,getValues:D,setValue:$,watch:z,formState:{errors:S}}=(0,x.cI)(),N=e=>{k(I)(e)},I=e=>{w(),h(!1),j(e)};return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(d.Z,{open:m,onClose:()=>h(!1),fullWidth:!!g,maxWidth:g||null,children:(0,t.jsxs)("form",{className:"".concat(y&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,t.jsx)(c.Z,{id:"form-dialog-title",children:n}),l&&(0,t.jsx)(i.Z,{children:(0,t.jsx)(r.Z,{severity:"info",children:l})}),(0,t.jsx)(i.Z,{children:(0,t.jsx)(o.Z,{sx:{py:2},children:u.cloneElement(v,{getValues:D,control:Z,register:C,setValue:$,errors:S,watch:z,reset:w,onSubmit:I})})}),(0,t.jsxs)(s.Z,{className:"dialog-actions-dense",children:[(0,t.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:()=>h(!1),children:"Fechar"}),j&&(0,t.jsx)(a.Z,{type:"button",variant:"contained",color:"primary",onClick:N,children:"Confirmar"}),b&&(0,t.jsx)(a.Z,{type:"button",variant:"contained",color:"primary",onClick:b,children:"Acessar"}),f&&(0,t.jsx)(a.Z,{variant:"contained",color:"primary",startIcon:(0,t.jsx)(p.Z,{icon:"uil:copy",fontSize:20}),onClick:f,children:"Copiar Link"})]})]})})})};n.Z=h},86887:function(e,n,l){l.d(n,{Z:function(){return N}});var t=l(85893),i=l(11163),r=l.n(i),o=l(67294),s=l(21609),a=l(23197),d=l(40039),c=l(83830);l(7071);var u=l(61225),x=l(54225),p=l(73812),h=l(86378),m=l(72819),v=l(60664);let j=e=>{let{anchorEl:n,open:l,handleClose:i,handleClick:r,actionsData:a}=e,[d,c]=(0,o.useState)(!1),[u,j]=(0,o.useState)(null),f=e=>{if(e.status>=50){let n="".concat(v.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(x.Z,{type:"button",onClick:r,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(s.Z,{icon:"octicon:chevron-down-12"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,t.jsx)(p.Z,{id:"basic-menu",anchorEl:n,open:l,onClose:i,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==a?void 0:a.map(e=>(0,t.jsxs)(h.Z,{onClick(){i()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,t.jsxs)("span",{style:{padding:"0 7px"},children:[(0,t.jsx)("span",{children:e.identification})," -"]}):(0,t.jsx)(s.Z,{icon:e.icon}),"report"==e.type?(0,t.jsx)("a",{onClick:()=>f(e),children:e.name}):(0,t.jsx)("p",{onClick:e.modal?()=>{c(!0),j(e)}:e.action,children:e.name})]},e.id))}),u&&(0,t.jsx)(m.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:c,openModal:d,fullHeight:u.fullHeight,children:u.component})]})};var f=l(41664),b=l.n(f),g=l(41088),y=l(99070);l(41883);var Z=l(82555),C=l(74811),k=l(62813),w=l(55334);let D=e=>{let{btnSend:n,btnSave:l,btnNew:i,btnNext:a,manualUrl:u,routes:p,currentUrl:h,disabled:m,disabledSend:v,disabledSubmit:j,handleSubmit:f,handleSend:D,iconConclusion:$,titleConclusion:z}=e,S=r(),{isLoading:N}=(0,g.Z)(),{data:I,setData:W}=(0,Z.O)(),{user:G}=(0,o.useContext)(d.V),{id:L}=(0,o.useContext)(c.X);console.log("\uD83D\uDE80 ~ useGlobal:",L),h.split("/")[2];let E=()=>(console.log("useGlobal data conclui: ",I),(0,t.jsx)(y.BB,{children:(0,t.jsx)(y.T3,{size:"A4",style:{paddingHorizontal:25},children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.Z,{data:I}),(0,t.jsx)(w.default,{values:I},I),(0,t.jsx)(k.Z,{})]})})}));return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i&&p.find(e=>e.rota===S.pathname&&e.inserir)&&(0,t.jsx)(b(),{href:"".concat(S.pathname,"/novo"),children:(0,t.jsxs)(x.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(s.Z,{icon:"ic:outline-plus"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&I&&(0,t.jsx)(y.z6,{document:(0,t.jsx)(E,{}),children(e){let{blob:n,url:l,loading:i,error:r}=e;return(0,t.jsxs)(x.Z,{onClick(){D(n)},type:"button",variant:"contained",size:"medium",color:"primary",disabled:m||v,sx:{display:"flex",gap:2},children:[(0,t.jsx)(s.Z,{icon:null!=$?$:"carbon:send-filled"}),(0,t.jsx)("span",{className:"hidden sm:block",children:z})]})}}),l&&(0,t.jsxs)(x.Z,{onClick:f,type:"submit",variant:"contained",size:"medium",disabled:m||j,sx:{display:"flex",gap:2},children:[(0,t.jsx)(s.Z,{icon:"mdi:check-bold"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),a&&(0,t.jsxs)(x.Z,{onClick:f,type:"submit",variant:"outlined",size:"medium",color:N?"secondary":"primary",disabled:m||N,children:[(0,t.jsx)(s.Z,{icon:"grommet-icons:form-next-link"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},$=e=>{let{routes:n,currentUrl:l,btnCancel:i,btnDelete:r,btnStatus:o,btnClose:a,handleModalClose:d,handleBtnStatus:c,status:u,setId:p,router:h,type:m,onclickDelete:v}=e;return(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&!a&&n.find(e=>e.rota===l&&e.ler)&&(0,t.jsx)(x.Z,{onClick(){p(null),"new"==m&&h.push(l)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,t.jsx)(s.Z,{icon:"grommet-icons:form-previous-link"})}),r&&n.find(e=>e.rota===l&&e.excluir)&&(0,t.jsxs)(x.Z,{type:"button",onClick:v,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,t.jsx)(s.Z,{icon:"material-symbols:delete-outline"}),(0,t.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),a&&(0,t.jsx)(x.Z,{type:"button",onClick:d,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,t.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var z=l(66136);let S=e=>{let{btnCancel:n,btnSave:l,btnSend:i,btnNext:x,btnStatus:p,handleSubmit:h,manualUrl:m,btnNew:v,btnClose:f,handleModalClose:b,disabledSubmit:y,handleSend:Z,componentSaveReport:C,iconConclusion:k,titleConclusion:w,disabledSend:S,handleBtnStatus:N,onclickDelete:I,btnDelete:W,btnPrint:G,disabledPrint:L,disabled:E,actions:T,actionsData:F,type:P,status:A,partialRoute:_,outsideID:B}=e,O=r(),{routes:M}=(0,o.useContext)(d.V),{setId:V}=(0,o.useContext)(c.X),[H,U]=(0,o.useState)(!1),[R,X]=(0,o.useState)(null),{isLoading:q}=(0,g.Z)(),{settings:K}=(0,o.useContext)(z.J6),Q=(0,u.Z)("(min-width:640px)"),Y=Boolean(R),J=e=>{X(e.currentTarget)},ee=()=>{X(null)},en="new"===P&&_?(0,a.g_)((0,a.g_)(O.pathname)):"new"===P||_?(0,a.g_)(O.pathname):O.pathname;return s.Z,s.Z,s.Z,(0,o.useEffect)(()=>{let e=()=>{U(!1),window.scrollY>0?U(!0):U(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"sticky ".concat(B?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==K.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,t.jsx)($,{routes:M,currentUrl:en,btnCancel:n,btnDelete:W,btnStatus:p,btnClose:f,handleModalClose:b,status:A,handleBtnStatus:N,onclickDelete:I,setId:V,router:O,type:P}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[T&&(0,t.jsx)(j,{anchorEl:R,open:Y,handleClose:ee,handleClick:J,disabled:E,disabledPrint:L,btnPrint:G,actionsData:F,matches:Q}),(0,t.jsx)(D,{btnSave:l,btnNew:v,btnSend:i,btnNext:x,manualUrl:m,routes:M,currentUrl:en,handleSubmit:h,disabled:E,disabledSend:S,disabledSubmit:y,handleSend:Z,iconConclusion:k,titleConclusion:w})]})]})})})};var N=S},53934:function(e,n,l){var t=l(85893),i=l(67294),r=l(17575),o=l(32046),s=l(67074),a=l(21609),d=l(29630);let c=e=>{let{text:n,position:l}=e,c=(0,s.ZP)(e=>{let{className:n,...l}=e;return(0,t.jsx)(r.Z,{...l,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(o.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,t.jsx)(c,{title:(0,t.jsx)(i.Fragment,{children:(0,t.jsx)(d.Z,{color:"inherit",children:n})}),placement:l||"top",children:(0,t.jsx)("p",{children:(0,t.jsx)(a.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=c},29308:function(e,n,l){var t=l(85893),i=l(87536),r=l(79072),o=l(55343),s=l(67836),a=l(9041),d=l(80562),c=l(34175),u=l(21609),x=l(53934);l(30944),l(67294);let p=e=>{let{xs:n,md:l,title:p,name:h,rows:m,value:v,type:j,mask:f,getAddressByCep:b,multiline:g,disabled:y,required:Z,control:C,errors:k,onChange:w,className:D,help:$,clearField:z,helpText:S,helpTextPosition:N,...I}=e;return(0,t.jsx)(r.ZP,{item:!0,xs:n,md:l,sx:{my:1},className:D,children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,t.jsx)(i.Qr,{name:h,control:C,rules:{required:Z},render(e){let{field:n}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.Z,{...I,multiline:g,value:null==n?void 0:n.value,label:p,placeholder:p,rows:m,type:null!=j?j:"text",size:"small",disabled:y,"aria-describedby":"validation-schema-nome",error:k,onChange(e){let l=e.target.value;"cnpj"===f?l=(0,c.PK)(l):"cep"===f?b(l=(0,c.Tc)(l)):"cep2"===f?l=(0,c.Tc)(l):"telefone"===f?l=(0,c.Bk)(l):"estado"===f?l=(0,c.CL)(l):"cpf"===f?l=(0,c.VL)(l):"rg"===f&&(l=(0,c.cH)(l)),n.onChange(l),w&&w(l)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===f?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===f||"cep2"===f?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===f?{maxLength:15}:"cpf"===f?{maxLength:14}:"rg"===f?{maxLength:11}:"estado"===f?{maxLength:2}:{},InputProps:{endAdornment:z&&(0,t.jsx)(a.Z,{position:"end",children:(0,t.jsx)(d.Z,{onClick:z,children:(0,t.jsx)(u.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"}}})})}})}),S&&(0,t.jsx)("div",{className:"absolute ".concat("number"==j?"right-10":"right-4","  top-[12px]"),children:(0,t.jsx)(x.Z,{text:S,position:null!=N?N:"top"})})]})})};n.Z=p},34175:function(e,n,l){function t(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function i(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function r(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function o(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function s(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function a(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}l.d(n,{Bk:function(){return o},CL:function(){return a},PK:function(){return t},Tc:function(){return s},VL:function(){return i},cH:function(){return r}})},41088:function(e,n,l){var t=l(67294),i=l(83830);let r=()=>{let{isLoading:e,setIsLoading:n}=(0,t.useContext)(i.X),l=()=>{n(!0)},r=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:l,stopLoading:r}};n.Z=r},3877:function(e,n,l){l.r(n);var t=l(85893);l(99070),l(67294),l(43776),l(17288);let i=e=>{let{data:n}=e;return(0,t.jsx)("p",{children:"Descontinuado..."})};n.default=i},41883:function(e,n,l){l.r(n);var t=l(85893),i=l(62097),r=l(99070),o=l(88942),s=l(62813),a=l(82555),d=l(3877),c=l(74811);l(27105);let u=()=>{var e,n,l,i,o,u,x,p,h,m;let{data:v}=(0,a.O)();if(!v||0===Object.keys(v).length)return;if((null==v?void 0:null===(e=v.report)||void 0===e?void 0:e.status)>40&&(null==v?void 0:null===(n=v.user)||void 0===n?void 0:n.papelID)===1){let j="".concat("https://demo.gedagro.com.br/api/","uploads/").concat(null==v?void 0:null===(p=v.user)||void 0===p?void 0:p.unidadeID,"/fornecedor/relatorio/original/").concat(null==v?void 0:null===(h=v.user)||void 0===h?void 0:h.usuarioID,"-").concat(null==v?void 0:null===(m=v.report)||void 0===m?void 0:m.id,"-fornecedor.pdf");window.location.href=j}let f={unidadeID:null==v?void 0:null===(l=v.user)||void 0===l?void 0:l.unidadeID,papelID:null==v?void 0:null===(i=v.user)||void 0===i?void 0:i.papelID},b={unidadeID:null==v?void 0:null===(o=v.user)||void 0===o?void 0:o.unidadeID,papelID:null==v?void 0:null===(u=v.user)||void 0===u?void 0:u.papelID,id:null==v?void 0:null===(x=v.report)||void 0===x?void 0:x.id};return(0,t.jsx)(r.Z$,{style:{width:"100%",height:"100vh"},children:(0,t.jsx)(r.BB,{children:(0,t.jsxs)(r.T3,{size:"A4",style:{paddingHorizontal:25},children:[(0,t.jsx)(c.Z,{data:f}),(0,t.jsx)(d.default,{data:b}),(0,t.jsx)(s.Z,{})]})})})};u.getLayout=e=>(0,t.jsx)(o.Z,{children:e}),u.setConfig=()=>{let{palette:e}=(0,i.Z)();return{mode:e.mode}},n.default=u},55334:function(e,n,l){l.r(n);var t=l(85893),i=l(99070),r=l(67294),o=l(43776),s=l(60664);l(83454),l(82555);let a=e=>{var n,l,a,d,c,u,x,p;let{values:h}=e;if(!h)return;let[m,v]=(0,r.useState)(null),j=async()=>{console.log("\uD83D\uDE80 ~~~ useGlobal Content:: ",h);let e=await s.h.post("relatorio/formularios/fornecedor/getContent",h);console.log("\uD83D\uDE80 ~ getData response.data:",e.data),v(e.data)};return(0,r.useEffect)(()=>{j()},[]),m&&(0,t.jsxs)(i.G7,{style:{width:"100%"},children:[(0,t.jsx)(i.G7,{style:{padding:3,backgroundColor:"#eee",marginTop:20,border:"1px solid #ddd"},children:(0,t.jsx)(i.xv,{style:{width:"100%",textAlign:"center",fontSize:12},children:"QUALIFICA\xc7\xc3O DE FORNECEDORESSS"})}),(0,t.jsx)(i.G7,{style:{marginTop:20},children:(0,t.jsxs)(i.xv,{style:{fontSize:10},children:["A empresa ",(0,t.jsx)(i.xv,{children:null==m?void 0:m.unidade})," possui como norma de BPF a avalia\xe7\xe3o de seus fornecedores quanto as mat\xe9rias primas e ingredientes por estes fornecidos."]})}),"Fornecedor",(0,t.jsx)(i.G7,{style:{marginTop:20},children:(0,t.jsxs)(i.xv,{style:{fontSize:10},children:["Fornecedor: ",(0,t.jsx)(i.xv,{style:{fontWeight:"bold",fontSize:10},children:m.fornecedor})]})}),(0,t.jsx)(i.G7,{style:{marginTop:20},children:(0,t.jsxs)(i.xv,{style:{fontSize:10},children:[(null==m?void 0:null===(n=m.produtos)||void 0===n?void 0:n.length)>1?"Produtos fornecidos: ":"Produto fornecido: ",null==m?void 0:null===(l=m.produtos)||void 0===l?void 0:l.map((e,n)=>(0,t.jsxs)(i.xv,{children:[(0,t.jsx)(i.xv,{style:{fontWeight:"bold",fontSize:10},children:e.produtos}),n!==m.produtos.length-1&&", "]},n))]})}),(0,t.jsx)(i.G7,{style:{marginTop:20},children:(0,t.jsx)(i.G7,{style:o.W.containerFields,children:null===(a=m.header)||void 0===a?void 0:a.map((e,n)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.G7,{style:[o.W.fields,{width:"33%"}],children:[(0,t.jsx)(i.xv,{style:o.W.fieldTitle,children:null!==(c=e.name)&&void 0!==c?c:""}),(0,t.jsx)(i.xv,{style:o.W.fieldValue,children:null!==(u=e.value)&&void 0!==u?u:""})]}),(n+1)%3==0&&(0,t.jsx)(i.G7,{style:o.W.separator})]}))})}),null===(d=m.blocks)||void 0===d?void 0:d.map((e,n)=>(0,t.jsx)(i.G7,{style:[e,{marginTop:30}],children:(0,t.jsxs)(i.G7,{style:o.W.table,children:[(0,t.jsxs)(i.G7,{style:o.W.tableTitle,children:[(0,t.jsx)(i.xv,{style:[o.W.tableTitlecolumn,{width:"60%"}],children:e.nome}),(0,t.jsx)(i.xv,{style:[o.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,t.jsx)(i.xv,{style:[o.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,n)=>(0,t.jsxs)(i.G7,{style:o.W.tableContainer,children:[(0,t.jsx)(i.G7,{style:[o.W.tableContent,{width:"60%"}],children:(0,t.jsx)(i.xv,{style:o.W.tableContentcolumn,children:e.nome})}),(0,t.jsx)(i.G7,{style:[o.W.tableContent,{width:"20%"}],children:(0,t.jsx)(i.xv,{style:o.W.tableContentcolumn,children:null!==(x=e.resposta)&&void 0!==x?x:""})}),(0,t.jsx)(i.G7,{style:[o.W.tableContent,{width:"20%"}],children:(0,t.jsx)(i.xv,{style:o.W.tableContentcolumn,children:null!==(p=e.obsResposta)&&void 0!==p?p:""})})]}))]})},n))]})};n.default=a}}]);