"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2697],{42107:function(e,t,o){o.d(t,{Z:function(){return x}});var l=o(85893),i=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},a=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"})})},n=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"})})},r=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},s=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"})})},d=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"})})},c=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"})})};let u=e=>{let{data:t}=e;return console.log("\uD83D\uDE80 ~ IconAttach data:",t),t&&"application/pdf"==t.tipo?(0,l.jsx)(i,{className:"h-8 w-8 text-6xl fill-red-500"}):"image/jpeg"==t.tipo||"image/png"==t.tipo?(0,l.jsx)("div",{className:"h-8 w-8 rounded-lg relative ",style:{backgroundImage:"url(".concat(t.path,")"),backgroundSize:"cover",backgroundPosition:"center"}}):"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==t.tipo?(0,l.jsx)(a,{className:"h-8 w-8 text-6xl fill-blue-500"}):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==t.tipo?(0,l.jsx)(n,{className:"h-8 w-8 text-6xl fill-green-500"}):"application/x-zip-compressed"==t.tipo||"application/zip-compressed"==t.tipo||"application/rar-compressed"==t.tipo||"application/x-rar-compressed"==t.tipo?(0,l.jsx)(d,{className:"h-8 w-8 text-6xl fill-yellow-500"}):"application/vnd.ms-powerpoint"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.slideshow"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.presentation"==t.tipo?(0,l.jsx)(r,{className:"h-8 w-8 text-6xl fill-[#D55736]"}):"text/plain"==t.tipo?(0,l.jsx)(s,{className:"h-8 w-8 text-6xl fill-sky-600"}):(0,l.jsx)(c,{className:"h-8 w-8 text-6xl fill-gray-500"})};var x=u},92945:function(e,t,o){var l=o(85893),i=o(79072);o(21609);var a=o(10179),n=o(42107),r=o(88475);o(73731);var s=o(53934);let d=e=>{var t,o,d,c,u,x,m,h,p,v;let{key:f,item:j,indexBlock:g,indexItem:b,indexAnexo:y,handleFileClick:Z,selectedItem:C,handleFileSelect:w,handleRemove:D,folder:z,error:I,disabled:S,modeTheme:R,inputRef:F}=e;return j?(0,l.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,l.jsxs)("div",{className:"".concat(I&&((null==I?void 0:null===(t=I[g])||void 0===t?void 0:null===(o=t.produtoAnexosDescricao)||void 0===o?void 0:o[b])||(null==I?void 0:null===(d=I[g])||void 0===d?void 0:null===(c=d.itens)||void 0===c?void 0:null===(u=c[b])||void 0===u?void 0:null===(x=u.respostaConfig)||void 0===x?void 0:null===(m=x.anexosSolicitados)||void 0===m?void 0:m[y])||(null==I?void 0:null===(h=I.grupoAnexo)||void 0===h?void 0:null===(p=h[g])||void 0===p?void 0:p.itens[b]))?"border border-red-500":"dark"===R?"bg-[#212b36]":" bg-[#F6F6F8] "," px-4 py-2 rounded-lg flex flex-col relative z-10"),children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)("p",{className:"font-medium text-sm ",children:j.nome})}),(0,l.jsx)("div",{className:"rounded-lg border-2 p-3 cursor-pointer border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===R?" border-[#212b36]":"rgba(76, 78, 100, 0.12)"),onClick:()=>S?null:Z(j),children:(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a.Z,{className:"w-8 h-8 fill-current"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h6",{className:"text-sm font-semibold opacity-80",children:"Adicione um ou mais arquivos"}),j.descricao&&(0,l.jsx)(s.Z,{text:j.descricao})]})]})})}),(0,l.jsx)("div",{className:"flex flex-col",children:j&&(null==j?void 0:null===(v=j.anexos)||void 0===v?void 0:v.length)>0&&j.anexos.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 border rounded-lg p-3 hover:border-[#4A8B57] transition-colors ".concat("dark"===R?" border-[#212b36]":"rgba(76, 78, 100, 0.12)"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick(){e&&e.path&&window.open(e.path,"_blank")},children:[(0,l.jsx)(n.Z,{data:e}),(0,l.jsx)("p",{className:"text-sm font-semibold opacity-80",children:e.nome}),(0,l.jsx)("p",{className:"text-sm opacity-80",children:(0,l.jsx)("span",{className:"text-xs opacity-50",children:"(".concat((e.size/1024/1024).toFixed(2),"MB)")})}),(0,l.jsx)("p",{className:"text-xs opacity-50 pt-1",children:"Enviado em: "+new Date(e.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)(r.Z,{xs:12,md:1,icon:"ep:close",color:"secondary",title:"",index:t,removeItem:()=>D(e),item:e,pending:!(null==e?void 0:e.exist)||S,textSuccess:"Remover este anexo",textError:S?"Voc\xea n\xe3o ter permiss\xf5es para remover este anexo":"Este anexo n\xe3o pode mais ser removido pois o formul\xe1rio j\xe1 foi conclu\xeddo!"})})]}))}),(0,l.jsx)("input",{type:"file",multiple:!0,ref:F,style:{display:"none"},onChange:e=>w(e,C)})]})}):null};t.Z=d},92629:function(e,t,o){var l=o(85893),i=o(54225),a=o(1890),n=o(77745),r=o(95398),s=o(76779),d=o(29630),c=o(60664),u=o(67294),x=o(83830),m=o(86501),h=o(40039);let p=e=>{let{title:t,description:o,open:p,handleClose:v,params:f}=e,{setId:j}=(0,u.useContext)(x.X),{user:g,loggedUnity:b}=(0,u.useContext)(h.V),y=async()=>{try{await c.h.delete("".concat(f.route,"/").concat(g.usuarioID,"/").concat(b.unidadeID)),m.ZP.success(f.messageSucceded),j(null)}catch(e){console.log(e),m.ZP.error(f.MessageError)}finally{v()}};return(0,l.jsxs)(a.Z,{open:p,children:[(0,l.jsx)(n.Z,{id:"form-dialog-title",children:t}),(0,l.jsx)(r.Z,{children:(0,l.jsx)(d.Z,{variant:"body1",children:o})}),(0,l.jsxs)(s.Z,{className:"dialog-actions-dense",children:[(0,l.jsx)(i.Z,{variant:"outlined",color:"secondary",onClick:v,children:"Cancelar"}),(0,l.jsx)(i.Z,{variant:"contained",color:"error",onClick:y,children:"Confirmar"})]})]})};t.Z=p},80377:function(e,t,o){o.d(t,{Z:function(){return A}});var l=o(85893),i=o(11163),a=o.n(i),n=o(54225),r=o(1890),s=o(77745),d=o(95398),c=o(76779),u=o(44642),x=o(40039),m=o(79072),h=o(19604),p=o(29630),v=o(67294),f=o(55343),j=o(61953),g=o(41470),b=o(22841),y=o(8519),Z=o(67836);o(3893);var C=o(75158);let w=e=>{let{xs:t,md:o,title:i,name:a,value:n,valueChecked:r,register:s}=e,[d,c]=(0,v.useState)(!0),u=()=>{n!=r&&c(!d)};return(0,l.jsx)(m.ZP,{item:!0,xs:t,md:o,children:(0,l.jsx)(j.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,l.jsx)(b.Z,{control:(0,l.jsx)(C.Z,{size:"small",name:a,...s(a),checked:d||n==r,onChange:u}),label:i,sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},D=e=>{let{title:t,name:o,value:i,papelID:a,register:n,setValue:r,setResult:s,options:d,hasNaoConformidade:c}=e;return console.log("\uD83D\uDE80 ~ Result:",o),(0,l.jsxs)(m.ZP,{container:!0,spacing:2,children:[a&&1==a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsxs)(f.Z,{fullWidth:!0,children:[(0,l.jsx)(p.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:t}),(0,l.jsx)(j.Z,{display:"flex",gap:8,children:(0,l.jsx)(g.Z,{row:!0,"aria-label":"colored",name:"colored",value:i.status,onChange(e,t){s({...i,status:t})},children:d&&d.map((e,t)=>(0,l.jsx)(b.Z,{value:e.value,name:o,control:(0,l.jsx)(y.Z,{color:e.color}),label:e.label,disabled:e.disabled}))})})]})}),c&&i.status&&(50==i.status||60==i.status)&&(0,l.jsx)(w,{xs:12,md:12,title:"Gerar n\xe3o conformidade",name:"info.naoConformidade",value:i.status,valueChecked:50,register:n})]}),(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(f.Z,{fullWidth:!0,children:(0,l.jsx)(Z.Z,{label:"Observa\xe7\xe3o de conclus\xe3o (opcional)",placeholder:"Observa\xe7\xe3o de conclus\xe3o (opcional)",defaultValue:i.obsConclusao,multiline:!0,rows:4,onChange(e,t){s({...i,obsConclusao:e.target.value})}})})})]})};var z=o(99070),I=o(82555),S=o(74811),R=o(55334),F=o(62813),V=o(22991),T=o(50287),P=o(29308),W=o(84220),M=o(60664);let N=e=>{var t,o,i,f,j,g,b,y;let{title:Z,text:C,handleClose:w,openModal:N,conclusionForm:A,info:L,canChange:k,btnCancel:H,btnConfirm:E,register:B,setValue:G,listErrors:O,canApprove:q,hasNaoConformidade:_,control:U,handleSend:Y,type:J,unity:K,values:Q,errors:X,formularioID:$,modeloID:ee}=e;if(!ee)return null;console.log("\uD83D\uDE80 ~ modeloID:",Q);let{user:et,loggedUnity:eo,hasSectorPermission:el}=(0,v.useContext)(x.V),[ei,ea]=(0,v.useState)({}),{data:en}=(0,I.O)(),er=a(),es=er.pathname.split("/")[2],[ed,ec]=(0,v.useState)([]),eu=()=>(0,l.jsx)(z.BB,{children:(0,l.jsx)(z.T3,{size:"A4",style:{paddingHorizontal:25},children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Z,{data:en}),"fornecedor"===es&&(0,l.jsx)(R.default,{values:en},en),(0,l.jsx)(F.Z,{})]})})}),ex=async()=>{let e=await M.h.post("/cadastros/setor/getProfissionaisSetoresAssinatura",{formularioID:$,modeloID:ee,unidadeID:eo.unidadeID});ec(e.data.conclui),em(e.data.conclui)},em=e=>{let t=et.profissionalID,o=e.find(e=>e.id===t);o&&o.id>0&&G("fieldsFooter.profissional",o)};return(0,v.useEffect)(()=>{ex()},[Q]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{fullWidth:!0,maxWidth:"md",open:N,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,t){"backdropClick"!==t&&w()},children:[(0,l.jsx)(s.Z,{id:"form-dialog-title",children:(0,l.jsxs)(m.ZP,{container:!0,spacing:6,children:[(0,l.jsx)(m.ZP,{item:!0,xs:12,md:6,children:Z}),1===et.papelID&&(0,l.jsx)(m.ZP,{item:!0,xs:12,md:6,sx:{textAlign:"right"},children:(0,l.jsx)(V.Z,{data:null!==(f=null==Q?void 0:Q.setores)&&void 0!==f?f:[]})})]})}),(0,l.jsx)(d.Z,{children:(0,l.jsxs)(u.Z,{sx:{mb:3},children:[!el(null!==(j=null==Q?void 0:Q.setores)&&void 0!==j?j:[])&&(0,l.jsx)(h.Z,{severity:"warning",sx:{mb:4},children:(0,l.jsx)(p.Z,{variant:"body2",children:"Seu setor n\xe3o est\xe1 habilitado para concluir este formul\xe1rio!"})}),L.status<=40&&(0,l.jsxs)(l.Fragment,{children:[C,O&&O.status&&(0,l.jsxs)(h.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,l.jsx)(p.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:O.errors.map((e,t)=>(0,l.jsxs)(p.Z,{variant:"body2",color:"error",children:["- ",e]},t))})]}),O&&2==et.papelID&&!O.status&&(0,l.jsx)(h.Z,{severity:"info",sx:{mt:2},children:2==K.quemPreenche&&"fornecedor"==J?"Ap\xf3s concluir o formul\xe1rio, o mesmo ser\xe1 enviado para an\xe1lise e conclus\xe3o da empresa ".concat(null==K?void 0:K.nomeFantasia,"!"):"Ap\xf3s concluir o formul\xe1rio, o mesmo n\xe3o poder\xe1 mais ser alterado!"}),!q&&(0,l.jsx)(h.Z,{severity:"error",sx:{mt:2},children:"Este formul\xe1rio n\xe3o pode ser aprovado pois possui resposta que gera n\xe3o conformidade"}),1==et.papelID&&(0,l.jsxs)(m.ZP,{container:!0,spacing:4,sx:{mt:4},children:[(0,l.jsx)(T.Z,{xs:12,md:3,title:"Data da conclus\xe3o",name:"fieldsFooter.dataConclusao",type:"date",value:null!==(g=null==Q?void 0:Q.dataConclusao)&&void 0!==g?g:new Date,register:B,control:U,typeValidation:"dataPassado",daysValidation:365,required:!0,errors:null==X?void 0:null===(t=X.fieldsFooter)||void 0===t?void 0:t.dataConclusao}),(0,l.jsx)(P.Z,{xs:12,md:3,title:"Hora da conclus\xe3o",name:"fieldsFooter.horaConclusao",type:"time",value:null!==(b=null==Q?void 0:Q.horaConclusao)&&void 0!==b?b:(()=>{let e=new Date,t=e.getHours(),o=e.getMinutes();return"".concat(t,":").concat(o)})(),required:!0,register:B,control:U,errors:null==X?void 0:null===(o=X.fieldsFooter)||void 0===o?void 0:o.horaConclusao}),(0,l.jsx)(W.Z,{xs:12,md:6,title:"Profissional que aprova",name:"fieldsFooter.profissional",type:"string",required:!0,options:null!=ed?ed:[],register:B,setValue:G,control:U,errors:null==X?void 0:null===(i=X.fieldsFooter)||void 0===i?void 0:i.profissional}),(0,l.jsx)(m.ZP,{item:!0,xs:12,children:(0,l.jsx)(D,{title:1==et.papelID?"Resultado do Processo":"Observa\xe7\xe3o",name:"status",value:ei,register:B,setValue:G,setResult:ea,papelID:et.papelID,hasNaoConformidade:_,options:[{value:70,color:"success",label:"Aprovado",disabled:!q},{value:60,color:"warning",label:"Aprovado Parcial"},{value:50,color:"error",label:"Reprovado"}]})})]})]}),L.status>=40&&L.naoConformidade&&(0,l.jsx)(p.Z,{variant:"body1",sx:{mt:2},children:"Concluir n\xe3o conformidades do formul\xe1rio? Ap\xf3s concluir, o mesmo n\xe3o poder\xe1 mais ser alterado!"})]})}),(0,l.jsxs)(c.Z,{className:"dialog-actions-dense",children:[H&&(0,l.jsx)(n.Z,{variant:"outlined",color:"primary",onClick:w,children:"Fechar"}),E&&k&&(0,l.jsx)(z.z6,{document:(0,l.jsx)(eu,{}),children(e){let{blob:t,url:o,loading:i,error:a}=e;return(0,l.jsx)(n.Z,{variant:"contained",disabled:!el(null!==(y=null==Q?void 0:Q.setores)&&void 0!==y?y:[])||L.status<40&&(O&&O.status||1==et.papelID&&!ei.status),color:"primary",onClick(){A(ei,t)},children:"Concluir"})}})]})]})})};var A=N},34282:function(e,t,o){var l=o(85893),i=o(67294),a=o(54225),n=o(1890),r=o(77745),s=o(95398),d=o(76779),c=o(44642),u=o(21609),x=o(60664),m=o(79072),h=o(55343),p=o(35966),v=o(67836),f=o(19604),j=o(61953),g=o(64165),b=o(40039),y=o(7071),Z=o(67074),C=o(17494),w=o(87413),D=o(29630),z=o(72162),I=o(9601),S=o(51221),R=o(36599),F=o(45061);let V=(0,Z.ZP)(R.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),T=e=>{var t;let{id:o,parFormularioID:Z,formStatus:R,hasFormPending:T,title:P,text:W,handleClose:M,openModal:N,handleSubmit:A,btnCancel:L,btnConfirm:k,canChangeStatus:H,btnConfirmColor:E}=e,[B,G]=(0,i.useState)(!1),{user:O,loggedUnity:q}=(0,i.useContext)(b.V),[_,U]=(0,i.useState)(null),[Y,J]=(0,i.useState)(""),[K,Q]=(0,i.useState)(!1);console.log("selectedStatus: ",_);let X=async()=>{try{await x.h.post("/formularios/fornecedor/getMovementHistory/".concat(o),{parFormularioID:Z}).then(e=>{G(e.data)})}catch(e){console.log(e)}},$=[];for(let ee in g.WR)30==parseInt(ee)&&parseInt(ee)!=R&&$.push({id:parseInt(ee),nome:g.WR[ee].title});return(0,i.useEffect)(()=>{X()},[K]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Z,{open:N,onClose:M,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(r.Z,{id:"form-dialog-title",children:P}),(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{sx:{mb:3},children:W}),H&&(0,l.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(h.Z,{fullWidth:!0,children:(0,l.jsx)(p.Z,{options:$,defaultValue:$.find(e=>e.id===_),id:"autocomplete-outlined",getOptionLabel:e=>e.nome,onChange(e,t){U(null==t?void 0:t.id)},renderInput:e=>(0,l.jsx)(v.Z,{...e,name:"formulario.status",label:"Alterar Status do Formul\xe1rio",placeholder:"Alterar Status do Formul\xe1rio"})})})}),_&&_>0&&(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(h.Z,{fullWidth:!0,children:(0,l.jsx)(v.Z,{id:"outlined-multiline-static",label:"Observa\xe7\xe3o",multiline:!0,rows:4,placeholder:"Observa\xe7\xe3o",variant:"outlined",onChange:e=>J(e.target.value)})})})]}),O&&1==O.papelID&&T&&(0,l.jsx)(f.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,l.jsx)(j.Z,{children:(0,l.jsx)(V,{children:B&&B.length>0&&B.map((e,t)=>(0,l.jsxs)(w.Z,{children:[(0,l.jsxs)(I.Z,{children:[(0,l.jsx)(C.Z,{color:g.WR[e.statusAtual].color}),(0,l.jsx)(S.Z,{})]}),(0,l.jsxs)(z.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,l.jsxs)(j.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(D.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:[e.data+" - "+e.hora+" ",0==t&&(0,l.jsx)(y.Z,{size:"small",skin:"light",color:g.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsx)(D.Z,{variant:"caption",children:e.usuario})]}),(0,l.jsxs)(j.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(D.Z,{variant:"body2",sx:{color:"text.primary"},children:[(0,l.jsx)("span",{children:g.WR[e.statusAnterior].title}),(0,l.jsx)(u.Z,{icon:"mdi:arrow-right",fontSize:20,style:{display:"inline-block"}}),(0,l.jsx)("span",{children:g.WR[e.statusAtual].title})]}),(0,l.jsx)(D.Z,{variant:"caption",children:e.unidade})]}),null!=e.observacao&&(0,l.jsx)(j.Z,{children:(0,l.jsx)(D.Z,{variant:"caption",children:e.observacao})})]})]}))})})]}),(0,l.jsxs)(d.Z,{className:"dialog-actions-dense",children:[L&&(0,l.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:M,children:"Fechar"}),k&&O&&1==O.papelID&&!T&&H&&(0,l.jsx)(a.Z,{variant:"contained",color:"primary",onClick:()=>1==Z?Q(!0):A(_,Y),disabled:!_,children:"Confirmar"})]})]}),(0,l.jsx)(F.Z,{openModal:K,handleClose:()=>Q(!1),title:"Confirmar Altera\xe7\xe3o",text:'Deseja realmente alterar o status do formul\xe1rio para "'.concat(null===(t=g.WR[_])||void 0===t?void 0:t.title,'" ? O mesmo ficar\xe1 dispon\xedvel para a edi\xe7\xe3o do Fornecedor novamente.'),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit(){A(_,Y),Q(!1),U(null)}})]})};t.Z=T},91757:function(e,t,o){var l=o(85893),i=o(29308);let a=e=>{let{control:t,register:o}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(i.Z,{name:"obs",title:"Observa\xe7\xe3o",register:o,control:t,defaultValue:"",multiline:!0,rows:6})})};t.Z=a},99734:function(e,t,o){o.d(t,{Z:function(){return D}});var l=o(85893),i=o(49837),a=o(91359),n=o(79072),r=o(29630),s=o(41470),d=o(22841),c=o(8519),u=o(67294),x=o(55343),m=o(66136),h=o(92945),p=o(29308),v=o(61953),f=o(17575),j=o(21609);let g=e=>{let{xs:t,md:o,index:i,values:a,totalColumns:r,blockIndex:u,item:x,defaultValue:m,name:h,control:p,changeAllOptions:g,disabled:b,errors:y,handleChange:Z,blockForm:C}=e;return(0,l.jsx)(n.ZP,{item:!0,xs:t,md:o,children:(0,l.jsx)(s.Z,{row:!0,name:h,defaultValue:m,onChange:Z,children:a&&a.map((e,t)=>(0,l.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,l.jsxs)(v.Z,{display:"flex",alignItems:"center",sx:{gap:2},children:[(0,l.jsx)(d.Z,{value:e.id,control:(0,l.jsx)(c.Z,{disabled:b,error:!!y}),label:e.nome,fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary"},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}},t),C&&t==a.length-1&&(0,l.jsx)(f.Z,{title:"Esta resposta impede a aprova\xe7\xe3o deste formul\xe1rio e obrigatoriamente ser\xe1 gerada uma N\xe3o Conformidade (plano de a\xe7\xe3o)",placement:"top",arrow:!0,children:(0,l.jsx)("p",{children:(0,l.jsx)(j.Z,{icon:"typcn:warning",color:"#FFC107"})})})]})},t))})})};var b=o(50287);let y=e=>{var t,o,i,a,s,d,c,v,f,j,y,Z,C,w,D,z;let{blockKey:I,index:S,indexItem:R,item:F,errors:V,disabled:T,control:P,register:W,getValues:M,updateResponse:N,handleFileSelect:A,handleRemoveAnexoItem:L}=e,{settings:k}=(0,u.useContext)(m.J6),H=k.mode,[E,B]=(0,u.useState)(null),G=(0,u.useRef)(null),O=e=>{var t;e[I]=null!==(t=F[I])&&void 0!==t?t:0,G.current.click(),B(e)};return(0,u.useEffect)(()=>{G.current&&(G.current.value="")},[A]),(0,l.jsxs)(n.ZP,{container:!0,spacing:2,sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(S,"].itens[").concat(R,"].itemID"),defaultValue:F.itemID,...W("blocos[".concat(S,"].itens[").concat(R,"].itemID"))}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{variant:"subtitle1",sx:{fontWeight:400,color:!F.obrigatorio||F.resposta||M("blocos[".concat(S,"].itens[").concat(R,"].resposta"))?"text.primary":"error.main"},children:F.nome?"".concat(F.ordem," - ").concat(F.nome):""})}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(S,"].itens[").concat(R,"].tipoAlternativa"),defaultValue:F.alternativa,...W("blocos[".concat(S,"].itens[").concat(R,"].tipoAlternativa"))}),F&&F.alternativas&&F.alternativas.length>1&&(0,l.jsx)(g,{xs:12,md:12,blockIndex:S,control:P,index:R,defaultValue:null==F?void 0:null===(t=F.resposta)||void 0===t?void 0:t.id,values:F.alternativas,name:"blocos[".concat(S,"].itens[").concat(R,"].resposta"),item:F,disabled:T,handleChange:e=>N({e,item:F,index:S,indexItem:R}),errors:null===(i=null==V?void 0:null===(o=V[S])||void 0===o?void 0:o.itens[R])||void 0===i?void 0:i.resposta,blockForm:(null===(a=F.respostaConfig)||void 0===a?void 0:a.bloqueiaFormulario)==1},"".concat(S,"-").concat(R)),F&&F.alternativas&&0==F.alternativas.length&&"Data"==F.alternativa&&(0,l.jsx)(b.Z,{xs:12,md:6,title:"Data da avalia\xe7\xe3o",disabled:T,value:F.resposta,type:null,name:"blocos[".concat(S,"].itens[").concat(R,"].resposta"),errors:null===(d=null==V?void 0:null===(s=V[S])||void 0===s?void 0:s.itens[R])||void 0===d?void 0:d.resposta,control:P,register:W}),F&&F.alternativas&&0==F.alternativas.length&&"Dissertativa"==F.alternativa&&(0,l.jsx)(p.Z,{xs:12,md:6,title:"Descreva a resposta",name:"blocos[".concat(S,"].itens[").concat(R,"].resposta"),value:F.resposta,multiline:!0,disabled:T,control:P,errors:null===(v=null==V?void 0:null===(c=V[S])||void 0===c?void 0:c.itens[R])||void 0===v?void 0:v.resposta}),F&&(null==F?void 0:null===(f=F.resposta)||void 0===f?void 0:f.observacao)==1&&(0,l.jsx)(p.Z,{xs:12,md:12,title:"Observa\xe7\xe3o",name:"blocos[".concat(S,"].itens[").concat(R,"].observacao"),value:null==F?void 0:F.observacao,multiline:!0,disabled:T,control:P})]})}),F&&F.alternativas&&0==F.alternativas.length&&"Dissertativa longa"==F.alternativa&&(0,l.jsx)(x.Z,{fullWidth:!0,children:(0,l.jsx)(p.Z,{xs:12,md:12,title:"Descreva a resposta",name:"blocos[".concat(S,"].itens[").concat(R,"].resposta"),rows:6,value:F.resposta,multiline:!0,disabled:T,control:P,errors:null===(Z=null==V?void 0:null===(j=V.blocos)||void 0===j?void 0:null===(y=j[S])||void 0===y?void 0:y.itens[R])||void 0===Z?void 0:Z.resposta})}),F&&(null==F?void 0:null===(C=F.resposta)||void 0===C?void 0:C.anexo)==1&&(null==F?void 0:null===(w=F.resposta)||void 0===w?void 0:w.anexosSolicitados)&&(null==F?void 0:null===(D=F.resposta)||void 0===D?void 0:D.anexosSolicitados.length)>0&&(null==F?void 0:null===(z=F.resposta)||void 0===z?void 0:z.anexosSolicitados.map((e,t)=>(0,l.jsx)(n.ZP,{item:!0,xs:12,md:12,sx:{mb:5},children:(0,l.jsx)(h.Z,{modeTheme:H,handleFileClick:()=>O({...e,itemOpcaoAnexoID:e.itemOpcaoAnexoID}),selectedItem:E,inputRef:G,item:e,loadingFile:null,indexBlock:S,indexItem:R,indexAnexo:t,handleFileSelect:A,folder:"item",handleRemove:L,error:V,disabled:T},e)})))]},R)};var Z=o(22991),C=o(40039);let w=e=>{var t;let o;let{bloco:x,index:m,blockKey:h,setBlocos:p,setValue:v,blocos:f,getValues:j,register:g,control:b,disabled:w,errors:D,handleFileSelect:z,handleRemoveAnexoItem:I,status:S,isFornecedorLogged:R}=e;if(!x)return null;let{user:F,hasSectorPermission:V}=(0,u.useContext)(C.V),[T,P]=(0,u.useState)(Array(f.length).fill(null)),[W,M]=(0,u.useState)(!1),N=e=>{let{e:t,item:o,index:l,indexItem:i}=e,a=[...f],n=o.alternativas.find(e=>e.id==t.target.value);a[l].itens[i].resposta=n,p(a),v("blocos[".concat(l,"].itens[").concat(i,"].resposta"),n)},A=(e,t,o)=>{e.itens.forEach((e,l)=>{e.alternativas.length>0&&v("blocos[".concat(t,"].itens[").concat(l,"].resposta"),e.alternativas[o])}),p(e=>{var l;let i=[...e];return null===(l=i[t])||void 0===l||l.itens.forEach((e,t)=>{e.alternativas.length>0&&(e.resposta=e.alternativas[o])}),i}),P(e=>{let l=[...e];return l[t]=o,l})},L=()=>{var e;if(R){M(!0);return}if(S>=40||1!==F.papelID){M(!1);return}if(!w&&(1===F.admin||0===x.setores.length)||V(null!==(e=null==x?void 0:x.setores)&&void 0!==e?e:[])){M(!0);return}};return(0,u.useEffect)(()=>{console.log("\uD83D\uDE80 ~ renderiza bloco useeffect:"),L()},[F,x,w]),(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{children:(0,l.jsxs)(n.ZP,{container:!0,children:[(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700,mb:6},children:null==x?void 0:x.nome})}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,sx:{textAlign:"right"},children:(0,l.jsx)(Z.Z,{data:null!==(t=null==x?void 0:x.setores)&&void 0!==t?t:[]})}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{variant:"subtitle1",sx:{fontWeight:700,mb:6},children:"Itens"})}),(e=>{if(!e.itens)return 0;let t=0;return e.itens.map(e=>{e.alternativas.length>0&&t++}),t})(x)>1&&(0,l.jsx)(n.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(s.Z,{row:!0,value:T[m],children:[...Array((o=0,x.itens&&x.itens.map(e=>{e.alternativas.length>o&&(o=e.alternativas.length)}),o))].map((e,t)=>(0,l.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,l.jsx)(d.Z,{value:t,control:(0,l.jsx)(c.Z,{disabled:!W,error:!!D}),onChange:()=>A(x,m,t),label:"Todos",fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary",fontWeight:600},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})},t))})}),x.itens.map((e,t)=>(0,l.jsx)(y,{blockKey:h,index:m,indexItem:t,item:e,errors:D,disabled:!W,control:b,register:g,getValues:j,updateResponse:N,handleFileSelect:z,handleRemoveAnexoItem:I}))]})})},Math.random())};var D=w},56531:function(e,t,o){var l=o(85893),i=o(29308),a=o(84220),n=o(50287);let r=e=>{let{register:t,errors:o,setValue:r,fields:s,disabled:d,disabledFields:c,getAddressByCep:u,control:x,setNameSelected:m,setColumnSelected:h,getValues:p,setOpenModalNew:v}=e,f=e=>{switch(e){case"telefone":case"telefone1":case"telefone2":return"telefone";case"cep":return"cep";case"cnpj":return"cnpj";default:return null}},j=e=>!!c&&c.length>0&&c.includes(e),g=async(e,t)=>{h(e),v(!0),m(t)};return s&&s.map((e,s)=>{var c,m,h,p,v,b,y,Z;return(0,l.jsxs)(l.Fragment,{children:[e&&"int"===e.tipo&&e.tabela&&(0,l.jsx)(a.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(s,"].").concat(e.tabela),createNew:"transportadorID"===e.nomeColuna||"tipoVeiculoID"===e.nomeColuna?()=>g(e.nomeColuna,"fields[".concat(s,"].").concat(e.tabela)):null,type:e.tabela,options:e.options,value:null==e?void 0:e[e.tabela],mask:e.tabela,disabled:d||j(e.nomeColuna),register:t,setValue:r,control:x,errors:null==o?void 0:null===(c=o.fields)||void 0===c?void 0:null===(m=c[s])||void 0===m?void 0:m[e.tabela],alertRequired:1===e.obrigatorio},"select-".concat(s)),e&&"date"==e.tipo&&(0,l.jsx)(n.Z,{xs:12,md:4,title:"Data da avalia\xe7\xe3o",disabled:d||j(e.nomeColuna),value:null!==(y=null==e?void 0:e[e.nomeColuna])&&void 0!==y?y:new Date,type:e.nomeColuna,name:"fields[".concat(s,"].").concat(e.nomeColuna),errors:null==o?void 0:null===(h=o.fields)||void 0===h?void 0:null===(p=h[s])||void 0===p?void 0:p[e.nomeColuna],control:x,typeValidation:"dataPassado",daysValidation:365,register:t,alertRequired:1===e.obrigatorio},"datefield-".concat(s)),e&&"string"==e.tipo&&(0,l.jsx)(i.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(s,"].").concat(e.nomeColuna),register:t,control:x,value:null!==(Z=null==e?void 0:e[e.nomeColuna])&&void 0!==Z?Z:"",errors:null==o?void 0:null===(v=o.fields)||void 0===v?void 0:null===(b=v[s])||void 0===b?void 0:b.nomeColuna,type:e.nomeColuna,getAddressByCep:u,mask:f(e.nomeColuna),disabled:!!(d||j(e.nomeColuna))||"cnpj"==e.nomeColuna,alertRequired:1===e.obrigatorio},"input-".concat(s))]})})};t.Z=r},22991:function(e,t,o){var l=o(85893),i=o(17575),a=o(29630),n=o(21448),r=o(67294),s=o(60664),d=o(40039);let c=e=>{let{data:t}=e,{loggedUnity:o}=(0,r.useContext)(d.V),[c,u]=(0,r.useState)([]),x=async()=>{try{let e=await s.h.post("/cadastros/setor/getProfessionals",{setores:t.map(e=>e.id),unidadeID:o.unidadeID});u(e.data)}catch(l){console.log(l)}};return(0,r.useEffect)(()=>{x()},[t]),(0,l.jsx)("div",{className:"flex items-center justify-end gap-1",children:t&&t.length>0?t.map((e,t)=>(0,l.jsx)(i.Z,{title:(0,l.jsx)(l.Fragment,{children:c.filter(t=>t.setorID===e.id).map(e=>(0,l.jsx)(a.Z,{children:e.nome},e.profissionalID)).length>0?c.filter(t=>t.setorID===e.id).map(e=>(0,l.jsx)("div",{className:"text-[13px]",children:e.nome},e.profissionalID)):(0,l.jsx)("div",{className:"text-[13px]",children:"Nenhum profissional vinculado ao setor"})}),children:(0,l.jsx)(n.Z,{label:null==e?void 0:e.nome},t)},t)):(0,l.jsx)(i.Z,{title:(0,l.jsx)("div",{className:"text-[13px]",children:"Todos os profissionais"}),children:(0,l.jsx)(n.Z,{label:"Todos os setores"},"0")})})};t.Z=c},934:function(e,t,o){var l=o(85893),i=o(76992),a=o(29618),n=o(47028),r=o(67294),s=o(60664),d=o(64165),c=o(21609),u=o(7071),x=o(67074),m=o(17494),h=o(29630),p=o(36599),v=o(23508);(0,x.ZP)(p.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}});let f=e=>{let{parFormularioID:t,id:o}=e,[x,p]=(0,r.useState)(!1),f=async()=>{try{await s.h.post("/formularios/fornecedor/getMovementHistory/".concat(o),{parFormularioID:t}).then(e=>{p(e.data)})}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{f()},[]),x&&x.length>0&&(0,l.jsx)("div",{children:(0,l.jsxs)(i.Z,{sx:{borderRadius:"10px",overflow:"hidden",p:2},children:[(0,l.jsx)(a.Z,{expandIcon:(0,l.jsx)(v.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:(0,l.jsxs)("h2",{className:"font-semibold mb-2",children:["Hist\xf3rico de movimenta\xe7\xf5es (",x.length,")"]})}),(0,l.jsx)(n.Z,{children:x&&x.length>0&&x.map((e,t)=>(0,l.jsxs)("div",{className:"grid grid-cols-4 items-center",children:[(0,l.jsx)("div",{children:e.data+" "+e.hora}),(0,l.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,l.jsx)(m.Z,{color:d.WR[e.statusAtual].color}),(0,l.jsx)("span",{children:d.WR[e.statusAtual].title}),0==t&&(0,l.jsx)(u.Z,{size:"small",skin:"light",color:d.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center gap-2",children:[(0,l.jsx)(c.Z,{icon:"material-symbols:engineering-outline"}),e.usuario]}),(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center gap-2",children:[(0,l.jsx)(c.Z,{icon:"mdi:company"}),e.unidade]})]}))})]})})};t.Z=f},50287:function(e,t,o){var l=o(85893),i=o(79072),a=o(55343),n=o(67836),r=o(87536),s=o(62097),d=o(67294),c=o(64165);let u=e=>{let{xs:t,md:o,title:u,required:x,disabled:m,type:h,value:p,name:v,typeValidation:f,errors:j,alertRequired:g,control:b,opacity:y}=e,Z=(0,s.Z)(),[C,w]=(0,d.useState)({}),[D,z]=(0,d.useState)(null);(0,d.useEffect)(()=>{f&&p&&S(f,v,p)},[f,p,v]);let I=e=>{let t=new Date(e+"T00:00:00"),o=t.getUTCDate().toString().padStart(2,"0"),l=(t.getUTCMonth()+1).toString().padStart(2,"0"),i=t.getUTCFullYear();return"".concat(i,"-").concat(l,"-").concat(o)},S=(e,t,o,l)=>{let i=new Date(o+"T00:00:00"),a=(0,c.HD)(e,i,l);w(e=>({...e,[t]:a}))},R=e=>{let t=new Date,o=new Date(e+"T00:00:00");return"dataAtual"===f&&o.toDateString()!==t.toDateString()?(z("A data deve ser a data atual"),!1):"dataPassado"===f&&o>=t?(z("A data deve ser do passado"),!1):"dataFutura"===f&&o<=t?(z("A data deve ser do futuro"),!1):(z(null),!0)};return(0,l.jsx)(i.ZP,{item:!0,xs:t,md:o,sx:{my:1},children:(0,l.jsx)(a.Z,{fullWidth:!0,children:(0,l.jsx)(r.Qr,{name:v,control:b,rules:{required:x},render(e){let{field:t}=e;return(0,l.jsx)(n.Z,{type:null!=h?h:"date",size:"small",label:u,disabled:!!m,defaultValue:p?I(p):"",error:!!j||!!D,helperText:D,onChange(e){let o=e.target.value;R(o)&&(t.onChange(o),f&&S(f,v,o))},variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{min:"dataFutura"===f?new Date().toISOString().split("T")[0]:void 0,max:"dataPassado"===f?new Date().toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+50)).toISOString().split("T")[0]},sx:{opacity:y?.4:1,"& .MuiInputBase-input":{padding:"10px 14px"},...g&&!(null==t?void 0:t.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Z.palette.error.main},"&:hover fieldset":{borderColor:Z.palette.error.main},"&.Mui-focused fieldset":{borderColor:Z.palette.error.main}},"& .MuiInputLabel-root":{color:Z.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:Z.palette.error.main}}}})}})})})};t.Z=u},73731:function(e,t,o){var l=o(85893),i=o(70754);let a=e=>{let{show:t,title:o}=e;return t&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-gray-900 z-50",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,l.jsx)(i.Z,{size:20,color:"primary"}),(0,l.jsx)("p",{className:"text-sm opacity-80 text-white ",children:null!=o?o:"Carregando..."})]})})};t.Z=a},62813:function(e,t,o){var l=o(85893),i=o(99070);let a=()=>{let e=i.mM.create({footer:{position:"absolute",bottom:20,color:"grey",width:"100vw",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10}});return(0,l.jsxs)(i.G7,{fixed:!0,style:e.footer,children:[(0,l.jsxs)(i.xv,{children:["Gerado em"," ",new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,l.jsx)(i.xv,{render(e){let{pageNumber:t,totalPages:o}=e;return"".concat(t,"/").concat(o)}})]})};t.Z=a},74811:function(e,t,o){var l=o(85893),i=o(99070),a=o(67294),n=o(60664);let r={header:{position:"fixed",top:5,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},title:{textAlign:"center"},imageContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end"},image:{aspectRatio:1,objectFit:"contain",height:"100%",marginLeft:"auto"}},s=e=>{var t,o;let{data:s}=e,[d,c]=(0,a.useState)(null),u=async()=>{try{let e=await n.h.post("/relatorio/getHeader",{unidadeID:s.user.unidadeID});c(e.data),console.log("\uD83D\uDE80 ~ Header data:: ",e.data)}catch(t){console.error("Erro ao buscar os dados do cabe\xe7alho:",s)}};return(0,a.useEffect)(()=>{u()},[]),d&&(0,l.jsxs)(i.G7,{style:r.header,children:[(0,l.jsx)(i.G7,{style:{width:"10%"},children:(0,l.jsx)(i.xv,{})}),(0,l.jsxs)(i.G7,{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5},children:[(0,l.jsx)(i.xv,{style:[r.title,r.content,{width:"100%"}],children:null!==(t=null==d?void 0:d.tituloRelatorio)&&void 0!==t?t:"Cabe\xe7alho n\xe3o definido"}),(0,l.jsx)(i.xv,{style:[r.title,r.content,{width:"60%",fontSize:8}],children:null!==(o=null==d?void 0:d.endereco)&&void 0!==o?o:"Endere\xe7o n\xe3o definido"}),(0,l.jsx)(i.xv,{style:[r.title,r.content,{width:"100%",fontSize:8}],children:"CNPJ: ".concat(null==d?void 0:d.cnpj)})]}),(0,l.jsx)(i.G7,{style:[r.imageContainer,{width:"10%"}],children:(null==d?void 0:d.url)?(0,l.jsx)(i.Ee,{src:n.Y+(null==d?void 0:d.url),style:r.image}):""})]})};t.Z=s},43776:function(e,t,o){o.d(t,{W:function(){return i}});var l=o(99070);let i=l.mM.create({page:{flexDirection:"column",backgroundColor:"#FFF",justifyContent:"start",paddingTop:15,paddingBottom:30},title:{},header:{position:"fixed",top:-10,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{marginHorizontal:10,fontSize:11,padding:15,flex:1},footer:{position:"absolute",bottom:20,color:"grey",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10},blockTitle:{paddingVertical:5},containerFields:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",paddingTop:2},fields:{display:"flex",flexDirection:"column",gap:"2px",paddingBottom:4,paddingTop:4},fieldTitle:{fontSize:8,opacity:"0.8"},fieldValue:{fontSize:10},separator:{height:"1px",width:"100%",borderBottom:"1px solid #ddd",clear:"both"},table:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableRed:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ff625d",borderTop:"1px solid #ff625d",borderLeft:"1px solid #ff625d",borderBottom:"1px solid #ff625d",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableTitle:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#EEE",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #ddd"},tableTitleRed:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#f8e2e2",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #f8e2e2"},tableTitlecolumn:{padding:8},tableContainer:{display:"flex",flexDirection:"row",width:"100%"},tableContent:{padding:8,borderLeft:"1px solid #ddd",borderTop:"1px solid #ddd"},tableContentRed:{paddingHorizontal:8,paddingVertical:0,borderLeft:"1px solid #f8e2e2",borderTop:"1px solid #f8e2e2"},tableContentcolumn:{fontSize:9}})},10179:function(e,t,o){var l=o(85893);t.Z=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M12.71 11.29a1 1 0 00-.33-.21 1 1 0 00-.76 0 1 1 0 00-.33.21l-2 2a1 1 0 001.42 1.42l.29-.3V17a1 1 0 002 0v-2.59l.29.3a1 1 0 001.42 0 1 1 0 000-1.42zM20 8.94a1.31 1.31 0 00-.06-.27v-.09a1.07 1.07 0 00-.19-.28l-6-6a1.07 1.07 0 00-.28-.19h-.1a1.1 1.1 0 00-.31-.11H7a3 3 0 00-3 3v14a3 3 0 003 3h10a3 3 0 003-3V9v-.06zm-6-3.53L16.59 8H15a1 1 0 01-1-1zM18 19a1 1 0 01-1 1H7a1 1 0 01-1-1V5a1 1 0 011-1h5v3a3 3 0 003 3h3z"})})}},55334:function(e,t,o){o.r(t);var l=o(85893),i=o(99070),a=o(67294),n=o(43776),r=o(60664);let s=e=>{var t,o,s,d,c,u,x,m;let{values:h}=e;if(!h)return;let[p,v]=(0,a.useState)(null),f=async()=>{let e=await r.h.post("relatorio/formularios/fornecedor/getContent",h);v(e.data)};return(0,a.useEffect)(()=>{f()},[]),p&&(0,l.jsxs)(i.G7,{style:{width:"100%"},children:[(0,l.jsx)(i.G7,{style:{padding:3,backgroundColor:"#eee",marginTop:20,border:"1px solid #ddd"},children:(0,l.jsx)(i.xv,{style:{width:"100%",textAlign:"center",fontSize:12},children:"QUALIFICA\xc7\xc3O DE FORNECEDORES"})}),(0,l.jsx)(i.G7,{style:{marginTop:20},children:(0,l.jsxs)(i.xv,{style:{fontSize:10},children:["A empresa ",(0,l.jsx)(i.xv,{children:null==p?void 0:p.unidade})," possui como norma de BPF a avalia\xe7\xe3o de seus fornecedores quanto as mat\xe9rias primas e ingredientes por estes fornecidos."]})}),"Fornecedor",(0,l.jsx)(i.G7,{style:{marginTop:20},children:(0,l.jsxs)(i.xv,{style:{fontSize:10},children:["Fornecedor: ",(0,l.jsx)(i.xv,{style:{fontWeight:"bold",fontSize:10},children:p.fornecedor})]})}),(0,l.jsx)(i.G7,{style:{marginTop:20},children:(0,l.jsxs)(i.xv,{style:{fontSize:10},children:[(null==p?void 0:null===(t=p.produtos)||void 0===t?void 0:t.length)>1?"Produtos fornecidos: ":"Produto fornecido: ",null==p?void 0:null===(o=p.produtos)||void 0===o?void 0:o.map((e,t)=>(0,l.jsxs)(i.xv,{children:[(0,l.jsx)(i.xv,{style:{fontWeight:"bold",fontSize:10},children:e.produtos}),t!==p.produtos.length-1&&", "]},t))]})}),(0,l.jsx)(i.G7,{style:{marginTop:20},children:(0,l.jsx)(i.G7,{style:n.W.containerFields,children:null===(s=p.header)||void 0===s?void 0:s.map((e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.G7,{style:[n.W.fields,{width:"33%"}],children:[(0,l.jsx)(i.xv,{style:n.W.fieldTitle,children:null!==(c=e.name)&&void 0!==c?c:""}),(0,l.jsx)(i.xv,{style:n.W.fieldValue,children:null!==(u=e.value)&&void 0!==u?u:""})]}),(t+1)%3==0&&(0,l.jsx)(i.G7,{style:n.W.separator})]}))})}),null===(d=p.blocks)||void 0===d?void 0:d.map((e,t)=>(0,l.jsx)(i.G7,{style:[e,{marginTop:30}],children:(0,l.jsxs)(i.G7,{style:n.W.table,children:[(0,l.jsxs)(i.G7,{style:n.W.tableTitle,children:[(0,l.jsx)(i.xv,{style:[n.W.tableTitlecolumn,{width:"60%"}],children:e.nome}),(0,l.jsx)(i.xv,{style:[n.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,l.jsx)(i.xv,{style:[n.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,t)=>(0,l.jsxs)(i.G7,{style:n.W.tableContainer,children:[(0,l.jsx)(i.G7,{style:[n.W.tableContent,{width:"60%"}],children:(0,l.jsx)(i.xv,{style:n.W.tableContentcolumn,children:e.nome})}),(0,l.jsx)(i.G7,{style:[n.W.tableContent,{width:"20%"}],children:(0,l.jsx)(i.xv,{style:n.W.tableContentcolumn,children:null!==(x=e.resposta)&&void 0!==x?x:""})}),(0,l.jsx)(i.G7,{style:[n.W.tableContent,{width:"20%"}],children:(0,l.jsx)(i.xv,{style:n.W.tableContentcolumn,children:null!==(m=e.obsResposta)&&void 0!==m?m:""})})]}))]})},t))]})};t.default=s}}]);