"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{72819:function(e,n,l){var i=l(85893),t=l(95398),r=l(19604),a=l(44642),s=l(76779),o=l(54225),c=l(1890),d=l(77745),u=l(67294),p=l(87536);l(29308);var x=l(21609);let m=e=>{let{title:n,description:l,setOpenModal:m,openModal:h,children:j,handleConclusion:v,handleCopyLink:b,handleLink:f,size:g,fullHeight:Z=!1}=e,{control:y,register:C,handleSubmit:k,reset:$,getValues:N,setValue:w,watch:z,formState:{errors:D}}=(0,p.cI)(),S=e=>{k(I)(e)},I=e=>{$(),m(!1),v(e)};return(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(c.Z,{open:h,onClose:()=>m(!1),fullWidth:!!g,maxWidth:g||null,children:(0,i.jsxs)("form",{className:"".concat(Z&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,i.jsx)(d.Z,{id:"form-dialog-title",children:n}),l&&(0,i.jsx)(t.Z,{children:(0,i.jsx)(r.Z,{severity:"info",children:l})}),(0,i.jsx)(t.Z,{children:(0,i.jsx)(a.Z,{sx:{py:2},children:u.cloneElement(j,{getValues:N,control:y,register:C,setValue:w,errors:D,watch:z,reset:$,onSubmit:I})})}),(0,i.jsxs)(s.Z,{className:"dialog-actions-dense",children:[(0,i.jsx)(o.Z,{variant:"outlined",color:"primary",onClick:()=>m(!1),children:"Fechar"}),v&&(0,i.jsx)(o.Z,{type:"button",variant:"contained",color:"primary",onClick:S,children:"Confirmar"}),f&&(0,i.jsx)(o.Z,{type:"button",variant:"contained",color:"primary",onClick:f,children:"Acessar"}),b&&(0,i.jsx)(o.Z,{variant:"contained",color:"primary",startIcon:(0,i.jsx)(x.Z,{icon:"uil:copy",fontSize:20}),onClick:b,children:"Copiar Link"})]})]})})})};n.Z=m},86887:function(e,n,l){l.d(n,{Z:function(){return D}});var i=l(85893),t=l(11163),r=l.n(t),a=l(67294),s=l(21609),o=l(23197),c=l(40039),d=l(83830);l(7071);var u=l(61225),p=l(54225),x=l(73812),m=l(86378),h=l(72819),j=l(82555);let v=e=>{let{anchorEl:n,open:l,handleClose:t,handleClick:r,actionsData:o}=e,[c,d]=(0,a.useState)(!1),[u,v]=(0,a.useState)(null),{setData:b,data:f}=(0,j.O)(),g=e=>{b({...f,report:{id:e.id,status:e.status}})};return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)(p.Z,{type:"button",onClick:r,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"octicon:chevron-down-12"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,i.jsx)(x.Z,{id:"basic-menu",anchorEl:n,open:l,onClose:t,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==o?void 0:o.map(e=>(0,i.jsxs)(m.Z,{onClick(){t(),g(e)},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,i.jsxs)("span",{style:{padding:"0 7px"},children:[(0,i.jsx)("span",{children:e.identification})," -"]}):(0,i.jsx)(s.Z,{icon:e.icon}),"report"==e.type?(0,i.jsx)("a",{href:"/relatorio/".concat(e.route),target:"_blank",children:e.name}):(0,i.jsx)("p",{onClick:e.modal?()=>{d(!0),v(e)}:e.action,children:e.name})]},e.id))}),u&&(0,i.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var b=l(41664),f=l.n(b),g=l(41088),Z=l(99070);l(86009);var y=l(74811),C=l(27472),k=l(62813);let $=e=>{var n,l,t,a,o;let{btnSend:c,btnSave:d,btnNew:u,btnNext:x,manualUrl:m,routes:h,currentUrl:v,disabled:b,disabledSend:$,disabledSubmit:N,handleSubmit:w,handleSend:z,iconConclusion:D,titleConclusion:S}=e,I=r(),{isLoading:L}=(0,g.Z)(),{data:P}=(0,j.O)(),E={unidadeID:null==P?void 0:null===(n=P.user)||void 0===n?void 0:n.unidadeID,papelID:null==P?void 0:null===(l=P.user)||void 0===l?void 0:l.papelID},_={unidadeID:null==P?void 0:null===(t=P.user)||void 0===t?void 0:t.unidadeID,papelID:null==P?void 0:null===(a=P.user)||void 0===a?void 0:a.papelID,id:null==P?void 0:null===(o=P.report)||void 0===o?void 0:o.id};console.log("\uD83D\uDE80 ~ dataContent:",_);let A=()=>(0,i.jsx)(Z.BB,{children:(0,i.jsxs)(Z.T3,{size:"A4",style:{paddingHorizontal:25},children:[(0,i.jsx)(y.Z,{data:E}),(0,i.jsx)(C.default,{data:_}),(0,i.jsx)(k.Z,{})]})});return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[u&&h.find(e=>e.rota===I.pathname&&e.inserir)&&(0,i.jsx)(f(),{href:"".concat(I.pathname,"/novo"),children:(0,i.jsxs)(p.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"ic:outline-plus"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),c&&(0,i.jsx)(Z.z6,{document:(0,i.jsx)(A,{}),children(e){let{blob:n,url:l,loading:t,error:r}=e;return(0,i.jsxs)(p.Z,{onClick(){z(n),console.log("blob",n)},type:"button",variant:"contained",size:"medium",color:"primary",disabled:b||$,sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:null!=D?D:"carbon:send-filled"}),(0,i.jsx)("span",{className:"hidden sm:block",children:S})]})}}),d&&(0,i.jsxs)(p.Z,{onClick:w,type:"submit",variant:"contained",size:"medium",disabled:b||N,sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"mdi:check-bold"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),x&&(0,i.jsxs)(p.Z,{onClick:w,type:"submit",variant:"outlined",size:"medium",color:L?"secondary":"primary",disabled:b||L,children:[(0,i.jsx)(s.Z,{icon:"grommet-icons:form-next-link"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},N=e=>{let{routes:n,currentUrl:l,btnCancel:t,btnDelete:r,btnStatus:a,btnClose:o,handleModalClose:c,handleBtnStatus:d,status:u,setId:x,router:m,type:h,onclickDelete:j}=e;return(0,i.jsxs)("div",{className:"flex gap-2",children:[t&&!o&&n.find(e=>e.rota===l&&e.ler)&&(0,i.jsx)(p.Z,{onClick(){x(null),"new"==h&&m.push(l)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,i.jsx)(s.Z,{icon:"grommet-icons:form-previous-link"})}),r&&n.find(e=>e.rota===l&&e.excluir)&&(0,i.jsxs)(p.Z,{type:"button",onClick:j,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"material-symbols:delete-outline"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),o&&(0,i.jsx)(p.Z,{type:"button",onClick:c,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,i.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var w=l(66136);let z=e=>{let{btnCancel:n,btnSave:l,btnSend:t,btnNext:p,btnStatus:x,handleSubmit:m,manualUrl:h,btnNew:j,btnClose:b,handleModalClose:f,disabledSubmit:Z,handleSend:y,componentSaveReport:C,iconConclusion:k,titleConclusion:z,disabledSend:D,handleBtnStatus:S,onclickDelete:I,btnDelete:L,btnPrint:P,disabledPrint:E,disabled:_,actions:A,actionsData:F,type:M,status:B,partialRoute:T,outsideID:H}=e,O=r(),{routes:V}=(0,a.useContext)(c.V),{setId:U}=(0,a.useContext)(d.X),[W,K]=(0,a.useState)(!1),[X,q]=(0,a.useState)(null),{isLoading:J}=(0,g.Z)(),{settings:Q}=(0,a.useContext)(w.J6),Y=(0,u.Z)("(min-width:640px)"),G=Boolean(X),R=e=>{q(e.currentTarget)},ee=()=>{q(null)},en="new"===M&&T?(0,o.g_)((0,o.g_)(O.pathname)):"new"===M||T?(0,o.g_)(O.pathname):O.pathname;return s.Z,s.Z,s.Z,(0,a.useEffect)(()=>{let e=()=>{K(!1),window.scrollY>0?K(!0):K(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"sticky ".concat(H?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==Q.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,i.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,i.jsx)(N,{routes:V,currentUrl:en,btnCancel:n,btnDelete:L,btnStatus:x,btnClose:b,handleModalClose:f,status:B,handleBtnStatus:S,onclickDelete:I,setId:U,router:O,type:M}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[A&&(0,i.jsx)(v,{anchorEl:X,open:G,handleClose:ee,handleClick:R,disabled:_,disabledPrint:E,btnPrint:P,actionsData:F,matches:Y}),(0,i.jsx)($,{btnSave:l,btnNew:j,btnSend:t,btnNext:p,manualUrl:h,routes:V,currentUrl:en,handleSubmit:m,disabled:_,disabledSend:D,disabledSubmit:Z,handleSend:y,iconConclusion:k,titleConclusion:z})]})]})})})};var D=z},53934:function(e,n,l){var i=l(85893),t=l(67294),r=l(17575),a=l(32046),s=l(67074),o=l(21609),c=l(29630);let d=e=>{let{text:n,position:l}=e,d=(0,s.ZP)(e=>{let{className:n,...l}=e;return(0,i.jsx)(r.Z,{...l,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(a.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,i.jsx)(d,{title:(0,i.jsx)(t.Fragment,{children:(0,i.jsx)(c.Z,{color:"inherit",children:n})}),placement:l||"top",children:(0,i.jsx)("p",{children:(0,i.jsx)(o.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=d},29308:function(e,n,l){var i=l(85893),t=l(87536),r=l(79072),a=l(55343),s=l(67836),o=l(9041),c=l(80562),d=l(34175),u=l(21609),p=l(53934);l(30944),l(67294);let x=e=>{let{xs:n,md:l,title:x,name:m,rows:h,value:j,type:v,mask:b,getAddressByCep:f,multiline:g,disabled:Z,required:y,control:C,errors:k,onChange:$,className:N,help:w,clearField:z,helpText:D,helpTextPosition:S,...I}=e;return(0,i.jsx)(r.ZP,{item:!0,xs:n,md:l,sx:{my:1},className:N,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(a.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,i.jsx)(t.Qr,{name:m,control:C,rules:{required:y},render(e){let{field:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{...I,multiline:g,value:null==n?void 0:n.value,label:x,placeholder:x,rows:h,type:null!=v?v:"text",size:"small",disabled:Z,"aria-describedby":"validation-schema-nome",error:k,onChange(e){let l=e.target.value;"cnpj"===b?l=(0,d.PK)(l):"cep"===b?f(l=(0,d.Tc)(l)):"cep2"===b?l=(0,d.Tc)(l):"telefone"===b?l=(0,d.Bk)(l):"estado"===b?l=(0,d.CL)(l):"cpf"===b?l=(0,d.VL)(l):"rg"===b&&(l=(0,d.cH)(l)),n.onChange(l),$&&$(l)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===b?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===b||"cep2"===b?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===b?{maxLength:15}:"cpf"===b?{maxLength:14}:"rg"===b?{maxLength:11}:"estado"===b?{maxLength:2}:{},InputProps:{endAdornment:z&&(0,i.jsx)(o.Z,{position:"end",children:(0,i.jsx)(c.Z,{onClick:z,children:(0,i.jsx)(u.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"}}})})}})}),D&&(0,i.jsx)("div",{className:"absolute ".concat("number"==v?"right-10":"right-4","  top-[12px]"),children:(0,i.jsx)(p.Z,{text:D,position:null!=S?S:"top"})})]})})};n.Z=x},34175:function(e,n,l){function i(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function t(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function r(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function a(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function s(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function o(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}l.d(n,{Bk:function(){return a},CL:function(){return o},PK:function(){return i},Tc:function(){return s},VL:function(){return t},cH:function(){return r}})},41088:function(e,n,l){var i=l(67294),t=l(83830);let r=()=>{let{isLoading:e,setIsLoading:n}=(0,i.useContext)(t.X),l=()=>{n(!0)},r=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:l,stopLoading:r}};n.Z=r}}]);