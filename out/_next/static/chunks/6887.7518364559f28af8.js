"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{86887:function(e,n,i){i.d(n,{Z:function(){return N}});var l=i(85893),t=i(11163),s=i.n(t),a=i(67294),o=i(21609),r=i(64165),c=i(40039),d=i(83830);i(7071);var u=i(61225),m=i(54225),p=i(73812),x=i(86378),h=i(72819),b=i(60664);let j=e=>{let{anchorEl:n,open:i,handleClose:t,handleClick:s,actionsData:r}=e,[c,d]=(0,a.useState)(!1),[u,j]=(0,a.useState)(null),f=e=>{if(e.status>=50){let n="".concat(b.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(m.Z,{type:"button",onClick:s,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"octicon:chevron-down-12"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,l.jsx)(p.Z,{id:"basic-menu",anchorEl:n,open:i,onClose:t,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==r?void 0:r.map(e=>(0,l.jsxs)(x.Z,{onClick(){t()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,l.jsxs)("span",{style:{padding:"0 7px"},children:[(0,l.jsx)("span",{children:e.identification})," -"]}):(0,l.jsx)(o.Z,{icon:e.icon}),"report"==e.type?(0,l.jsx)("a",{onClick:()=>f(e),children:e.name}):(0,l.jsx)("p",{onClick:e.modal?()=>{d(!0),j(e)}:e.action,children:e.name})]},e.id))}),u&&(0,l.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var f=i(41664),v=i.n(f),g=i(41088),y=i(82555);let k=e=>{let{btnSend:n,btnSave:i,btnNew:t,btnNext:a,manualUrl:r,routes:c,currentUrl:d,disabled:u,disabledSend:p,disabledSubmit:x,handleSubmit:h,handleSend:b,iconConclusion:j,titleConclusion:f}=e,k=s(),{isLoading:Z}=(0,g.Z)(),{data:C}=(0,y.O)();return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[t&&c.find(e=>e.rota===k.pathname&&e.inserir)&&(0,l.jsx)(v(),{href:"".concat(k.pathname,"/novo"),children:(0,l.jsxs)(m.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&C&&(0,l.jsxs)(m.Z,{onClick(){b()},type:"button",variant:"contained",size:"medium",color:"primary",disabled:u||p,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:null!=j?j:"carbon:send-filled"}),(0,l.jsx)("span",{className:"hidden sm:block",children:f})]}),i&&(0,l.jsxs)(m.Z,{onClick:h,type:"submit",variant:"contained",size:"medium",disabled:u||x,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"mdi:check-bold"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),a&&(0,l.jsxs)(m.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:Z?"secondary":"primary",disabled:u||Z,children:[(0,l.jsx)(o.Z,{icon:"grommet-icons:form-next-link"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},Z=e=>{let{routes:n,currentUrl:i,btnCancel:t,btnDelete:s,btnStatus:a,btnClose:r,handleModalClose:c,handleBtnStatus:d,status:u,setId:p,router:x,type:h,onclickDelete:b}=e;return(0,l.jsxs)("div",{className:"flex gap-2",children:[t&&!r&&n.find(e=>e.rota===i&&e.ler)&&(0,l.jsx)(m.Z,{onClick(){p(null),"new"==h&&x.push(i)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,l.jsx)(o.Z,{icon:"grommet-icons:form-previous-link"})}),s&&n.find(e=>e.rota===i&&e.excluir)&&(0,l.jsxs)(m.Z,{type:"button",onClick:b,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"material-symbols:delete-outline"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),r&&(0,l.jsx)(m.Z,{type:"button",onClick:c,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,l.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var C=i(66136);let w=e=>{let{btnCancel:n,btnSave:i,btnSend:t,btnNext:m,btnStatus:p,handleSubmit:x,manualUrl:h,btnNew:b,btnClose:f,handleModalClose:v,disabledSubmit:y,handleSend:w,componentSaveReport:N,iconConclusion:z,titleConclusion:S,disabledSend:_,handleBtnStatus:E,onclickDelete:D,btnDelete:F,btnPrint:I,disabledPrint:M,disabled:P,actions:A,actionsData:O,type:L,status:U,partialRoute:B,outsideID:H}=e,T=s(),{routes:X}=(0,a.useContext)(c.V),{setId:Y}=(0,a.useContext)(d.X),[J,V]=(0,a.useState)(!1),[q,G]=(0,a.useState)(null),{isLoading:K}=(0,g.Z)(),{settings:Q}=(0,a.useContext)(C.J6),R=(0,u.Z)("(min-width:640px)"),W=Boolean(q),$=e=>{G(e.currentTarget)},ee=()=>{G(null)},en="new"===L&&B?(0,r.g_)((0,r.g_)(T.pathname)):"new"===L||B?(0,r.g_)(T.pathname):T.pathname;return o.Z,o.Z,o.Z,(0,a.useEffect)(()=>{let e=()=>{V(!1),window.scrollY>0?V(!0):V(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"sticky ".concat(H?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==Q.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,l.jsx)(Z,{routes:X,currentUrl:en,btnCancel:n,btnDelete:F,btnStatus:p,btnClose:f,handleModalClose:v,status:U,handleBtnStatus:E,onclickDelete:D,setId:Y,router:T,type:L}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[A&&(0,l.jsx)(j,{anchorEl:q,open:W,handleClose:ee,handleClick:$,disabled:P,disabledPrint:M,btnPrint:I,actionsData:O,matches:R}),(0,l.jsx)(k,{btnSave:i,btnNew:b,btnSend:t,btnNext:m,manualUrl:h,routes:X,currentUrl:en,handleSubmit:x,disabled:P,disabledSend:_,disabledSubmit:y,handleSend:w,iconConclusion:z,titleConclusion:S})]})]})})})};var N=w},41088:function(e,n,i){var l=i(67294),t=i(83830);let s=()=>{let{isLoading:e,setIsLoading:n}=(0,l.useContext)(t.X),i=()=>{n(!0)},s=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:i,stopLoading:s}};n.Z=s}}]);