"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3545],{80587:function(e,n,l){l(85893),l(21609),l(10179),l(42107),l(88475),l(73731),l(53934)},23895:function(e,n,l){l.d(n,{Z:function(){return A}});var t=l(85893),a=l(67294),i=l(66136),r=l(79072),o=l(17575),s=l(80562),d=l(21609),c=l(10179),u=l(42107),x=l(73731),m=l(53934);let h=e=>{var n;let{key:l,item:a,handleFileClick:i,indexGrupo:h,indexItem:p,selectedItem:f,handleFileSelect:j,handleRemove:v,loadingFile:g,folder:b,error:Z,disabled:C,modeTheme:y,inputRef:A}=e;return console.log("\uD83D\uDE80 ~ AnexoGrid item:",a),(0,t.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,t.jsxs)("div",{className:"".concat((null==Z?void 0:Z[l])?"border border-red-500":"dark"===y?"bg-[#212b36]":"bg-[#F6F6F8]"," rounded-lg flex flex-col relative z-10"),children:[(0,t.jsx)("div",{className:"flex items-center justify-center p-2 mt-1 ",children:(0,t.jsx)("p",{className:"font-medium text-sm ",children:a.nome})}),(0,t.jsx)("div",{className:"flex justify-center items-center cursor-pointer p-1 h-[100px] w-full ",disabled:C,onClick(){a.anexo&&a.anexo.path&&a.anexo.exist?window.open(a.anexo.path,"_blank"):C||i(a)},children:(0,t.jsxs)("div",{className:"flex p-1 justify-center items-center gap-2 rounded-lg w-full h-full m-3 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===y?" border-[#212b36]":"rgba(76, 78, 100, 0.12)"),children:[f&&f.grupoAnexoItemID==a.grupoAnexoItemID&&(0,t.jsx)(x.Z,{show:g,title:"Enviando anexo..."}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:a.anexo&&a.anexo.exist?(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)(u.Z,{data:a.anexo}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("p",{className:"text-sm opacity-80",children:[a.anexo.nome,(0,t.jsx)("span",{className:"text-xs opacity-50 ml-1",children:"(".concat((a.anexo.size/1024/1024).toFixed(2),"MB)")})]}),a.descricao&&(0,t.jsx)(m.Z,{text:a.descricao})]}),(0,t.jsx)("p",{className:"text-xs opacity-50",children:new Date(a.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)(c.Z,{className:"w-8 h-8 ".concat(a.anexo&&a.anexo.exist?"fill-[#666CFF]":"fill-current")}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("h6",{className:"text-sm font-normal opacity-80",children:"Adicione um arquivo"}),a.descricao&&(0,t.jsx)(m.Z,{text:a.descricao})]})]})})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between gap-1 p-2 py-3 pl-4",children:(0,t.jsx)(o.Z,{title:1==a.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,t.jsx)(s.Z,{color:"error",onClick:()=>v(a),disabled:!(null===(n=a.anexo)||void 0===n?void 0:n.exist)||C,children:(0,t.jsx)(d.Z,{icon:"tabler:trash-filled"})})})}),(0,t.jsx)("input",{type:"file",ref:A,style:{display:"none"},onChange:e=>j(e,f,b)})]})})};l(80587);var p=l(92945),f=l(49837),j=l(91359),v=l(29630),g=l(85390),b=l(87054),Z=function(e){return(0,t.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z"})})},C=function(e){return(0,t.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{d:"M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zM2.5 2a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM1 10.5A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3z"})})};let y=e=>{let{values:n}=e,[l,o]=(0,a.useState)(null);console.log("\uD83D\uDE80 ~ selectedItem:",l);let{settings:s}=(0,a.useContext)(i.J6),d=s.mode,c=(0,a.useRef)(null),u=e=>{c.current.click(),o(e)};(0,a.useEffect)(()=>{c.current.value=""},[n.handleFileSelect]);let[x,m]=(0,a.useState)("list"),y=(e,n)=>{m(n)};return(0,t.jsx)(f.Z,{sx:{mt:4},children:(0,t.jsxs)(j.Z,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[n.grupo.nome,(0,t.jsx)(v.Z,{variant:"body2",sx:{mb:2},children:n.grupo.descricao})]}),(0,t.jsx)("div",{children:(0,t.jsxs)(g.Z,{exclusive:!0,color:"primary",value:x,onChange:y,children:[(0,t.jsx)(b.Z,{value:"list",children:(0,t.jsx)(Z,{})}),(0,t.jsx)(b.Z,{value:"grid",children:(0,t.jsx)(C,{})})]})})]}),(0,t.jsx)(r.ZP,{container:!0,spacing:4,children:n.grupo.itens.map((e,a)=>"list"===x?(0,t.jsx)(p.Z,{modeTheme:d,handleFileClick:u,selectedItem:l,inputRef:c,item:e,loadingFile:n.loadingFile,grupo:n.grupo,indexBlock:n.indexGrupo,indexItem:a,handleFileSelect:n.handleFileSelect,handleRemove:n.handleRemove,folder:n.folder,error:n.error,disabled:n.disabled},"".concat(n.indexGrupo,"-").concat(a)):(0,t.jsx)(h,{modeTheme:d,handleFileClick:u,selectedItem:l,inputRef:c,item:e,loadingFile:n.loadingFile,grupo:n.grupo,indexGrupo:n.indexGrupo,indexItem:a,handleFileSelect:n.handleFileSelect,handleRemove:n.handleRemove,folder:n.folder,error:n.error,disabled:n.disabled},"".concat(n.indexGrupo,"-").concat(a)))})]})})};var A=y},45061:function(e,n,l){var t=l(85893),a=l(54225),i=l(1890),r=l(77745),o=l(95398),s=l(76779),d=l(44642);l(21609);var c=l(19604),u=l(29630),x=l(55343),m=l(67836),h=l(67294),p=l(82747);l(84220),l(29308),l(67569),l(3893),l(88475);let f=e=>{let{title:n,text:l,handleClose:f,openModal:j,handleSubmit:v,cnpj:g,nomeFornecedor:b,gruposAnexo:Z,email:C,setEmail:y,inputEmail:A,btnCancel:w,btnConfirm:F,grupoAnexosFornecedor:I,btnCancelColor:k,btnConfirmColor:N,closeAfterSave:R,listErrors:S}=e,[z,D]=(0,h.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Z,{open:j,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,n){"backdropClick"!==n&&f()},children:[(0,t.jsx)(r.Z,{id:"form-dialog-title",children:n}),(0,t.jsxs)(o.Z,{children:[(0,t.jsxs)(d.Z,{sx:{mb:3},children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:l}}),S&&S.status&&(0,t.jsxs)(c.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,t.jsx)(u.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:S.errors.map((e,n)=>(0,t.jsxs)(u.Z,{variant:"body2",color:"error",children:["- ",e]},n))})]})]}),A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.Z,{sx:{mt:2},fullWidth:!0,children:[(0,t.jsx)(m.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==C?void 0:C.length)>0&&z,inputProps:{onChange(e){y(e.target.value),D(!(0,p.dI)(e.target.value))}}}),(null==C?void 0:C.length)>0&&z&&(0,t.jsx)(u.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,t.jsx)(c.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,t.jsxs)(s.Z,{className:"dialog-actions-dense",children:[w&&(0,t.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:f,children:"Cancelar"}),F&&(0,t.jsx)(a.Z,{variant:"contained",disabled:A&&(null==C?void 0:C.length)>0&&z||S&&S.status,color:N||"error",onClick:A&&g?()=>{v(g,b,Z,C),R&&f()}:A&&!g?()=>{v(C),R&&f()}:()=>{v(),R&&f()},children:"Confirmar"})]})]})})};n.Z=f},34282:function(e,n,l){var t=l(85893),a=l(67294),i=l(54225),r=l(1890),o=l(77745),s=l(95398),d=l(76779),c=l(44642),u=l(21609),x=l(60664),m=l(79072),h=l(55343),p=l(35966),f=l(67836),j=l(19604),v=l(61953),g=l(71798),b=l(40039),Z=l(7071),C=l(67074),y=l(17494),A=l(87413),w=l(29630),F=l(72162),I=l(9601),k=l(51221),N=l(36599),R=l(45061);let S=(0,C.ZP)(N.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),z=e=>{var n;let{id:l,parFormularioID:C,formStatus:N,hasFormPending:z,title:D,text:W,handleClose:E,openModal:P,handleSubmit:M,btnCancel:B,btnConfirm:q,canChangeStatus:_,btnConfirmColor:G}=e,[V,H]=(0,a.useState)(!1),{user:O,loggedUnity:T}=(0,a.useContext)(b.V),[L,$]=(0,a.useState)(null),[J,K]=(0,a.useState)(""),[Q,U]=(0,a.useState)(!1);console.log("selectedStatus: ",L);let X=async()=>{try{await x.h.post("/formularios/fornecedor/getMovementHistory/".concat(l),{parFormularioID:C}).then(e=>{H(e.data)})}catch(e){console.log(e)}},Y=[];for(let ee in g.WR)30==parseInt(ee)&&parseInt(ee)!=N&&Y.push({id:parseInt(ee),nome:g.WR[ee].title});return(0,a.useEffect)(()=>{X()},[Q]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Z,{open:P,onClose:E,"aria-labelledby":"form-dialog-title",children:[(0,t.jsx)(o.Z,{id:"form-dialog-title",children:D}),(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(c.Z,{sx:{mb:3},children:W}),_&&(0,t.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(h.Z,{fullWidth:!0,children:(0,t.jsx)(p.Z,{options:Y,defaultValue:Y.find(e=>e.id===L),id:"autocomplete-outlined",getOptionLabel:e=>e.nome,onChange(e,n){$(null==n?void 0:n.id)},renderInput:e=>(0,t.jsx)(f.Z,{...e,name:"formulario.status",label:"Alterar Status do Formul\xe1rio",placeholder:"Alterar Status do Formul\xe1rio"})})})}),L&&L>0&&(0,t.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(h.Z,{fullWidth:!0,children:(0,t.jsx)(f.Z,{id:"outlined-multiline-static",label:"Observa\xe7\xe3o",multiline:!0,rows:3,placeholder:"Observa\xe7\xe3o",variant:"outlined",onChange:e=>K(e.target.value)})})})]}),O&&1==O.papelID&&z&&(0,t.jsx)(j.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,t.jsx)(v.Z,{children:(0,t.jsx)(S,{children:V&&V.length>0&&V.map((e,n)=>(0,t.jsxs)(A.Z,{children:[(0,t.jsxs)(I.Z,{children:[(0,t.jsx)(y.Z,{color:g.WR[e.statusAtual].color}),(0,t.jsx)(k.Z,{})]}),(0,t.jsxs)(F.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,t.jsxs)(v.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)(w.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:[e.data+" - "+e.hora+" ",0==n&&(0,t.jsx)(Z.Z,{size:"small",skin:"light",color:g.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,t.jsx)(w.Z,{variant:"caption",children:e.usuario})]}),(0,t.jsxs)(v.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,t.jsxs)(w.Z,{variant:"body2",sx:{color:"text.primary"},children:[(0,t.jsx)("span",{children:g.WR[e.statusAnterior].title}),(0,t.jsx)(u.Z,{icon:"mdi:arrow-right",fontSize:20,style:{display:"inline-block"}}),(0,t.jsx)("span",{children:g.WR[e.statusAtual].title})]}),(0,t.jsx)(w.Z,{variant:"caption",children:e.unidade})]}),null!=e.observacao&&(0,t.jsx)(v.Z,{children:(0,t.jsx)(w.Z,{variant:"caption",children:e.observacao})})]})]}))})})]}),(0,t.jsxs)(d.Z,{className:"dialog-actions-dense",children:[B&&(0,t.jsx)(i.Z,{variant:"outlined",color:"primary",onClick:E,children:"Fechar"}),q&&O&&1==O.papelID&&!z&&_&&(0,t.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>1==C?U(!0):M(L,J),disabled:!L,children:"Confirmar"})]})]}),(0,t.jsx)(R.Z,{openModal:Q,handleClose:()=>U(!1),title:"Confirmar Altera\xe7\xe3o",text:'Deseja realmente alterar o status do formul\xe1rio para "'.concat(null===(n=g.WR[L])||void 0===n?void 0:n.title,'" ? O mesmo ficar\xe1 dispon\xedvel para a edi\xe7\xe3o do Fornecedor novamente.'),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit(){M(L,J),U(!1),$(null)}})]})};n.Z=z},1322:function(e,n,l){var t=l(85893),a=l(95398),i=l(44642),r=l(1890),o=l(77745);l(67294);let s=e=>{let{title:n,setOpenModal:l,openModal:s,children:d,size:c}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Z,{open:s,onClose:()=>l(!1),fullWidth:!!c,maxWidth:c||null,children:[(0,t.jsx)(o.Z,{id:"form-dialog-title",children:n}),(0,t.jsx)(a.Z,{children:(0,t.jsx)(i.Z,{children:d})})]})})};n.Z=s},56531:function(e,n,l){var t=l(85893),a=l(29308),i=l(84220),r=l(50287);let o=e=>{let{form:n,fields:l,disabled:o,disabledFields:s,getAddressByCep:d,setNameSelected:c,setColumnSelected:u,setOpenModalNew:x}=e,m=e=>{switch(e){case"telefone":case"telefone1":case"telefone2":return"telefone";case"cep":return"cep";case"cnpj":return"cnpj";default:return null}},h=e=>!!s&&s.length>0&&s.includes(e),p=async(e,n)=>{u(e),x(!0),c(n)};return l&&l.map((e,l)=>{var s,c,u;return(0,t.jsxs)(t.Fragment,{children:[e&&"int"===e.tipo&&e.tabela&&(0,t.jsx)(i.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(l,"].").concat(e.tabela),createNew:"transportadorID"===e.nomeColuna||"tipoVeiculoID"===e.nomeColuna?()=>p(e.nomeColuna,"fields[".concat(l,"].").concat(e.tabela)):null,type:e.tabela,options:e.options,value:null==e?void 0:e[e.tabela],mask:e.tabela,disabled:o||h(e.nomeColuna),alertRequired:1===e.obrigatorio,form:n},"select-".concat(l)),e&&"date"==e.tipo&&(0,t.jsx)(r.Z,{xs:12,md:4,title:"Data da avalia\xe7\xe3o",disabled:o||h(e.nomeColuna),value:null!==(s=null==e?void 0:e[e.nomeColuna])&&void 0!==s?s:new Date,type:e.nomeColuna,name:"fields[".concat(l,"].").concat(e.nomeColuna),typeValidation:"dataPassado",daysValidation:365,form:n,alertRequired:1===e.obrigatorio},"datefield-".concat(l)),e&&"string"==e.tipo&&(0,t.jsx)(a.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(l,"].").concat(e.nomeColuna),value:null!==(c=null==e?void 0:e[e.nomeColuna])&&void 0!==c?c:"",type:e.nomeColuna,getAddressByCep:d,mask:m(e.nomeColuna),disabled:!!(o||h(e.nomeColuna))||"cnpj"==e.nomeColuna,form:n,required:1===e.obrigatorio,alertRequired:1===e.obrigatorio},"input-".concat(l)),e&&"text"==e.tipo&&(0,t.jsx)(a.Z,{xs:12,md:12,multiline:!0,rows:3,title:e.nomeCampo,name:"fields[".concat(l,"].").concat(e.nomeColuna),value:null!==(u=null==e?void 0:e[e.nomeColuna])&&void 0!==u?u:"",type:e.nomeColuna,getAddressByCep:d,mask:m(e.nomeColuna),disabled:!!(o||h(e.nomeColuna))||"cnpj"==e.nomeColuna,form:n,alertRequired:1===e.obrigatorio},"input-".concat(l))]})})};n.Z=o},82747:function(e,n,l){function t(e){if(!e||14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,l=e.substring(0,n),t=e.substring(n),a=0,i=n-7;for(let r=n;r>=1;r--)a+=l.charAt(n-r)*i--,i<2&&(i=9);let o=a%11<2?0:11-a%11;if(o!=t.charAt(0))return!1;n+=1,l=e.substring(0,n),a=0,i=n-7;for(let s=n;s>=1;s--)a+=l.charAt(n-s)*i--,i<2&&(i=9);return(o=a%11<2?0:11-a%11)==t.charAt(1)}function a(e){let n;if(!e||11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let l=0;for(let t=1;t<=9;t++)l+=parseInt(e.substring(t-1,t))*(11-t);if((10==(n=10*l%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;l=0;for(let a=1;a<=10;a++)l+=parseInt(e.substring(a-1,a))*(12-a);return(10==(n=10*l%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function i(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}l.d(n,{dI:function(){return i},sw:function(){return a},zk:function(){return t}})}}]);