"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{86887:function(e,n,i){i.d(n,{Z:function(){return N}});var l=i(85893),t=i(11163),a=i.n(t),s=i(67294),o=i(21609),r=i(64165),c=i(40039),d=i(83830);i(7071);var u=i(61225),m=i(54225),p=i(73812),x=i(86378),h=i(72819),b=i(60664);let j=e=>{let{anchorEl:n,open:i,handleClose:t,handleClick:a,actionsData:r}=e,[c,d]=(0,s.useState)(!1),[u,j]=(0,s.useState)(null),v=e=>{if(e.status>=50){let n="".concat(b.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(m.Z,{type:"button",onClick:a,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"octicon:chevron-down-12"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,l.jsx)(p.Z,{id:"basic-menu",anchorEl:n,open:i,onClose:t,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==r?void 0:r.map(e=>(0,l.jsxs)(x.Z,{onClick(){t()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,l.jsxs)("span",{style:{padding:"0 7px"},children:[(0,l.jsx)("span",{children:e.identification})," -"]}):(0,l.jsx)(o.Z,{icon:e.icon}),"report"==e.type?(0,l.jsx)("a",{onClick:()=>v(e),children:e.name}):(0,l.jsx)("p",{onClick:e.modal?()=>{d(!0),j(e)}:e.action,children:e.name})]},e.id))}),u&&(0,l.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var v=i(41664),y=i.n(v),f=i(41088),g=i(82555);let k=e=>{let{btnSend:n,btnSave:i,btnNew:t,btnNext:r,disabled:d,disabledSend:u,disabledSubmit:p,handleSubmit:x,handleSend:h,iconConclusion:b,titleConclusion:j,btnNewModal:v,handleNewModal:k}=e,Z=a(),{isLoading:C}=(0,f.Z)(),{data:w}=(0,g.O)(),{hasPermission:N}=(0,s.useContext)(c.V);return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[t&&N(Z.pathname,"inserir")&&(0,l.jsx)(y(),{href:"".concat(Z.pathname,"/novo"),children:(0,l.jsxs)(m.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),v&&N(Z.pathname,"inserir")&&(0,l.jsxs)(m.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},onClick:k,children:[(0,l.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Novo"})]}),n&&w&&N(Z.pathname,"editar")&&(0,l.jsxs)(m.Z,{onClick:h,type:"button",variant:"contained",size:"medium",color:"primary",readOnly:!0,disabled:d||u,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:null!=b?b:"carbon:send-filled"}),(0,l.jsx)("span",{className:"hidden sm:block",children:j})]}),i&&N(Z.pathname,"editar")&&(0,l.jsxs)(m.Z,{onClick:x,type:"submit",variant:"contained",size:"medium",disabled:d||p,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"mdi:check-bold"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),r&&(0,l.jsxs)(m.Z,{onClick:x,type:"submit",variant:"outlined",size:"medium",color:C?"secondary":"primary",disabled:d||C,children:[(0,l.jsx)(o.Z,{icon:"grommet-icons:form-next-link"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},Z=e=>{let{routes:n,currentUrl:i,btnCancel:t,btnDelete:a,btnStatus:r,btnClose:d,handleModalClose:u,handleBtnStatus:p,status:x,setId:h,router:b,type:j,onclickDelete:v}=e,{hasPermission:y}=(0,s.useContext)(c.V);return(0,l.jsxs)("div",{className:"flex gap-2",children:[t&&!d&&y(i,"ler")&&(0,l.jsx)(m.Z,{onClick(){h(null),"new"==j&&b.push(i)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,l.jsx)(o.Z,{icon:"grommet-icons:form-previous-link"})}),a&&y(i,"excluir")&&(0,l.jsxs)(m.Z,{type:"button",onClick:v,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"material-symbols:delete-outline"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),d&&(0,l.jsx)(m.Z,{type:"button",onClick:u,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,l.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var C=i(66136);let w=e=>{let{btnCancel:n,btnSave:i,btnSend:t,btnNext:m,btnStatus:p,handleSubmit:x,manualUrl:h,btnNew:b,btnClose:v,handleModalClose:y,disabledSubmit:g,handleSend:w,componentSaveReport:N,iconConclusion:z,titleConclusion:S,disabledSend:_,handleBtnStatus:E,onclickDelete:M,btnDelete:O,btnPrint:P,disabledPrint:D,disabled:F,actions:I,actionsData:A,type:L,status:U,partialRoute:V,outsideID:q,btnNewModal:B,handleNewModal:H}=e,T=a(),{routes:X}=(0,s.useContext)(c.V),{setId:Y}=(0,s.useContext)(d.X),[J,R]=(0,s.useState)(!1),[G,K]=(0,s.useState)(null),{isLoading:Q}=(0,f.Z)(),{settings:W}=(0,s.useContext)(C.J6),$=(0,u.Z)("(min-width:640px)"),ee=Boolean(G),en=e=>{K(e.currentTarget)},ei=()=>{K(null)},el="new"===L&&V?(0,r.g_)((0,r.g_)(T.pathname)):"new"===L||V?(0,r.g_)(T.pathname):T.pathname;return Object.keys(T.query).length>0&&(el+="?".concat(new URLSearchParams(T.query).toString())),o.Z,o.Z,o.Z,(0,s.useEffect)(()=>{let e=()=>{R(!1),window.scrollY>0?R(!0):R(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"sticky ".concat(q?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==W.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,l.jsx)(Z,{routes:X,currentUrl:el,btnCancel:n,btnDelete:O,btnStatus:p,btnClose:v,handleModalClose:y,status:U,handleBtnStatus:E,onclickDelete:M,setId:Y,router:T,type:L}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[I&&(0,l.jsx)(j,{anchorEl:G,open:ee,handleClose:ei,handleClick:en,disabled:F,disabledPrint:D,btnPrint:P,actionsData:A,matches:$}),(0,l.jsx)(k,{btnSave:i,btnNew:b,btnSend:t,btnNext:m,manualUrl:h,routes:X,currentUrl:el,handleSubmit:x,disabled:F,disabledSend:_,disabledSubmit:g,handleSend:w,iconConclusion:z,titleConclusion:S,btnNewModal:B,handleNewModal:H})]})]})})})};var N=w},41088:function(e,n,i){var l=i(67294),t=i(83830);let a=()=>{let{isLoading:e,setIsLoading:n}=(0,l.useContext)(t.X),i=()=>{n(!0)},a=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:i,stopLoading:a}};n.Z=a}}]);