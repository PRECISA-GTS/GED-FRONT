"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{72819:function(e,n,t){var i=t(85893),l=t(95398),r=t(19604),a=t(44642),s=t(76779),o=t(54225),c=t(1890),d=t(77745),u=t(67294),p=t(87536);t(29308);var x=t(21609);let m=e=>{let{title:n,description:t,setOpenModal:m,openModal:h,children:j,handleConclusion:b,handleCopyLink:f,handleLink:g,size:v,fullHeight:Z=!1}=e,{control:y,register:k,handleSubmit:C,trigger:$,reset:w,getValues:N,setValue:z,watch:S,formState:{errors:L}}=(0,p.cI)({mode:"onChange",defaultValues:{cnpj:""}}),P=e=>{C(_)(e)},_=e=>{w(),m(!1),b(e)};return(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(c.Z,{open:h,onClose:()=>m(!1),fullWidth:!!v,maxWidth:v||null,children:(0,i.jsxs)("form",{className:"".concat(Z&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,i.jsx)(d.Z,{id:"form-dialog-title",children:n}),t&&(0,i.jsx)(l.Z,{children:(0,i.jsx)(r.Z,{severity:"info",children:t})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{sx:{py:2},children:u.cloneElement(j,{getValues:N,control:y,register:k,setValue:z,errors:L,watch:S,trigger:$,reset:w,onSubmit:_})})}),(0,i.jsxs)(s.Z,{className:"dialog-actions-dense",children:[(0,i.jsx)(o.Z,{variant:"outlined",color:"primary",onClick:()=>m(!1),children:"Fechar"}),b&&(0,i.jsx)(o.Z,{type:"button",variant:"contained",color:"primary",onClick:P,children:"Confirmar"}),g&&(0,i.jsx)(o.Z,{type:"button",variant:"contained",color:"primary",onClick:g,children:"Acessar"}),f&&(0,i.jsx)(o.Z,{variant:"contained",color:"primary",startIcon:(0,i.jsx)(x.Z,{icon:"uil:copy",fontSize:20}),onClick:f,children:"Copiar Link"})]})]})})})};n.Z=m},86887:function(e,n,t){t.d(n,{Z:function(){return w}});var i=t(85893),l=t(11163),r=t.n(l),a=t(67294),s=t(21609),o=t(23197),c=t(40039),d=t(83830);t(7071);var u=t(61225),p=t(54225),x=t(73812),m=t(86378),h=t(72819),j=t(60664);let b=e=>{let{anchorEl:n,open:t,handleClose:l,handleClick:r,actionsData:o}=e,[c,d]=(0,a.useState)(!1),[u,b]=(0,a.useState)(null),f=e=>{if(e.status>=50){let n="".concat(j.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)(p.Z,{type:"button",onClick:r,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"octicon:chevron-down-12"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,i.jsx)(x.Z,{id:"basic-menu",anchorEl:n,open:t,onClose:l,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==o?void 0:o.map(e=>(0,i.jsxs)(m.Z,{onClick(){l()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,i.jsxs)("span",{style:{padding:"0 7px"},children:[(0,i.jsx)("span",{children:e.identification})," -"]}):(0,i.jsx)(s.Z,{icon:e.icon}),"report"==e.type?(0,i.jsx)("a",{onClick:()=>f(e),children:e.name}):(0,i.jsx)("p",{onClick:e.modal?()=>{d(!0),b(e)}:e.action,children:e.name})]},e.id))}),u&&(0,i.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var f=t(41664),g=t.n(f),v=t(41088),Z=t(82555);let y=e=>{let{btnSend:n,btnSave:t,btnNew:l,btnNext:a,manualUrl:o,routes:c,currentUrl:d,disabled:u,disabledSend:x,disabledSubmit:m,handleSubmit:h,handleSend:j,iconConclusion:b,titleConclusion:f}=e,y=r(),{isLoading:k}=(0,v.Z)(),{data:C}=(0,Z.O)();return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[l&&c.find(e=>e.rota===y.pathname&&e.inserir)&&(0,i.jsx)(g(),{href:"".concat(y.pathname,"/novo"),children:(0,i.jsxs)(p.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"ic:outline-plus"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&C&&(0,i.jsxs)(p.Z,{onClick(){j()},type:"button",variant:"contained",size:"medium",color:"primary",disabled:u||x,sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:null!=b?b:"carbon:send-filled"}),(0,i.jsx)("span",{className:"hidden sm:block",children:f})]}),t&&(0,i.jsxs)(p.Z,{onClick:h,type:"submit",variant:"contained",size:"medium",disabled:u||m,sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"mdi:check-bold"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),a&&(0,i.jsxs)(p.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:k?"secondary":"primary",disabled:u||k,children:[(0,i.jsx)(s.Z,{icon:"grommet-icons:form-next-link"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},k=e=>{let{routes:n,currentUrl:t,btnCancel:l,btnDelete:r,btnStatus:a,btnClose:o,handleModalClose:c,handleBtnStatus:d,status:u,setId:x,router:m,type:h,onclickDelete:j}=e;return(0,i.jsxs)("div",{className:"flex gap-2",children:[l&&!o&&n.find(e=>e.rota===t&&e.ler)&&(0,i.jsx)(p.Z,{onClick(){x(null),"new"==h&&m.push(t)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,i.jsx)(s.Z,{icon:"grommet-icons:form-previous-link"})}),r&&n.find(e=>e.rota===t&&e.excluir)&&(0,i.jsxs)(p.Z,{type:"button",onClick:j,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,i.jsx)(s.Z,{icon:"material-symbols:delete-outline"}),(0,i.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),o&&(0,i.jsx)(p.Z,{type:"button",onClick:c,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,i.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var C=t(66136);let $=e=>{let{btnCancel:n,btnSave:t,btnSend:l,btnNext:p,btnStatus:x,handleSubmit:m,manualUrl:h,btnNew:j,btnClose:f,handleModalClose:g,disabledSubmit:Z,handleSend:$,componentSaveReport:w,iconConclusion:N,titleConclusion:z,disabledSend:S,handleBtnStatus:L,onclickDelete:P,btnDelete:_,btnPrint:D,disabledPrint:E,disabled:I,actions:F,actionsData:M,type:A,status:V,partialRoute:B,outsideID:T}=e,H=r(),{routes:O}=(0,a.useContext)(c.V),{setId:U}=(0,a.useContext)(d.X),[W,K]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(null),{isLoading:q}=(0,v.Z)(),{settings:J}=(0,a.useContext)(C.J6),Q=(0,u.Z)("(min-width:640px)"),G=Boolean(X),R=e=>{Y(e.currentTarget)},ee=()=>{Y(null)},en="new"===A&&B?(0,o.g_)((0,o.g_)(H.pathname)):"new"===A||B?(0,o.g_)(H.pathname):H.pathname;return s.Z,s.Z,s.Z,(0,a.useEffect)(()=>{let e=()=>{K(!1),window.scrollY>0?K(!0):K(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"sticky ".concat(T?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==J.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,i.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,i.jsx)(k,{routes:O,currentUrl:en,btnCancel:n,btnDelete:_,btnStatus:x,btnClose:f,handleModalClose:g,status:V,handleBtnStatus:L,onclickDelete:P,setId:U,router:H,type:A}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[F&&(0,i.jsx)(b,{anchorEl:X,open:G,handleClose:ee,handleClick:R,disabled:I,disabledPrint:E,btnPrint:D,actionsData:M,matches:Q}),(0,i.jsx)(y,{btnSave:t,btnNew:j,btnSend:l,btnNext:p,manualUrl:h,routes:O,currentUrl:en,handleSubmit:m,disabled:I,disabledSend:S,disabledSubmit:Z,handleSend:$,iconConclusion:N,titleConclusion:z})]})]})})})};var w=$},53934:function(e,n,t){var i=t(85893),l=t(67294),r=t(17575),a=t(32046),s=t(67074),o=t(21609),c=t(29630);let d=e=>{let{text:n,position:t}=e,d=(0,s.ZP)(e=>{let{className:n,...t}=e;return(0,i.jsx)(r.Z,{...t,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(a.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,i.jsx)(d,{title:(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(c.Z,{color:"inherit",children:n})}),placement:t||"top",children:(0,i.jsx)("p",{children:(0,i.jsx)(o.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=d},29308:function(e,n,t){var i=t(85893),l=t(87536),r=t(79072),a=t(55343),s=t(67836),o=t(9041),c=t(80562),d=t(34175),u=t(21609),p=t(53934);t(30944),t(67294);let x=e=>{let{xs:n,md:t,title:x,name:m,rows:h,value:j,type:b,mask:f,getAddressByCep:g,multiline:v,disabled:Z,required:y,control:k,errors:C,onChange:$,className:w,help:N,clearField:z,helpText:S,helpTextPosition:L,...P}=e;return(0,i.jsx)(r.ZP,{item:!0,xs:n,md:t,sx:{my:1},className:w,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(a.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,i.jsx)(l.Qr,{name:m,control:k,rules:{required:y},render(e){let{field:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{...P,multiline:v,value:null==n?void 0:n.value,label:x,placeholder:x,rows:h,type:null!=b?b:"text",size:"small",disabled:Z,"aria-describedby":"validation-schema-nome",error:C,onChange(e){let t=e.target.value;"cnpj"===f?t=(0,d.PK)(t):"cep"===f?g(t=(0,d.Tc)(t)):"cep2"===f?t=(0,d.Tc)(t):"telefone"===f?t=(0,d.Bk)(t):"estado"===f?t=(0,d.CL)(t):"cpf"===f?t=(0,d.VL)(t):"rg"===f&&(t=(0,d.cH)(t)),n.onChange(t),$&&$(t)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===f?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===f||"cep2"===f?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===f?{maxLength:15}:"cpf"===f?{maxLength:14}:"rg"===f?{maxLength:11}:"estado"===f?{maxLength:2}:{},InputProps:{endAdornment:z&&(0,i.jsx)(o.Z,{position:"end",children:(0,i.jsx)(c.Z,{onClick:z,children:(0,i.jsx)(u.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"}}})})}})}),S&&(0,i.jsx)("div",{className:"absolute ".concat("number"==b?"right-10":"right-4","  top-[12px]"),children:(0,i.jsx)(p.Z,{text:S,position:null!=L?L:"top"})})]})})};n.Z=x},34175:function(e,n,t){function i(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function l(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function r(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function a(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function s(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function o(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}t.d(n,{Bk:function(){return a},CL:function(){return o},PK:function(){return i},Tc:function(){return s},VL:function(){return l},cH:function(){return r}})},41088:function(e,n,t){var i=t(67294),l=t(83830);let r=()=>{let{isLoading:e,setIsLoading:n}=(0,i.useContext)(l.X),t=()=>{n(!0)},r=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:t,stopLoading:r}};n.Z=r}}]);