"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1241],{41241:function(e,t,a){a.d(t,{Z:function(){return G}});var n=a(85893),s=a(11163),o=a.n(s),r=a(67294),i=a(83830),l=a(66136),c=a(60664),d=a(21609),u=a(49837),m=a(91359),x=a(79072),p=a(17575),h=a(80562),f=a(55343),g=a(44731),j=a(59742),Z=a(54225),v=a(87536),y=a(86501),D=a(65698),b=a(71798),C=a(40039),I=a(50287),P=a(29308);let w=e=>{let{index:t,item:a,remove:s,form:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.Z,{xs:12,md:4,required:!0,title:"Forma\xe7\xe3o / Cargo",name:"cargosFuncoes.".concat([t],".formacaoCargo"),form:o,opacity:0===a.status}),(0,n.jsx)(P.Z,{xs:12,md:3,title:"Conselho",name:"cargosFuncoes.".concat([t],".conselho"),form:o,opacity:0===a.status}),(0,n.jsx)(I.Z,{xs:12,md:2,title:"Data",type:"date",required:!0,name:"cargosFuncoes.".concat([t],".data"),value:a.data,typeValidation:"dataPassado",daysValidation:999999,opacity:0===a.status,form:o}),(0,n.jsx)(I.Z,{xs:12,md:2,title:"Data Inativa\xe7\xe3o",name:"cargosFuncoes.".concat([t],".dataInativacao"),type:"date",value:a.dataInativacao,opacity:0===a.status,form:o}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:1,className:"flex items-center",children:(0,n.jsx)(h.Z,{color:"error",size:"small",onClick(){s(a,t)},children:(0,n.jsx)(d.Z,{icon:"tabler:trash-filled"})})})]})};var S=a(29630),F=a(9041),k=a(3893),E=a(82747),N=a(19604),V=a(67836),A=a(16590);let M=e=>{var t,a,s,o,i,l,u,m;let{form:p,data:g,userNewVerifyCPF:j,setUserNewVerifyCPF:v,userExistVerifyCPF:y,setUserExistVerifyCPF:D,resetFields:b,routeVeryfyCNP:C,userExistDefault:w,type:M}=e,[T,z]=(0,r.useState)(null),[O,q]=(0,r.useState)(!1),[U,_]=(0,r.useState)({showPassword:!1,showConfirmPassword:!1}),L=()=>{_({...U,showPassword:!U.showPassword})},W=e=>{e.preventDefault()},R=()=>{_({...U,showConfirmPassword:!U.showConfirmPassword})},J=e=>{e.preventDefault()},Y=()=>{let e=p.getValues("fields").cpf;e&&e.length<14&&(p.setValue("isUsuario",!1),b()),(0,E.sw)(e)?(p.setError("fields.cpf",null),p.watch()):p.setError("fields.cpf",{type:"manual",message:"CPF inv\xe1lido"}),p.watch()},$=async()=>{b();let e=p.getValues("isUsuario");if(!e){let t={cpf:p.getValues("fields").cpf};try{await c.hi.post(C,t),v(!0)}catch(a){409==a.response.status?D(!0):console.log(a)}}},B=()=>{$()};return g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.Z,{md:12,title:"Nome",name:"fields.nome",required:!0,form:p}),(0,n.jsx)(P.Z,{xs:12,md:4,title:"CPF",mask:"cpf",name:"fields.cpf",required:!0,onChange:Y,form:p}),(0,n.jsx)(I.Z,{xs:12,md:4,title:"Data de Nascimento",name:"fields.dataNascimento",type:"date",required:!0,value:null==g?void 0:null===(t=g.fields)||void 0===t?void 0:t.dataNascimento,typeValidation:"dataPassado",form:p}),(0,n.jsx)(P.Z,{xs:12,md:4,title:"Email",type:"email",required:null!=y&&y,name:"fields.email",onChange:Y,form:p}),(0,n.jsx)(P.Z,{xs:12,md:j?2:4,title:"Matricula",name:"fields.matricula",form:p}),(0,n.jsx)(k.Z,{xs:12,md:2,form:p,onClick:B,title:"Usu\xe1rio do sistema",name:"isUsuario",value:g.fields.usuarioID>0,disabled:!(p.getValues("fields").email&&(0,E.sw)(p.getValues("fields").cpf)),helpText:"Preencha com um CPF e email v\xe1lidos para habilitar esta fun\xe7\xe3o"}),y&&(0,n.jsx)(x.ZP,{item:!0,xs:12,children:(0,n.jsx)(N.Z,{severity:"warning",sx:{mt:2},children:(0,n.jsx)(S.Z,{variant:"body2",children:"Esse profissional j\xe1 possui acesso ao sistema. A senha n\xe3o ser\xe1 alterada!"})})}),j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsx)(V.Z,{fullWidth:!0,label:"Senha",id:"input-password",variant:"outlined",size:"small",type:U.showPassword?"text":"password",name:"senha",error:!!(null==p?void 0:null===(a=p.formState)||void 0===a?void 0:a.errors.senha),helperText:(null==p?void 0:null===(s=p.formState)||void 0===s?void 0:s.errors.senha)&&(null==p?void 0:null===(o=p.formState)||void 0===o?void 0:o.errors.senha.message),InputProps:{endAdornment:(0,n.jsx)(F.Z,{position:"end",children:(0,n.jsx)(h.Z,{edge:"end",onClick:L,onMouseDown:W,children:(0,n.jsx)(d.Z,{icon:U.showPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})},...p.register("senha",{minLength:{value:4,message:"Senha deve ter pelo menos 4 caracteres"}})})}),(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:4,children:(0,n.jsx)(V.Z,{fullWidth:!0,label:"Confirme a senha",id:"input-confirm-password",variant:"outlined",size:"small",type:U.showConfirmPassword?"text":"password",name:"confirmaSenha",error:!!(null===(i=p.formState)||void 0===i?void 0:i.errors.confirmaSenha),helperText:(null===(l=p.formState)||void 0===l?void 0:l.errors.confirmaSenha)&&(null===(u=p.formState)||void 0===u?void 0:u.errors.confirmaSenha.message),InputProps:{endAdornment:(0,n.jsx)(F.Z,{position:"end",children:(0,n.jsx)(h.Z,{edge:"end",onClick:R,onMouseDown:J,children:(0,n.jsx)(d.Z,{icon:U.showConfirmPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})},onChange(e){z(e.target.value)},...p.register("confirmaSenha",{validate:e=>e===p.watch("senha")||"As senhas n\xe3o coincidem"})})})]}),(w||j)&&"new"!=M&&(0,n.jsx)(x.ZP,{item:!0,xs:12,sm:2,children:(0,n.jsx)(f.Z,{fullWidth:!0,children:(0,n.jsx)(Z.Z,{variant:"outlined",color:"primary",size:"medium",startIcon:(0,n.jsx)(d.Z,{icon:"uil:padlock"}),onClick:()=>q(!0),children:"Alterar senha"})})}),(0,n.jsx)(A.Z,{openModal:O,handleClose:()=>q(!1),setOpenModalNewPassword:q,usuarioID:null===(m=g.fields)||void 0===m?void 0:m.usuarioID})]})};var T=a(76992),z=a(29618),O=a(47028),q=a(67569);let U=e=>{let{form:t,submenu:a,indexMenuGroup:s,indexMenu:o,indexSubmenu:r}=e;return(0,n.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,n.jsx)(x.ZP,{item:!0,xs:4,md:8,children:(0,n.jsx)(S.Z,{variant:"subtitle1",children:a.nome})}),(0,n.jsx)("input",{type:"hidden",value:a.rota,name:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].rota"),...t.register("menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].rota"))}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].ler"),value:a.ler,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].inserir"),value:a.inserir,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].editar"),value:a.editar,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].excluir"),value:a.excluir,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].submenu[").concat(r,"].edit")})]})},_=e=>{let{form:t,menu:a,indexMenuGroup:s,indexMenu:o,expandedItem:r,handleChangeItem:i}=e;return a.rota?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,n.jsx)(x.ZP,{item:!0,xs:4,md:8,children:(0,n.jsx)(S.Z,{variant:"subtitle1",children:a.nome})}),(0,n.jsx)("input",{type:"hidden",value:a.rota,name:"menu[".concat(s,"].menu[").concat(o,"].rota"),...t.register("menu[".concat(s,"].menu[").concat(o,"].rota"))}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].ler"),value:a.ler,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].inserir"),value:a.inserir,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].editar"),value:a.editar,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].edit")}),(0,n.jsx)(q.Z,{xs:2,md:1,name:"menu[".concat(s,"].menu[").concat(o,"].excluir"),value:a.excluir,form:t,edit:"menu[".concat(s,"].menu[").concat(o,"].edit")})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(T.Z,{expanded:r==="item-".concat(s,"-").concat(o),onChange:i("item-".concat(s,"-").concat(o)),sx:{border:"1px solid #e0e0e0",boxShadow:"none"},children:[(0,n.jsx)(z.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,n.jsx)(d.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(S.Z,{children:a.nome})}),(0,n.jsx)(O.Z,{children:a.submenu&&a.submenu.map((e,a)=>(0,n.jsx)(U,{form:t,submenu:e,indexMenuGroup:s,indexMenu:o,indexSubmenu:a},a))})]})})},L=e=>{let{form:t,menu:a}=e,{settings:s}=(0,r.useContext)(l.J6),[o,i]=(0,r.useState)("panel"),[c,u]=(0,r.useState)(!1),m=e=>(t,a)=>{u(!!a&&e)},p=s.mode;return(0,n.jsxs)(T.Z,{expanded:"panel"===o,onChange(e,t){i(!!t&&"panel")},sx:{border:"".concat("dark"===p?"1px solid #65656E":"1px solid #C5C6CD"),boxShadow:"none"},children:[(0,n.jsx)(z.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,n.jsx)(d.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(S.Z,{children:"Permiss\xf5es de Acesso"})}),(0,n.jsx)(O.Z,{children:a&&a.map((e,a)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x.ZP,{container:!0,spacing:4,sx:{my:2},children:[(0,n.jsx)(x.ZP,{item:!0,xs:4,md:8,children:(0,n.jsx)(S.Z,{variant:"body2",children:e.nome})}),(0,n.jsx)(x.ZP,{item:!0,xs:2,md:1,children:(0,n.jsx)(S.Z,{variant:"body2",sx:{textAlign:"center"},children:"Ler"})}),(0,n.jsx)(x.ZP,{item:!0,xs:2,md:1,children:(0,n.jsx)(S.Z,{variant:"body2",sx:{textAlign:"center"},children:"Inserir"})}),(0,n.jsx)(x.ZP,{item:!0,xs:2,md:1,children:(0,n.jsx)(S.Z,{variant:"body2",sx:{textAlign:"center"},children:"Editar"})}),(0,n.jsx)(x.ZP,{item:!0,xs:2,md:1,children:(0,n.jsx)(S.Z,{variant:"body2",sx:{textAlign:"center"},children:"Excluir"})})]}),e.menu&&e.menu.map((e,s)=>(0,n.jsx)(_,{form:t,menu:e,indexMenuGroup:a,expandedItem:c,handleChangeItem:m,indexMenu:s},s))]}))})]})};var W=a(45061),R=a(60565),J=a(41088),Y=a(84220);let $=e=>{let{form:t,index:a,item:s,remove:o}=e,{loggedUnity:i}=(0,r.useContext)(C.V),[l,u]=(0,r.useState)([]);new Date().toISOString().substring(0,10);let m=async()=>{try{if(!i)return;let e=await c.hi.post("/cadastros/departamento",{unidadeID:i.unidadeID});u(e.data)}catch(t){console.log(t)}};return(0,r.useEffect)(()=>{m()},[]),(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)("input",{type:"hidden",name:"fields.departamentos[".concat(a,"].id"),value:s.id}),(0,n.jsx)(Y.Z,{xs:12,md:7,title:"Departamento",name:"fields.departamentos[".concat(a,"].departamento"),value:null==s?void 0:s.departamento,required:!0,options:null!=l?l:[],form:t,opacity:0===s.status}),(0,n.jsx)(I.Z,{xs:12,md:2,title:"Data In\xedcio",name:"fields.departamentos[".concat(a,"].dataInicio"),value:null==s?void 0:s.dataInicio,required:!0,form:t,opacity:0===s.status}),(0,n.jsx)(I.Z,{xs:12,md:2,title:"Data Fim",name:"fields.departamentos[".concat(a,"].dataFim"),value:null==s?void 0:s.dataFim,form:t,opacity:0===s.status}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:1,className:"flex items-center",children:(0,n.jsx)(h.Z,{color:"error",size:"small",onClick:o,children:(0,n.jsx)(d.Z,{icon:"tabler:trash-filled"})})})]},s.id)},B=e=>{let{id:t}=e,a=(0,r.useRef)(null),[s,I]=(0,r.useState)(!1),{setId:P}=(0,r.useContext)(i.X),{user:S,setUser:F,loggedUnity:k,routes:E}=(0,r.useContext)(C.V),{title:N}=(0,r.useContext)(R.f),[V,A]=(0,r.useState)(null),[T,z]=(0,r.useState)(!1),[O,q]=(0,r.useState)([]),[U,_]=(0,r.useState)(!1),[B,G]=(0,r.useState)(null),{settings:H}=(0,r.useContext)(l.J6),K=H.mode,{startLoading:X,stopLoading:Q}=(0,J.Z)(),[ee,et]=(0,r.useState)(!1),[ea,en]=(0,r.useState)(!1),[es,eo]=(0,r.useState)(!1),er=o(),ei=t&&t>0?"edit":"new",el=er.pathname,ec="edit"==ei?"".concat(el,"/verifyCPF"):"".concat((0,b.g_)(el),"/verifyCPF"),ed=new Date().toISOString().substring(0,10),eu=(0,v.cI)({mode:"onChange"}),em=()=>{en(!1),et(!1),eo(!1)},ex=async e=>{console.log("\uD83D\uDE80 ~ data:",e),X();let a={...e,admin:S.admin,usualioLogado:S.usuarioID,unidadeID:k.unidadeID,fields:{...e.fields,dataNascimento:e.fields.dataNascimento.startsWith("0")?"1"+e.fields.dataNascimento.substring(1,10):e.fields.dataNascimento.substring(0,10),unidadeID:k.unidadeID},cargosFuncoes:e.cargosFuncoes.map(e=>({...e,data:e.data.substring(0,10),dataInativacao:e.dataInativacao?e.dataInativacao.substring(0,10):null})),removedItems:O};if(console.log("\uD83D\uDE80 ~ onSubmit:",a),!ep(a)){y.ZP.error("N\xe3o \xe9 permitido repetir departamento ativo em um profissional!");return}try{if("new"===ei){let n=await c.hi.post("".concat((0,b.g_)(el),"/new/insertData"),a);er.push("".concat((0,b.g_)(el))),P(n.data),y.ZP.success(b.OD.successNew)}else"edit"===ei&&(await c.hi.post("".concat(el,"/updateData/").concat(t),a),y.ZP.success(b.OD.successUpdate));em(),eh()}catch(s){s.response&&409===s.response.status?y.ZP.error(b.OD.errorRepeated):console.log(s)}finally{Q()}},ep=e=>{let t=!0;return e.fields.departamentos&&e.fields.departamentos.length>1&&e.fields.departamentos.map((a,n)=>{e.fields.departamentos.map((e,s)=>{n===s||a.departamento.id!==e.departamento.id||a.dataFim||e.dataFim||(t=!1)})}),t},eh=async()=>{let e="new"===ei?"".concat((0,b.g_)(el),"/new/getData"):"".concat(el,"/getData/").concat(t,"?unidadeID=").concat(k.unidadeID,"&papelID=").concat(k.papelID,"&admin=").concat(S.admin);try{let a=await c.hi.post(e);if(console.log("\uD83D\uDE80 ~ getData:",a.data),eu.reset(a.data),G(a.data.imagem),A(a.data),t===S.profissionalID){let n=a.data.fields.departamentos.filter(e=>1===e.status).map(e=>e.departamento);F({...S,departamentos:n}),localStorage.setItem("userData",JSON.stringify({...S,departamentos:n}))}}catch(s){console.log(s)}},ef=async()=>{try{await c.hi.delete("".concat(el,"/").concat(t,"/").concat(S.usuarioID,"/").concat(k.unidadeID)),P(null),I(!1),y.ZP.success(b.OD.successDelete)}catch(e){e.response&&409===e.response.status?(y.ZP.error(b.OD.pendingDelete),I(!1)):console.log(e)}},eg=()=>{eP({departamento:null,dataInicio:ed,dataFim:"",status:!0})},ej=()=>{eF({conselho:"",data:ed,dataInativacao:"",formacaoCargo:"",status:!0})},eZ=(e,t)=>{if(console.log("\uD83D\uDE80 ~ value:",e),1===eS.length){y.ZP.error("\xc9 necess\xe1rio ter pelo menos um Cargo/Fun\xe7\xe3o!");return}e.profissionalCargoID&&q([...O,e.profissionalCargoID]),ek(t)},ev=async e=>{let a=e.target.files[0];if(a){let n=new FormData;n.append("files[]",a),n.append("type","profissional"),n.append("profissionalID",t),n.append("usuarioID",S.usuarioID),n.append("unidadeID",k.unidadeID),n.append("pathDestination","../".concat(c.T1,"/uploads/").concat(k.unidadeID,"/profissional/"));let s=a.type.includes("image");if(!s){y.ZP.error("O arquivo selecionado n\xe3o \xe9 uma imagem!");return}try{let o=await fetch("".concat(c.E,"upload-files/"),{method:"POST",body:n,mode:"no-cors"});console.log("\uD83D\uDE80 ~ response:",o),eh(),y.ZP.success("Foto atualizada com sucesso!")}catch(r){console.log(r),y.ZP.error("Erro ao atualizar foto de perfil, tente novamente!")}}},ey=async()=>{try{await c.hi.delete("".concat(el,"/photo-profile/").concat(t,"/").concat(k.unidadeID,"/").concat(S.usuarioID)),G(null),y.ZP.success("Foto removida com sucesso!")}catch(e){console.log(e),y.ZP.error("Erro ao remover foto, tente novamente!")}},eD=()=>{a.current.click()},eb=e=>{let t=e.map(e=>({...e,menu:e.menu.map(e=>({...e,edit:!!e.rota}))}));return t},eC=async e=>{let t={usuarioID:e.usuarioID,unidadeID:k.unidadeID,papelID:1};try{let a=await c.hi.post("".concat(el,"/copyPermissions/"),t),n=eb(a.data);eu.setValue("menu",n),A({...V,menu:n}),_(!U),y.ZP.success("Permiss\xf5es copiadas com sucesso!")}catch(s){console.log(s)}};(0,r.useEffect)(()=>{eh(),setTimeout(()=>{eu.trigger()},300)},[t]),(0,r.useEffect)(()=>{V&&V.fields.usuarioID>0&&eo(!0)},[V]);let{fields:eI,append:eP,remove:ew}=(0,v.Dq)({control:eu.control,name:"fields.departamentos"}),{fields:eS,append:eF,remove:ek}=(0,v.Dq)({control:eu.control,name:"cargosFuncoes"});return V&&(0,n.jsxs)("form",{onSubmit:eu.handleSubmit(ex),children:[(0,n.jsx)(D.Z,{btnCancel:!0,btnSave:!0,btnNew:!0,handleSubmit:()=>eu.handleSubmit(ex),btnDelete:"edit"===ei,onclickDelete:()=>I(!0),type:ei}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(u.Z,{children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(x.ZP,{container:!0,spacing:5,children:["edit"==ei&&(0,n.jsx)(x.ZP,{item:!0,xs:12,md:2,children:(0,n.jsxs)(x.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"140px",position:"relative",border:"".concat("dark"===K?"1px solid #65656E":"1px solid #C5C6CD"),borderRadius:"8px"},children:[B&&(0,n.jsx)(p.Z,{title:"Apagar foto do perfil",placement:"top",children:(0,n.jsx)(h.Z,{size:"small",sx:{position:"absolute",top:"8px",right:"8px",zIndex:"20",color:"white",opacity:"0.8",backgroundColor:"#FF4D49","&:hover":{backgroundColor:"#FF4D49",opacity:"1"}},onClick:ey,children:(0,n.jsx)(d.Z,{icon:"material-symbols:delete-outline"})})}),(0,n.jsx)(p.Z,{title:B?"Alterar foto":"Inserir foto",placement:"top",children:(0,n.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:[(0,n.jsx)("input",{type:"file",ref:a,style:{display:"none"},onChange:ev}),(0,n.jsx)(g.Z,{variant:"rounded",alt:"Imagem do cabe\xe7alho do relat\xf3rio",sx:{width:"100%",height:"100%",cursor:"pointer"},onClick:eD,src:null!=B?B:"https://gedagro.com.br/images/report.png"})]})})]})}),(0,n.jsx)(x.ZP,{item:!0,xs:12,md:"edit"==ei?10:12,children:(0,n.jsx)(x.ZP,{container:!0,spacing:5,children:(0,n.jsx)(M,{data:V,userNewVerifyCPF:ea,setUserNewVerifyCPF:en,userExistVerifyCPF:ee,setUserExistVerifyCPF:et,resetFields:em,routeVeryfyCNP:ec,userExistDefault:es,type:ei,form:eu})})})]})})}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(j.Z,{title:"Departamentos"}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)(x.ZP,{container:!0,spacing:5,children:[eI&&eI.map((e,t)=>(0,n.jsx)($,{form:eu,item:e,index:t,remove:()=>ew(t)},e.id)),(0,n.jsx)(x.ZP,{item:!0,xs:12,children:(0,n.jsx)(Z.Z,{variant:"outlined",color:"primary",onClick:eg,startIcon:(0,n.jsx)(d.Z,{icon:"material-symbols:add-circle-outline-rounded"}),children:"Inserir Departamento"})})]})})]}),(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(j.Z,{title:"Cargos e Fun\xe7\xf5es"}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)(x.ZP,{container:!0,spacing:5,children:[eS&&eS.map((e,t)=>(0,n.jsx)(w,{item:e,index:t,remove:()=>eZ(e,t),form:eu},e.id)),(0,n.jsx)(Z.Z,{variant:"outlined",color:"primary",sx:{mt:4,ml:4},startIcon:(0,n.jsx)(d.Z,{icon:"material-symbols:add-circle-outline-rounded"}),onClick:ej,children:"Inserir cargo"})]})})]}),E.find(e=>e.rota===el&&e.ler)&&(ea||es)&&(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(j.Z,{title:"Permiss\xf5es"}),(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(x.ZP,{container:!0,spacing:4,className:"my-3",children:(0,n.jsx)(Y.Z,{xs:12,md:12,title:"Copiar permiss\xf5es do profissional",name:"professional",value:null,options:null==V?void 0:V.professionals,onChange:eC,form:eu})}),(0,n.jsx)(L,{form:eu,menu:V.menu},U)]})]}),(0,n.jsx)(W.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir "+N.title,openModal:s,handleClose:()=>I(!1),handleSubmit:ef,btnCancel:!0,btnConfirm:!0})]})]})};var G=B},45061:function(e,t,a){var n=a(85893),s=a(54225),o=a(1890),r=a(77745),i=a(95398),l=a(76779),c=a(44642);a(21609);var d=a(19604),u=a(29630),m=a(55343),x=a(67836),p=a(67294),h=a(82747);a(84220),a(29308),a(67569),a(3893),a(88475);let f=e=>{let{title:t,text:a,handleClose:f,openModal:g,handleSubmit:j,cnpj:Z,nomeFornecedor:v,gruposAnexo:y,email:D,setEmail:b,inputEmail:C,btnCancel:I,btnConfirm:P,grupoAnexosFornecedor:w,btnCancelColor:S,btnConfirmColor:F,closeAfterSave:k,listErrors:E}=e,[N,V]=(0,p.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.Z,{open:g,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,t){"backdropClick"!==t&&f()},children:[(0,n.jsx)(r.Z,{id:"form-dialog-title",children:t}),(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(c.Z,{sx:{mb:3},children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}),E&&E.status&&(0,n.jsxs)(d.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,n.jsx)(u.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:E.errors.map((e,t)=>(0,n.jsxs)(u.Z,{variant:"body2",color:"error",children:["- ",e]},t))})]})]}),C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m.Z,{sx:{mt:2},fullWidth:!0,children:[(0,n.jsx)(x.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==D?void 0:D.length)>0&&N,inputProps:{onChange(e){b(e.target.value),V(!(0,h.dI)(e.target.value))}}}),(null==D?void 0:D.length)>0&&N&&(0,n.jsx)(u.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,n.jsx)(d.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,n.jsxs)(l.Z,{className:"dialog-actions-dense",children:[I&&(0,n.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:f,children:"Cancelar"}),P&&(0,n.jsx)(s.Z,{variant:"contained",disabled:C&&(null==D?void 0:D.length)>0&&N||E&&E.status,color:F||"error",onClick:C&&Z?()=>{j(Z,v,y,D),k&&f()}:C&&!Z?()=>{j(D),k&&f()}:()=>{j(),k&&f()},children:"Confirmar"})]})]})})};t.Z=f},67569:function(e,t,a){var n=a(85893),s=a(79072),o=a(61953),r=a(29630),i=a(22841),l=a(75158),c=a(53934);let d=e=>{let{form:t,xs:a,md:d,title:u,index:m,name:x,typePage:p,value:h,edit:f,className:g,helpText:j}=e;return(0,n.jsxs)(s.ZP,{item:!0,xs:a,md:d,className:g,children:[(0,n.jsxs)(o.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(r.Z,{variant:"caption",children:m&&0!=m?"":u}),(0,n.jsx)(i.Z,{control:(0,n.jsx)(l.Z,{size:"small",sx:{ml:4},...t.register(x),defaultChecked:!0==h||1==h||"new"==p,onChange(e){f&&t.setValue(f,!0)}})})]}),j&&(0,n.jsx)("div",{children:(0,n.jsx)(c.Z,{text:j,position:"top"})})]})};t.Z=d},3893:function(e,t,a){var n=a(85893),s=a(79072),o=a(61953),r=a(22841),i=a(75158),l=a(53934),c=a(67294);let d=e=>{let{form:t,xs:a,md:d,title:u,name:m,value:x,disabled:p,onClick:h,helpText:f,helpTextPosition:g}=e;return(0,c.useEffect)(()=>{p&&t.setValue(m,x)},[p,x,t,m]),(0,n.jsx)(s.ZP,{item:!0,xs:null!=a?a:"12",md:null!=d?d:"12",children:(0,n.jsx)(o.Z,{display:"flex",alignItems:"center",justifyContent:"start",sx:{gap:0},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{control:(0,n.jsx)(i.Z,{name:m,onClick:h,...t.register(m),defaultChecked:x,disabled:p}),label:u,size:"small",sx:{marginRight:"4px","&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}}),f&&(0,n.jsx)(l.Z,{text:f,position:null!=g?g:"top",className:"relative top-[2px]"})]})})})};t.Z=d},50287:function(e,t,a){var n=a(85893),s=a(79072),o=a(55343),r=a(67836),i=a(62097),l=a(67294),c=a(87536),d=a(71798);let u=e=>{let{form:t,xs:a,md:u,title:m,required:x,disabled:p,type:h,value:f,name:g,multiline:j,typeValidation:Z,alertRequired:v,opacity:y,className:D}=e,b=(0,i.Z)(),[C,I]=(0,l.useState)({}),[P,w]=(0,l.useState)(null),S=Boolean((0,c.U2)(t.formState.errors,g));(0,l.useEffect)(()=>{Z&&f&&F(Z,g,f)},[Z,f,g]);let F=(e,t,a,n)=>{let s=new Date(a+"T00:00:00"),o=(0,d.HD)(e,s,n);I(e=>({...e,[t]:o}))},k=e=>{let t=new Date,a=new Date(e+"T00:00:00");return"dataAtual"===Z&&a.toDateString()!==t.toDateString()?"A data deve ser a data atual":"dataPassado"===Z&&a>=t?"A data deve ser do passado":"dataFutura"===Z&&a<=t?"A data deve ser do futuro":null},E=async e=>{let a=e.target.value,n=k(a);w(n),!n&&(t.setValue(g,a),Z&&F(Z,g,a)),await t.trigger(g)};return(0,n.jsx)(s.ZP,{item:!0,xs:a,md:u,sx:{my:1},children:(0,n.jsx)("div",{className:D,children:(0,n.jsx)(o.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,n.jsx)(r.Z,{type:null!=h?h:"date",size:"small",label:m,disabled:p,defaultValue:f?(e=>{let t=new Date(e+"T00:00:00"),a=t.getUTCDate().toString().padStart(2,"0"),n=(t.getUTCMonth()+1).toString().padStart(2,"0"),s=t.getUTCFullYear();return"".concat(s,"-").concat(n,"-").concat(a)})(f):"",error:S||!!P,helperText:P,onChange:E,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{min:"dataFutura"===Z?new Date().toISOString().split("T")[0]:void 0,max:"dataPassado"===Z?new Date().toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+50)).toISOString().split("T")[0]},sx:{opacity:y?.4:1,"& .MuiInputBase-input":{padding:j?"18px 14px":"10px 14px"},...(x||v)&&(S||!!P)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:b.palette.error.main},"&:hover fieldset":{borderColor:b.palette.error.main},"&.Mui-focused fieldset":{borderColor:b.palette.error.main}},"& .MuiInputLabel-root":{color:b.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:b.palette.error.main}}},...t.register(g,{required:x})})})})})};t.Z=u},88475:function(e,t,a){var n=a(85893),s=a(79072),o=a(61953),r=a(29630),i=a(17575),l=a(80562),c=a(21609);let d=e=>{let{xs:t,md:a,icon:d,color:u,title:m,removeItem:x,item:p,pending:h,index:f,textSuccess:g,textError:j}=e;return g=g||"Remover este item",j=j||"Este item n\xe3o pode ser removido pois possui cadastros vinculados a ele",(0,n.jsx)(s.ZP,{item:!0,xs:t,md:a,children:(0,n.jsxs)(o.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,n.jsx)(r.Z,{variant:"caption",children:m}),(0,n.jsx)(i.Z,{title:1==h?j:g,children:(0,n.jsx)(l.Z,{color:null!=u?u:"error",size:"small",onClick(){1!=h&&x(p,f)},sx:{opacity:1==h?.5:1,cursor:1==h?"default":"pointer"},children:(0,n.jsx)(c.Z,{icon:null!=d?d:"tabler:trash-filled"})})})]})})};t.Z=d},82747:function(e,t,a){function n(e){if(!e||14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=e.length-2,a=e.substring(0,t),n=e.substring(t),s=0,o=t-7;for(let r=t;r>=1;r--)s+=a.charAt(t-r)*o--,o<2&&(o=9);let i=s%11<2?0:11-s%11;if(i!=n.charAt(0))return!1;t+=1,a=e.substring(0,t),s=0,o=t-7;for(let l=t;l>=1;l--)s+=a.charAt(t-l)*o--,o<2&&(o=9);return(i=s%11<2?0:11-s%11)==n.charAt(1)}function s(e){let t;if(!e||11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let a=0;for(let n=1;n<=9;n++)a+=parseInt(e.substring(n-1,n))*(11-n);if((10==(t=10*a%11)||11===t)&&(t=0),t!==parseInt(e.substring(9,10)))return!1;a=0;for(let s=1;s<=10;s++)a+=parseInt(e.substring(s-1,s))*(12-s);return(10==(t=10*a%11)||11===t)&&(t=0),t===parseInt(e.substring(10,11))}function o(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}a.d(t,{dI:function(){return o},sw:function(){return s},zk:function(){return n}})}}]);