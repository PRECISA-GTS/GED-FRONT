"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{72819:function(e,n,t){var r=t(85893),l=t(95398),i=t(19604),a=t(44642),o=t(76779),s=t(54225),c=t(1890),d=t(77745),u=t(67294),p=t(87536);t(29308);var m=t(21609);let x=e=>{let{title:n,description:t,setOpenModal:x,openModal:h,children:f,handleConclusion:j,handleCopyLink:b,handleLink:g,size:v,fullHeight:Z=!1}=e,{control:y,register:C,handleSubmit:k,trigger:$,reset:N,getValues:w,setValue:L,watch:S,clearErrors:z,formState:{errors:P}}=(0,p.cI)({mode:"onChange",defaultValues:{cnpj:""}}),I=e=>{k(M)(e)},M=e=>{N(),x(!1),j(e)};return(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(c.Z,{open:h,onClose:()=>x(!1),fullWidth:!!v,maxWidth:v||null,children:(0,r.jsxs)("form",{className:"".concat(Z&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,r.jsx)(d.Z,{id:"form-dialog-title",children:n}),t&&(0,r.jsx)(l.Z,{children:(0,r.jsx)(i.Z,{severity:"info",children:t})}),(0,r.jsx)(l.Z,{children:(0,r.jsx)(a.Z,{sx:{py:2},children:u.cloneElement(f,{getValues:w,control:y,register:C,setValue:L,errors:P,clearErrors:z,watch:S,trigger:$,reset:N,onSubmit:M})})}),(0,r.jsxs)(o.Z,{className:"dialog-actions-dense m-2",children:[(0,r.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:()=>x(!1),children:"Fechar"}),j&&(0,r.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:I,children:"Confirmar"}),g&&(0,r.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:g,children:"Acessar"}),b&&(0,r.jsx)(s.Z,{variant:"contained",color:"primary",startIcon:(0,r.jsx)(m.Z,{icon:"uil:copy",fontSize:20}),onClick:b,children:"Copiar Link"})]})]})})})};n.Z=x},86887:function(e,n,t){t.d(n,{Z:function(){return N}});var r=t(85893),l=t(11163),i=t.n(l),a=t(67294),o=t(21609),s=t(64165),c=t(40039),d=t(83830);t(7071);var u=t(61225),p=t(54225),m=t(73812),x=t(86378),h=t(72819),f=t(60664);let j=e=>{let{anchorEl:n,open:t,handleClose:l,handleClick:i,actionsData:s}=e,[c,d]=(0,a.useState)(!1),[u,j]=(0,a.useState)(null),b=e=>{if(e.status>=50){let n="".concat(f.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(p.Z,{type:"button",onClick:i,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,r.jsx)(o.Z,{icon:"octicon:chevron-down-12"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,r.jsx)(m.Z,{id:"basic-menu",anchorEl:n,open:t,onClose:l,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==s?void 0:s.map(e=>(0,r.jsxs)(x.Z,{onClick(){l()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,r.jsxs)("span",{style:{padding:"0 7px"},children:[(0,r.jsx)("span",{children:e.identification})," -"]}):(0,r.jsx)(o.Z,{icon:e.icon}),"report"==e.type?(0,r.jsx)("a",{onClick:()=>b(e),children:e.name}):(0,r.jsx)("p",{onClick:e.modal?()=>{d(!0),j(e)}:e.action,children:e.name})]},e.id))}),u&&(0,r.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var b=t(41664),g=t.n(b),v=t(41088),Z=t(82555);let y=e=>{let{btnSend:n,btnSave:t,btnNew:l,btnNext:a,manualUrl:s,routes:c,currentUrl:d,disabled:u,disabledSend:m,disabledSubmit:x,handleSubmit:h,handleSend:f,iconConclusion:j,titleConclusion:b}=e,y=i(),{isLoading:C}=(0,v.Z)(),{data:k}=(0,Z.O)();return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[l&&c.find(e=>e.rota===y.pathname&&e.inserir)&&(0,r.jsx)(g(),{href:"".concat(y.pathname,"/novo"),children:(0,r.jsxs)(p.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,r.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&k&&(0,r.jsxs)(p.Z,{onClick(){f()},type:"button",variant:"contained",size:"medium",color:"primary",disabled:u||m,sx:{display:"flex",gap:2},children:[(0,r.jsx)(o.Z,{icon:null!=j?j:"carbon:send-filled"}),(0,r.jsx)("span",{className:"hidden sm:block",children:b})]}),t&&(0,r.jsxs)(p.Z,{onClick:h,type:"submit",variant:"contained",size:"medium",disabled:u||x,sx:{display:"flex",gap:2},children:[(0,r.jsx)(o.Z,{icon:"mdi:check-bold"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),a&&(0,r.jsxs)(p.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:C?"secondary":"primary",disabled:u||C,children:[(0,r.jsx)(o.Z,{icon:"grommet-icons:form-next-link"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},C=e=>{let{routes:n,currentUrl:t,btnCancel:l,btnDelete:i,btnStatus:a,btnClose:s,handleModalClose:c,handleBtnStatus:d,status:u,setId:m,router:x,type:h,onclickDelete:f}=e;return(0,r.jsxs)("div",{className:"flex gap-2",children:[l&&!s&&n.find(e=>e.rota===t&&e.ler)&&(0,r.jsx)(p.Z,{onClick(){m(null),"new"==h&&x.push(t)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,r.jsx)(o.Z,{icon:"grommet-icons:form-previous-link"})}),i&&n.find(e=>e.rota===t&&e.excluir)&&(0,r.jsxs)(p.Z,{type:"button",onClick:f,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,r.jsx)(o.Z,{icon:"material-symbols:delete-outline"}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),s&&(0,r.jsx)(p.Z,{type:"button",onClick:c,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,r.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var k=t(66136);let $=e=>{let{btnCancel:n,btnSave:t,btnSend:l,btnNext:p,btnStatus:m,handleSubmit:x,manualUrl:h,btnNew:f,btnClose:b,handleModalClose:g,disabledSubmit:Z,handleSend:$,componentSaveReport:N,iconConclusion:w,titleConclusion:L,disabledSend:S,handleBtnStatus:z,onclickDelete:P,btnDelete:I,btnPrint:M,disabledPrint:D,disabled:E,actions:F,actionsData:_,type:B,status:V,partialRoute:A,outsideID:O}=e,T=i(),{routes:H}=(0,a.useContext)(c.V),{setId:U}=(0,a.useContext)(d.X),[R,W]=(0,a.useState)(!1),[K,X]=(0,a.useState)(null),{isLoading:Y}=(0,v.Z)(),{settings:q}=(0,a.useContext)(k.J6),J=(0,u.Z)("(min-width:640px)"),Q=Boolean(K),G=e=>{X(e.currentTarget)},ee=()=>{X(null)},en="new"===B&&A?(0,s.g_)((0,s.g_)(T.pathname)):"new"===B||A?(0,s.g_)(T.pathname):T.pathname;return o.Z,o.Z,o.Z,(0,a.useEffect)(()=>{let e=()=>{W(!1),window.scrollY>0?W(!0):W(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"sticky ".concat(O?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==q.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,r.jsx)(C,{routes:H,currentUrl:en,btnCancel:n,btnDelete:I,btnStatus:m,btnClose:b,handleModalClose:g,status:V,handleBtnStatus:z,onclickDelete:P,setId:U,router:T,type:B}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[F&&(0,r.jsx)(j,{anchorEl:K,open:Q,handleClose:ee,handleClick:G,disabled:E,disabledPrint:D,btnPrint:M,actionsData:_,matches:J}),(0,r.jsx)(y,{btnSave:t,btnNew:f,btnSend:l,btnNext:p,manualUrl:h,routes:H,currentUrl:en,handleSubmit:x,disabled:E,disabledSend:S,disabledSubmit:Z,handleSend:$,iconConclusion:w,titleConclusion:L})]})]})})})};var N=$},53934:function(e,n,t){var r=t(85893),l=t(67294),i=t(17575),a=t(32046),o=t(67074),s=t(21609),c=t(29630);let d=e=>{let{text:n,position:t}=e,d=(0,o.ZP)(e=>{let{className:n,...t}=e;return(0,r.jsx)(i.Z,{...t,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(a.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,r.jsx)(d,{title:(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(c.Z,{color:"inherit",children:n})}),placement:t||"top",children:(0,r.jsx)("p",{children:(0,r.jsx)(s.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=d},29308:function(e,n,t){var r=t(85893),l=t(87536),i=t(79072),a=t(55343),o=t(67836),s=t(9041),c=t(80562),d=t(34175),u=t(62097),p=t(21609),m=t(53934);let x=e=>{let{xs:n,md:t,title:x,name:h,rows:f,value:j,type:b,mask:g,getAddressByCep:v,multiline:Z,disabled:y,required:C,control:k,errors:$,onChange:N,className:w,help:L,clearField:S,helpText:z,helpTextPosition:P,alertRequired:I,...M}=e,D=(0,u.Z)();return"telefone"==g&&console.log("value: ",j,g,(0,d.Bk)(j)),(0,r.jsx)(i.ZP,{item:!0,xs:n,md:t,sx:{my:1},className:w,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,r.jsx)(l.Qr,{name:h,control:k,rules:{required:C},render(e){let{field:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.Z,{...M,multiline:Z,value:null==n?void 0:n.value,label:x,placeholder:x,rows:f,type:null!=b?b:"text",size:"small",disabled:y,"aria-describedby":"validation-schema-nome",error:$,onChange(e){let t=e.target.value;"cnpj"===g?t=(0,d.PK)(t):"cep"===g?v(t=(0,d.Tc)(t)):"cep2"===g?t=(0,d.Tc)(t):"telefone"===g?t=(0,d.Bk)(t):"estado"===g?t=(0,d.CL)(t):"cpf"===g?t=(0,d.VL)(t):"rg"===g?t=(0,d.cH)(t):"currency"===g?t=(0,d.Pu)(t):"fractioned3"===g&&(t=(0,d.Vo)(t)),n.onChange(t),N&&N(t)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===g?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===g||"cep2"===g?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===g?{maxLength:15}:"cpf"===g?{maxLength:14}:"rg"===g?{maxLength:11}:"estado"===g?{maxLength:2}:{},InputProps:{endAdornment:S&&(0,r.jsx)(s.Z,{position:"end",children:(0,r.jsx)(c.Z,{onClick:S,children:(0,r.jsx)(p.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"},...I&&!(null==n?void 0:n.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:D.palette.error.main},"&:hover fieldset":{borderColor:D.palette.error.main},"&.Mui-focused fieldset":{borderColor:D.palette.error.main}},"& .MuiInputLabel-root":{color:D.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:D.palette.error.main}}}})})}})}),z&&(0,r.jsx)("div",{className:"absolute ".concat("number"==b?"right-10":"right-4","  top-[12px]"),children:(0,r.jsx)(m.Z,{text:z,position:null!=P?P:"top"})})]})})};n.Z=x},34175:function(e,n,t){function r(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function l(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function i(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function a(e){return e?e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")"):e}function o(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function s(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}t.d(n,{Bk:function(){return a},CL:function(){return s},PK:function(){return r},Pu:function(){return c},Tc:function(){return o},VL:function(){return l},Vo:function(){return d},cH:function(){return i}});let c=e=>{let n=e.replace(/\D/g,""),t=parseFloat(n);return isNaN(t)?"R$ 0,00":(t/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},d=e=>{let n=e.replace(/\D/g,""),t=parseFloat(n);if(isNaN(t))return"0,000";let r=(t/1e3).toFixed(3),[l,i]=r.split("."),a=l.replace(/\B(?=(\d{3})+(?!\d))/g,".");return"".concat(a,",").concat(i)}},41088:function(e,n,t){var r=t(67294),l=t(83830);let i=()=>{let{isLoading:e,setIsLoading:n}=(0,r.useContext)(l.X),t=()=>{n(!0)},i=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:t,stopLoading:i}};n.Z=i}}]);