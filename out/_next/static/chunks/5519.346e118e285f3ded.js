"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5519],{25519:function(e,n,t){t.d(n,{Z:function(){return _}});var i=t(85893),a=t(11163),r=t.n(a),s=t(67294),o=t(83830),l=t(60664),d=t(21609),c=t(47842),u=t(66136),m=t(7071),x=t(76992),p=t(29618),h=t(29630),v=t(47028),g=t(79072),j=t(67569);let f=e=>{let{submenu:n,indexUnit:t,indexMenuGroup:a,indexMenu:r,indexSubmenu:s,register:o,setValue:l}=e;return(0,i.jsxs)(g.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,i.jsx)(g.ZP,{item:!0,xs:4,md:8,children:(0,i.jsx)(h.Z,{variant:"subtitle1",children:n.nome})}),(0,i.jsx)("input",{type:"hidden",value:n.rota,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].rota"),...o("units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].rota"))}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].ler"),value:n.ler,register:o,setValue:l,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].inserir"),value:n.inserir,register:o,setValue:l,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].editar"),value:n.editar,register:o,setValue:l,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].excluir"),value:n.excluir,register:o,setValue:l,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].submenu[").concat(s,"].edit")})]})},Z=e=>{let{menu:n,indexUnit:t,indexMenuGroup:a,indexMenu:r,expandedItem:s,handleChangeItem:o,register:l,setValue:c}=e;return n.rota?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(g.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,i.jsx)(g.ZP,{item:!0,xs:4,md:8,children:(0,i.jsx)(h.Z,{variant:"subtitle1",children:n.nome})}),(0,i.jsx)("input",{type:"hidden",value:n.rota,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].rota"),...l("units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].rota"))}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].ler"),value:n.ler,register:l,setValue:c,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].inserir"),value:n.inserir,register:l,setValue:c,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].editar"),value:n.editar,register:l,setValue:c,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].edit")}),(0,i.jsx)(j.Z,{xs:2,md:1,name:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].excluir"),value:n.excluir,register:l,setValue:c,edit:"units[".concat(t,"].menu[").concat(a,"].menu[").concat(r,"].edit")})]})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(x.Z,{expanded:s==="item-".concat(t,"-").concat(a,"-").concat(r),onChange:o("item-".concat(t,"-").concat(a,"-").concat(r)),sx:{border:"1px solid #e0e0e0",boxShadow:"none"},children:[(0,i.jsx)(p.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,i.jsx)(d.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(h.Z,{children:n.nome})}),(0,i.jsx)(v.Z,{children:n.submenu&&n.submenu.map((e,n)=>(0,i.jsx)(f,{submenu:e,indexUnit:t,indexMenuGroup:a,indexMenu:r,indexSubmenu:n,register:l,setValue:c},n))})]})})},b=e=>{let{unit:n,indexUnit:t,expanded:a,expandedItem:r,handleChange:o,handleChangeItem:l,control:c,register:m,setValue:j}=e,{settings:f}=(0,s.useContext)(u.J6),b=f.mode;return(0,i.jsxs)(x.Z,{expanded:a==="panel-".concat(t),onChange:o("panel-".concat(t)),sx:{border:"".concat("dark"===b?"1px solid #65656E":"1px solid #C5C6CD"),boxShadow:"none"},children:[(0,i.jsx)(p.Z,{id:"controlled-panel-header-1","aria-controls":"controlled-panel-content-1",expandIcon:(0,i.jsx)(d.Z,{icon:"mdi:chevron-down"}),sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(h.Z,{children:"Permiss\xf5es de Acesso"})}),(0,i.jsx)(v.Z,{children:n.menu&&n.menu.map((e,n)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(g.ZP,{container:!0,spacing:5,sx:{my:2},children:[(0,i.jsx)(g.ZP,{item:!0,xs:4,md:8,children:(0,i.jsx)(h.Z,{variant:"body2",children:e.nome})}),(0,i.jsx)(g.ZP,{item:!0,xs:2,md:1,children:(0,i.jsx)(h.Z,{variant:"body2",sx:{textAlign:"center"},children:"Ler"})}),(0,i.jsx)(g.ZP,{item:!0,xs:2,md:1,children:(0,i.jsx)(h.Z,{variant:"body2",sx:{textAlign:"center"},children:"Inserir"})}),(0,i.jsx)(g.ZP,{item:!0,xs:2,md:1,children:(0,i.jsx)(h.Z,{variant:"body2",sx:{textAlign:"center"},children:"Editar"})}),(0,i.jsx)(g.ZP,{item:!0,xs:2,md:1,children:(0,i.jsx)(h.Z,{variant:"body2",sx:{textAlign:"center"},children:"Excluir"})})]}),e.menu&&e.menu.map((e,a)=>(0,i.jsx)(Z,{menu:e,indexUnit:t,indexMenuGroup:n,expandedItem:r,handleChangeItem:l,indexMenu:a,register:m,setValue:j},a))]}))})]})};var C=t(50287);t(84220);var y=t(49837),I=t(91359),w=t(17575),D=t(80562),S=t(55343),P=t(44731),k=t(54225),F=t(58316),V=t(39063),A=t(9041),E=t(35966),O=t(67836),U=t(87536),M=t(86501),T=t(45061),z=t(71798),N=t(92477),q=t(40039);t(13860),t(57548);var L=t(29308);let R=e=>{var n,t,a,x,p,v,j,f,Z,R,_,W,G,Y,$,B,H,J,K;let{id:X}=e,{setId:Q}=(0,s.useContext)(o.X),{user:ee,setUser:en,loggedUnity:et}=(0,s.useContext)(q.V),{settings:ei}=(0,s.useContext)(u.J6),ea=ei.mode,er=r(),es=X&&X>0?"edit":"new",eo=er.pathname,[el,ed]=(0,s.useState)(!1),[ec,eu]=(0,s.useState)(),[em,ex]=(0,s.useState)(!1),[ep,eh]=(0,s.useState)(!1),[ev,eg]=(0,s.useState)(null),ej=(0,U.cI)({});ec&&ec.units&&ec.units.map((e,n)=>{setValue("units[".concat(n,"].papel"),e.papel),setValue("units[".concat(n,"].cargo"),e.cargos)});let[ef,eZ]=(0,s.useState)({showPassword:!1,showConfirmPassword:!1}),eb=()=>{eZ({...ef,showPassword:!ef.showPassword})},eC=()=>{eZ({...ef,showConfirmPassword:!ef.showConfirmPassword})},[ey,eI]=(0,s.useState)(!1),ew=async e=>{try{"new"===es?await l.h.post("".concat((0,z.g_)(eo),"/new/insertData"),e).then(e=>{er.push("".concat((0,z.g_)(eo))),Q(e.data.id),M.ZP.success(z.OD.successNew)}):"edit"===es&&(e.permissionUserLogged=ee.admin,ey||(delete e.fields.senha,delete e.fields.confirmarSenha),await l.h.post("".concat(eo,"/updateData/").concat(X),e),M.ZP.success(z.OD.successUpdate))}catch(n){n.response&&409===n.response.status?M.ZP.error(z.OD.errorRepeated):console.log(n)}},eD=async()=>{try{await l.h.delete("".concat(eo,"/").concat(X)),Q(null),ed(!1),M.ZP.success(z.OD.successDelete)}catch(e){e.response&&409===e.response.status?(M.ZP.error(z.OD.pendingDelete),ed(!1)):console.log(e)}},eS=()=>{let e=[...ec.units];e.push({unidade:null,papel:null,cargos:[],status:!0}),eu({...ec,units:e})},eP=e=>(n,t)=>{ex(!!t&&e)},ek=e=>(n,t)=>{eh(!!t&&e)},eF=(0,s.useRef)(null),eV=()=>{eF.current.click()},eA=async e=>{let n=e.target.files[0];if(n){let t=new FormData;t.append("file",n);let i=n.type.includes("image");if(!i){M.ZP.error("O arquivo selecionado n\xe3o \xe9 uma imagem!");return}await l.h.post("".concat(eo,"/photo-profile/").concat(X,"/").concat(et.unidadeID),t).then(e=>{console.log("Response ===> ",e),eg(e.data),ee.usuarioID==X&&en({...ee,imagem:e.data}),M.ZP.success("Foto de perfil atualizada com sucesso!")}).catch(e=>{var n,t,i;M.ZP.error(null!==(i=null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)&&void 0!==i?i:"Erro ao atualizar foto de perfil, tente novamente!")})}},eE=async()=>{try{await l.h.delete("".concat(eo,"/photo-profile/").concat(X)),eg(null),ee.usuarioID==X&&en({...ee,imagem:null}),M.ZP.success("Foto de perfil removida com sucesso!")}catch(e){console.log(e),M.ZP.error("Erro ao remover foto de perfil, tente novamente!")}},eO=async()=>{if("edit"==es)try{let e="".concat(eo,"/getData/").concat(X,"?unidadeID=").concat(et.unidadeID,"&papelID=").concat(et.papelID,"&admin=").concat(ee.admin);await l.h.post(e).then(e=>{console.log("\uD83D\uDE80 ~ response:",e.data),eu(e.data),eg(e.data.fields.imagem),ej.reset(e.data)})}catch(n){console.log(n)}else eu({})};return(0,s.useEffect)(()=>{eO()},[X]),(0,i.jsxs)(i.Fragment,{children:[!ec&&(0,i.jsx)(c.Z,{}),ec&&(0,i.jsxs)("form",{onSubmit:ej.handleSubmit(ew),children:[("new"==es||ec)&&(0,i.jsxs)(y.Z,{children:[(0,i.jsx)(N.Z,{btnCancel:!0,btnSave:!0,handleSubmit:()=>ej.handleSubmit(ew),btnDelete:"edit"===es,onclickDelete:()=>ed(!0),type:es}),(0,i.jsxs)(I.Z,{children:[(0,i.jsx)("input",{type:"hidden",value:ee.admin,name:"admin",...register("admin")}),(0,i.jsx)("input",{type:"hidden",value:null==ec?void 0:ec.usuarioUnidadeID,name:"usuarioUnidadeID",...register("usuarioUnidadeID")}),(0,i.jsx)("input",{type:"hidden",value:null==et?void 0:et.unidadeID,name:"unidadeID",...register("unidadeID")}),(0,i.jsx)("input",{type:"hidden",value:null==et?void 0:et.papelID,name:"papelID",...register("papelID")}),(0,i.jsxs)(g.ZP,{container:!0,spacing:5,children:["edit"==es&&(0,i.jsx)(g.ZP,{item:!0,xs:12,md:2,children:(0,i.jsxs)(g.ZP,{item:!0,xs:12,md:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"250px",position:"relative",border:"".concat("dark"===ea?"1px solid #65656E":"1px solid #C5C6CD"),borderRadius:"8px"},children:[ev&&(0,i.jsx)(w.Z,{title:"Apagar foto do perfil",placement:"top",children:(0,i.jsx)(D.Z,{size:"small",sx:{position:"absolute",top:"8px",right:"8px",zIndex:"20",color:"white",opacity:"0.8",backgroundColor:"#FF4D49","&:hover":{backgroundColor:"#FF4D49",opacity:"1"}},onClick:eE,children:(0,i.jsx)(d.Z,{icon:"material-symbols:delete-outline"})})}),(0,i.jsx)(w.Z,{title:ev?"Alterar foto":"Inserir foto",placement:"top",children:(0,i.jsxs)(S.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:[(0,i.jsx)("input",{type:"file",ref:eF,style:{display:"none"},onChange:eA}),(0,i.jsx)(P.Z,{variant:"rounded",alt:"Victor Anderson",sx:{width:"97%",height:"97%",cursor:"pointer"},src:ev,onClick:eV})]})})]})}),(0,i.jsx)(g.ZP,{item:!0,xs:12,md:"edit"===es?10:12,children:(0,i.jsxs)(g.ZP,{container:!0,spacing:5,children:[(0,i.jsx)(L.Z,{xs:12,md:4,title:"Nome",name:"fields.nome",value:null==ec?void 0:null===(n=ec.fields)||void 0===n?void 0:n.nome,required:!0,form:ej}),(0,i.jsx)(C.Z,{xs:12,md:4,title:"Data de Nascimento",value:null==ec?void 0:null===(t=ec.fields)||void 0===t?void 0:t.dataNascimento,name:"fields.dataNascimento",form:ej}),(0,i.jsx)(L.Z,{xs:12,md:4,title:"E-mail",name:"fields.email",value:null==ec?void 0:null===(a=ec.fields)||void 0===a?void 0:a.email,required:!0,form:ej}),(0,i.jsx)(L.Z,{xs:12,md:4,title:"CPF",name:"fields.cpf",mask:"cpf",value:null==ec?void 0:null===(x=ec.fields)||void 0===x?void 0:x.cpf,required:!0,form:ej}),(0,i.jsx)(L.Z,{xs:12,md:4,title:"RG",name:"fields.rg",value:null==ec?void 0:null===(p=ec.fields)||void 0===p?void 0:p.rg,form:ej}),(0,i.jsx)(L.Z,{xs:12,md:4,title:"Registro Conselho Classe",name:"fields.registroConselhoClasse",value:null==ec?void 0:null===(v=ec.fields)||void 0===v?void 0:v.registroConselhoClasse,form:ej}),ec&&0==ee.admin&&(0,i.jsx)(i.Fragment,{}),ec&&"edit"==es&&(0,i.jsx)(g.ZP,{item:!0,xs:12,md:4,children:(0,i.jsx)(S.Z,{fullWidth:!0,children:(0,i.jsx)(k.Z,{variant:"outlined",startIcon:(0,i.jsx)(d.Z,{icon:"mdi:lock-reset"}),onClick(){eI(!ey),ey&&(setValue("senha",null),setValue("confirmarSenha",null))},sx:{height:"56px"},children:"Alterar Senha"})})}),("new"==es||ey)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(S.Z,{fullWidth:!0,children:[(0,i.jsx)(F.Z,{htmlFor:"input-confirm-password",children:"Senha"}),(0,i.jsx)(V.Z,{label:"Senha",id:"input-password",type:ef.showPassword?"text":"password",name:"fields.senha",...register("fields.senha",{required:"new"==es}),error:null===(j=ej.formState)||void 0===j?void 0:null===(f=j.errors)||void 0===f?void 0:null===(Z=f.fields)||void 0===Z?void 0:Z.senha,endAdornment:(0,i.jsx)(A.Z,{position:"end",children:(0,i.jsx)(D.Z,{edge:"end",onClick:eb,children:(0,i.jsx)(d.Z,{icon:ef.showPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})})]})}),(0,i.jsx)(g.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(S.Z,{fullWidth:!0,children:[(0,i.jsx)(F.Z,{htmlFor:"input-confirm-password",color:(null===(_=null===(R=ej.formState)||void 0===R?void 0:R.errors.confirmarSenha)||void 0===_?void 0:_.message)?"error":"",children:"Confirmar Senha"}),(0,i.jsx)(V.Z,{label:"Confirmar Senha",id:"input-password",type:ef.showConfirmPassword?"text":"password",name:"fields.confirmarSenha",...register("fields.confirmarSenha",{required:"new"==es,validate:e=>e===watch("fields.senha")||"As senhas n\xe3o conferem."}),error:null===(W=ej.formState)||void 0===W?void 0:W.errors.confirmarSenha,endAdornment:(0,i.jsx)(A.Z,{position:"end",children:(0,i.jsx)(D.Z,{edge:"end",onClick:eC,children:(0,i.jsx)(d.Z,{icon:ef.showConfirmPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})})}),(null===(Y=null===(G=ej.formState)||void 0===G?void 0:G.errors.confirmarSenha)||void 0===Y?void 0:Y.message)&&(0,i.jsx)(h.Z,{variant:"body2",color:"error",children:null===(B=null===($=ej.formState)||void 0===$?void 0:$.errors.confirmarSenha)||void 0===B?void 0:B.message})]})})]})]})})]})]})]}),ec&&1==ee.admin&&"edit"===es&&(0,i.jsxs)(i.Fragment,{children:[ec.units&&ec.units.map((e,n)=>{var t,a;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"hidden",value:e.usuarioUnidadeID,name:"units[".concat(n,"].usuarioUnidadeID"),...register("units[".concat(n,"].usuarioUnidadeID"))}),(0,i.jsxs)(y.Z,{sx:{mt:4},children:[(0,i.jsxs)(I.Z,{children:[(0,i.jsxs)(h.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[e.unidade?e.unidade.nome:"Nova Unidade",(null===(t=e.unidade)||void 0===t?void 0:t.id)===et.unidadeID&&(null===(a=e.papel)||void 0===a?void 0:a.id)===et.papelID&&(0,i.jsx)(m.Z,{size:"small",skin:"light",color:"success",label:"Atual",sx:{mx:2,"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,i.jsxs)(g.ZP,{container:!0,spacing:5,sx:{my:2},children:[e.unidadeID?(0,i.jsx)("input",{type:"hidden",value:e.unidadeID,name:"units[".concat(n,"].unidadeID"),...register("units[".concat(n,"].unidadeID"))}):(0,i.jsx)(g.ZP,{item:!0,xs:12,md:3,children:(0,i.jsx)(E.Z,{options:ec.unidadesOptions,getOptionLabel:e=>e.nome,defaultValue:null!==(H=null==e?void 0:e.unidade)&&void 0!==H?H:null,name:"units[".concat(n,"].unidade"),...register("units[".concat(n,"].unidade"),{required:!1}),onChange(e,t){let i=t?{id:null==t?void 0:t.unidadeID,nome:null==t?void 0:t.nome}:null;setValue("units[".concat(n,"].unidade"),i)},renderInput(e){var t,a,r;return(0,i.jsx)(O.Z,{...e,label:"Selecione a unidade",placeholder:"Selecionar unidade","aria-describedby":"formulario-error",error:null===(a=null===(t=ej.formState)||void 0===t?void 0:t.errors.units)||void 0===a?void 0:null===(r=a[n])||void 0===r?void 0:r.unidade})}})}),(0,i.jsx)(g.ZP,{item:!0,xs:12,md:3,children:(0,i.jsx)(E.Z,{options:ec.papelOptions,getOptionLabel:e=>e.nome,defaultValue:null!==(J=e.papel)&&void 0!==J?J:null,name:"units[".concat(n,"].papel"),...register("units[".concat(n,"].papel"),{required:!1}),onChange(e,t){let i=t?{id:null==t?void 0:t.id,nome:null==t?void 0:t.nome,edit:!0}:null;setValue("units[".concat(n,"].papel"),i)},renderInput(e){var t,a,r;return(0,i.jsx)(O.Z,{...e,label:"Selecione o papel",placeholder:"Selecione o papel","aria-describedby":"formulario-error",error:null===(a=null===(t=ej.formState)||void 0===t?void 0:t.errors.units)||void 0===a?void 0:null===(r=a[n])||void 0===r?void 0:r.papel})}})}),(0,i.jsx)(g.ZP,{item:!0,xs:12,md:e.unidadeID?6:3,children:(0,i.jsx)(E.Z,{multiple:!0,limitTags:2,options:ec.cargosOptions,getOptionLabel:e=>e.nome||"",defaultValue:null!==(K=e.cargos)&&void 0!==K?K:[],name:"units[".concat(n,"].cargo[]"),...register("units[".concat(n,"].cargo"),{required:!1}),onChange(e,t){let i=t?t.map(e=>({id:null==e?void 0:e.id,nome:null==e?void 0:e.nome,edit:!0})):[];setValue("units[".concat(n,"].cargo"),i)},renderInput(e){var t,a,r;return(0,i.jsx)(O.Z,{...e,label:"Cargos",placeholder:"Cargos",error:null===(a=null===(t=ej.formState)||void 0===t?void 0:t.errors.units)||void 0===a?void 0:null===(r=a[n])||void 0===r?void 0:r.cargo})}})})]}),(0,i.jsx)(b,{unit:e,indexUnit:n,expanded:em,expandedItem:ep,handleChange:eP,handleChangeItem:ek,control:ej.control,register:ej.register,setValue:ej.setValue})]}),(0,i.jsx)(I.Z,{})]})]})}),(0,i.jsx)(g.ZP,{container:!0,spacing:5,sx:{my:2},children:(0,i.jsx)(g.ZP,{item:!0,xs:12,md:3,children:(0,i.jsx)(k.Z,{startIcon:(0,i.jsx)(d.Z,{icon:"material-symbols:add-circle-outline-rounded"}),variant:"outlined",onClick(){eS()},children:"Inserir unidade"})})})]})]}),(0,i.jsx)(T.Z,{text:"Tem certeza que deseja excluir?",title:"Excluir dado",openModal:el,handleClose:()=>ed(!1),handleSubmit:eD,btnCancel:!0,btnConfirm:!0})]})};var _=R},45061:function(e,n,t){var i=t(85893),a=t(54225),r=t(1890),s=t(77745),o=t(95398),l=t(76779),d=t(44642);t(21609);var c=t(19604),u=t(29630),m=t(55343),x=t(67836),p=t(67294),h=t(82747);t(84220),t(29308),t(67569),t(3893),t(88475);let v=e=>{let{title:n,text:t,handleClose:v,openModal:g,handleSubmit:j,cnpj:f,nomeFornecedor:Z,gruposAnexo:b,email:C,setEmail:y,inputEmail:I,btnCancel:w,btnConfirm:D,grupoAnexosFornecedor:S,btnCancelColor:P,btnConfirmColor:k,closeAfterSave:F,listErrors:V}=e,[A,E]=(0,p.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{open:g,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,n){"backdropClick"!==n&&v()},children:[(0,i.jsx)(s.Z,{id:"form-dialog-title",children:n}),(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(d.Z,{sx:{mb:3},children:[(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),V&&V.status&&(0,i.jsxs)(c.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,i.jsx)(u.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:V.errors.map((e,n)=>(0,i.jsxs)(u.Z,{variant:"body2",color:"error",children:["- ",e]},n))})]})]}),I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.Z,{sx:{mt:2},fullWidth:!0,children:[(0,i.jsx)(x.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==C?void 0:C.length)>0&&A,inputProps:{onChange(e){y(e.target.value),E(!(0,h.dI)(e.target.value))}}}),(null==C?void 0:C.length)>0&&A&&(0,i.jsx)(u.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,i.jsx)(c.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,i.jsxs)(l.Z,{className:"dialog-actions-dense",children:[w&&(0,i.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:v,children:"Cancelar"}),D&&(0,i.jsx)(a.Z,{variant:"contained",disabled:I&&(null==C?void 0:C.length)>0&&A||V&&V.status,color:k||"error",onClick:I&&f?()=>{j(f,Z,b,C),F&&v()}:I&&!f?()=>{j(C),F&&v()}:()=>{j(),F&&v()},children:"Confirmar"})]})]})})};n.Z=v},67569:function(e,n,t){var i=t(85893),a=t(79072),r=t(61953),s=t(29630),o=t(22841),l=t(75158),d=t(53934);let c=e=>{let{form:n,xs:t,md:c,title:u,index:m,name:x,typePage:p,value:h,edit:v,className:g,helpText:j}=e;return(0,i.jsxs)(a.ZP,{item:!0,xs:t,md:c,className:g,children:[(0,i.jsxs)(r.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(s.Z,{variant:"caption",children:m&&0!=m?"":u}),(0,i.jsx)(o.Z,{control:(0,i.jsx)(l.Z,{size:"small",sx:{ml:4},...n.register(x),defaultChecked:!0==h||1==h||"new"==p,onChange(e){v&&n.setValue(v,!0)}})})]}),j&&(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{text:j,position:"top"})})]})};n.Z=c},3893:function(e,n,t){var i=t(85893),a=t(79072),r=t(61953),s=t(22841),o=t(75158),l=t(53934);let d=e=>{let{form:n,xs:t,md:d,title:c,name:u,value:m,disabled:x,onClick:p,helpText:h,helpTextPosition:v}=e;return(0,i.jsx)(a.ZP,{item:!0,xs:null!=t?t:"12",md:null!=d?d:"12",children:(0,i.jsx)(r.Z,{display:"flex",alignItems:"center",justifyContent:"start",sx:{gap:0},children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{control:(0,i.jsx)(o.Z,{name:u,onClick:p,...n.register(u),defaultChecked:m,disabled:x}),label:c,size:"small",sx:{marginRight:"4px","&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}}),h&&(0,i.jsx)(l.Z,{text:h,position:null!=v?v:"top",className:"relative top-[2px]"})]})})})};n.Z=d},50287:function(e,n,t){var i=t(85893),a=t(79072),r=t(55343),s=t(67836),o=t(62097),l=t(67294),d=t(87536),c=t(71798);let u=e=>{let{form:n,xs:t,md:u,title:m,required:x,disabled:p,type:h,value:v,name:g,typeValidation:j,alertRequired:f,opacity:Z,className:b}=e,C=(0,o.Z)(),[y,I]=(0,l.useState)({}),[w,D]=(0,l.useState)(null),S=Boolean((0,d.U2)(n.formState.errors,g));(0,l.useEffect)(()=>{j&&v&&P(j,g,v)},[j,v,g]);let P=(e,n,t,i)=>{let a=new Date(t+"T00:00:00"),r=(0,c.HD)(e,a,i);I(e=>({...e,[n]:r}))},k=e=>{let n=new Date,t=new Date(e+"T00:00:00");return"dataAtual"===j&&t.toDateString()!==n.toDateString()?"A data deve ser a data atual":"dataPassado"===j&&t>=n?"A data deve ser do passado":"dataFutura"===j&&t<=n?"A data deve ser do futuro":null},F=async e=>{let t=e.target.value,i=k(t);D(i),!i&&(n.setValue(g,t),j&&P(j,g,t)),await n.trigger(g)};return(0,i.jsx)(a.ZP,{item:!0,xs:t,md:u,sx:{my:1},children:(0,i.jsx)("div",{className:b,children:(0,i.jsx)(r.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,i.jsx)(s.Z,{type:null!=h?h:"date",size:"small",label:m,disabled:p,defaultValue:v?(e=>{let n=new Date(e+"T00:00:00"),t=n.getUTCDate().toString().padStart(2,"0"),i=(n.getUTCMonth()+1).toString().padStart(2,"0"),a=n.getUTCFullYear();return"".concat(a,"-").concat(i,"-").concat(t)})(v):"",error:S||!!w,helperText:w,onChange:F,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{min:"dataFutura"===j?new Date().toISOString().split("T")[0]:void 0,max:"dataPassado"===j?new Date().toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+50)).toISOString().split("T")[0]},sx:{opacity:Z?.4:1,"& .MuiInputBase-input":{padding:"10px 14px"},...(x||f)&&(S||!!w)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:C.palette.error.main},"&:hover fieldset":{borderColor:C.palette.error.main},"&.Mui-focused fieldset":{borderColor:C.palette.error.main}},"& .MuiInputLabel-root":{color:C.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:C.palette.error.main}}},...n.register(g,{required:x})})})})})};n.Z=u},88475:function(e,n,t){var i=t(85893),a=t(79072),r=t(61953),s=t(29630),o=t(17575),l=t(80562),d=t(21609);let c=e=>{let{xs:n,md:t,icon:c,color:u,title:m,removeItem:x,item:p,pending:h,index:v,textSuccess:g,textError:j}=e;return g=g||"Remover este item",j=j||"Este item n\xe3o pode ser removido pois possui cadastros vinculados a ele",(0,i.jsx)(a.ZP,{item:!0,xs:n,md:t,children:(0,i.jsxs)(r.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(s.Z,{variant:"caption",children:m}),(0,i.jsx)(o.Z,{title:1==h?j:g,children:(0,i.jsx)(l.Z,{color:null!=u?u:"error",size:"small",onClick(){1!=h&&x(p,v)},sx:{opacity:1==h?.5:1,cursor:1==h?"default":"pointer"},children:(0,i.jsx)(d.Z,{icon:null!=c?c:"tabler:trash-filled"})})})]})})};n.Z=c},82747:function(e,n,t){function i(e){if(!e||14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,t=e.substring(0,n),i=e.substring(n),a=0,r=n-7;for(let s=n;s>=1;s--)a+=t.charAt(n-s)*r--,r<2&&(r=9);let o=a%11<2?0:11-a%11;if(o!=i.charAt(0))return!1;n+=1,t=e.substring(0,n),a=0,r=n-7;for(let l=n;l>=1;l--)a+=t.charAt(n-l)*r--,r<2&&(r=9);return(o=a%11<2?0:11-a%11)==i.charAt(1)}function a(e){let n;if(!e||11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let i=1;i<=9;i++)t+=parseInt(e.substring(i-1,i))*(11-i);if((10==(n=10*t%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;t=0;for(let a=1;a<=10;a++)t+=parseInt(e.substring(a-1,a))*(12-a);return(10==(n=10*t%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function r(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(n,{dI:function(){return r},sw:function(){return a},zk:function(){return i}})}}]);