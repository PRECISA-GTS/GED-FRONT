"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6887],{72819:function(e,n,t){var l=t(85893),r=t(95398),i=t(19604),a=t(44642),o=t(76779),s=t(54225),c=t(1890),d=t(77745),u=t(67294),p=t(87536);t(29308);var m=t(21609);let x=e=>{let{title:n,description:t,setOpenModal:x,openModal:h,children:j,handleConclusion:b,handleCopyLink:f,handleLink:g,size:v,fullHeight:Z=!1}=e,{control:y,register:C,handleSubmit:k,trigger:$,reset:w,getValues:N,setValue:z,watch:L,formState:{errors:S}}=(0,p.cI)({mode:"onChange",defaultValues:{cnpj:""}}),I=e=>{k(M)(e)},M=e=>{w(),x(!1),b(e)};return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(c.Z,{open:h,onClose:()=>x(!1),fullWidth:!!v,maxWidth:v||null,children:(0,l.jsxs)("form",{className:"".concat(Z&&"grid grid-rows-[60px_auto_auto] min-h-[calc(100vh-120px)]"),children:[(0,l.jsx)(d.Z,{id:"form-dialog-title",children:n}),t&&(0,l.jsx)(r.Z,{children:(0,l.jsx)(i.Z,{severity:"info",children:t})}),(0,l.jsx)(r.Z,{children:(0,l.jsx)(a.Z,{sx:{py:2},children:u.cloneElement(j,{getValues:N,control:y,register:C,setValue:z,errors:S,watch:L,trigger:$,reset:w,onSubmit:M})})}),(0,l.jsxs)(o.Z,{className:"dialog-actions-dense",children:[(0,l.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:()=>x(!1),children:"Fechar"}),b&&(0,l.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:I,children:"Confirmar"}),g&&(0,l.jsx)(s.Z,{type:"button",variant:"contained",color:"primary",onClick:g,children:"Acessar"}),f&&(0,l.jsx)(s.Z,{variant:"contained",color:"primary",startIcon:(0,l.jsx)(m.Z,{icon:"uil:copy",fontSize:20}),onClick:f,children:"Copiar Link"})]})]})})})};n.Z=x},86887:function(e,n,t){t.d(n,{Z:function(){return w}});var l=t(85893),r=t(11163),i=t.n(r),a=t(67294),o=t(21609),s=t(23197),c=t(40039),d=t(83830);t(7071);var u=t(61225),p=t(54225),m=t(73812),x=t(86378),h=t(72819),j=t(60664);let b=e=>{let{anchorEl:n,open:t,handleClose:r,handleClick:i,actionsData:s}=e,[c,d]=(0,a.useState)(!1),[u,b]=(0,a.useState)(null),f=e=>{if(e.status>=50){let n="".concat(j.Y,"uploads/").concat(e.unidadeID,"/").concat(e.module,"/relatorio/original/").concat(e.usuarioID,"-").concat(e.id,"-").concat(e.module,".pdf");window.open(n,"_blank")}else window.open("/relatorio/".concat(e.route),"_blank")};return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(p.Z,{type:"button",onClick:i,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"octicon:chevron-down-12"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"A\xe7\xf5es"})]}),(0,l.jsx)(m.Z,{id:"basic-menu",anchorEl:n,open:t,onClose:r,MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==s?void 0:s.map(e=>(0,l.jsxs)(x.Z,{onClick(){r()},disabled:!!e.disabled,style:{textAlign:"left",display:"flex",alignItems:"center",gap:"4px"},children:[e.identification?(0,l.jsxs)("span",{style:{padding:"0 7px"},children:[(0,l.jsx)("span",{children:e.identification})," -"]}):(0,l.jsx)(o.Z,{icon:e.icon}),"report"==e.type?(0,l.jsx)("a",{onClick:()=>f(e),children:e.name}):(0,l.jsx)("p",{onClick:e.modal?()=>{d(!0),b(e)}:e.action,children:e.name})]},e.id))}),u&&(0,l.jsx)(h.Z,{title:u.name,handleConclusion:u.action,size:u.size,setOpenModal:d,openModal:c,fullHeight:u.fullHeight,children:u.component})]})};var f=t(41664),g=t.n(f),v=t(41088),Z=t(82555);let y=e=>{let{btnSend:n,btnSave:t,btnNew:r,btnNext:a,manualUrl:s,routes:c,currentUrl:d,disabled:u,disabledSend:m,disabledSubmit:x,handleSubmit:h,handleSend:j,iconConclusion:b,titleConclusion:f}=e,y=i(),{isLoading:C}=(0,v.Z)(),{data:k}=(0,Z.O)();return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[r&&c.find(e=>e.rota===y.pathname&&e.inserir)&&(0,l.jsx)(g(),{href:"".concat(y.pathname,"/novo"),children:(0,l.jsxs)(p.Z,{type:"button",variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"ic:outline-plus"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Novo"})]})}),n&&k&&(0,l.jsxs)(p.Z,{onClick(){j()},type:"button",variant:"contained",size:"medium",color:"primary",disabled:u||m,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:null!=b?b:"carbon:send-filled"}),(0,l.jsx)("span",{className:"hidden sm:block",children:f})]}),t&&(0,l.jsxs)(p.Z,{onClick:h,type:"submit",variant:"contained",size:"medium",disabled:u||x,sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"mdi:check-bold"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Salvar"})]}),a&&(0,l.jsxs)(p.Z,{onClick:h,type:"submit",variant:"outlined",size:"medium",color:C?"secondary":"primary",disabled:u||C,children:[(0,l.jsx)(o.Z,{icon:"grommet-icons:form-next-link"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Avan\xe7ar"})]})]})},C=e=>{let{routes:n,currentUrl:t,btnCancel:r,btnDelete:i,btnStatus:a,btnClose:s,handleModalClose:c,handleBtnStatus:d,status:u,setId:m,router:x,type:h,onclickDelete:j}=e;return(0,l.jsxs)("div",{className:"flex gap-2",children:[r&&!s&&n.find(e=>e.rota===t&&e.ler)&&(0,l.jsx)(p.Z,{onClick(){m(null),"new"==h&&x.push(t)},type:"button",variant:"outlined",color:"primary",size:"medium",children:(0,l.jsx)(o.Z,{icon:"grommet-icons:form-previous-link"})}),i&&n.find(e=>e.rota===t&&e.excluir)&&(0,l.jsxs)(p.Z,{type:"button",onClick:j,variant:"outlined",color:"error",size:"medium",sx:{display:"flex",gap:2},children:[(0,l.jsx)(o.Z,{icon:"material-symbols:delete-outline"}),(0,l.jsx)("span",{className:"hidden sm:block",children:"Excluir"})]}),s&&(0,l.jsx)(p.Z,{type:"button",onClick:c,variant:"outlined",color:"primary",size:"medium",sx:{display:"flex",gap:2},children:(0,l.jsx)("span",{className:"hidden sm:block",children:"Fechar"})})]})};var k=t(66136);let $=e=>{let{btnCancel:n,btnSave:t,btnSend:r,btnNext:p,btnStatus:m,handleSubmit:x,manualUrl:h,btnNew:j,btnClose:f,handleModalClose:g,disabledSubmit:Z,handleSend:$,componentSaveReport:w,iconConclusion:N,titleConclusion:z,disabledSend:L,handleBtnStatus:S,onclickDelete:I,btnDelete:M,btnPrint:P,disabledPrint:_,disabled:D,actions:E,actionsData:F,type:A,status:B,partialRoute:V,outsideID:O}=e,T=i(),{routes:H}=(0,a.useContext)(c.V),{setId:U}=(0,a.useContext)(d.X),[W,K]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(null),{isLoading:q}=(0,v.Z)(),{settings:J}=(0,a.useContext)(k.J6),Q=(0,u.Z)("(min-width:640px)"),G=Boolean(X),R=e=>{Y(e.currentTarget)},ee=()=>{Y(null)},en="new"===A&&V?(0,s.g_)((0,s.g_)(T.pathname)):"new"===A||V?(0,s.g_)(T.pathname):T.pathname;return o.Z,o.Z,o.Z,(0,a.useEffect)(()=>{let e=()=>{K(!1),window.scrollY>0?K(!0):K(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"sticky ".concat(O?"-top-[4.5rem] px-4 bg-transparent":"top-[4.5rem]","  pb-2 mb-2 z-50 ").concat("dark"==J.mode?"bg-[#161c24]":"bg-[#F7F7F9]"),children:(0,l.jsxs)("div",{className:"flex items-center justify-between w-full ",style:{zIndex:1e3},children:[(0,l.jsx)(C,{routes:H,currentUrl:en,btnCancel:n,btnDelete:M,btnStatus:m,btnClose:f,handleModalClose:g,status:B,handleBtnStatus:S,onclickDelete:I,setId:U,router:T,type:A}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[E&&(0,l.jsx)(b,{anchorEl:X,open:G,handleClose:ee,handleClick:R,disabled:D,disabledPrint:_,btnPrint:P,actionsData:F,matches:Q}),(0,l.jsx)(y,{btnSave:t,btnNew:j,btnSend:r,btnNext:p,manualUrl:h,routes:H,currentUrl:en,handleSubmit:x,disabled:D,disabledSend:L,disabledSubmit:Z,handleSend:$,iconConclusion:N,titleConclusion:z})]})]})})})};var w=$},53934:function(e,n,t){var l=t(85893),r=t(67294),i=t(17575),a=t(32046),o=t(67074),s=t(21609),c=t(29630);let d=e=>{let{text:n,position:t}=e,d=(0,o.ZP)(e=>{let{className:n,...t}=e;return(0,l.jsx)(i.Z,{...t,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(a.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,l.jsx)(d,{title:(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(c.Z,{color:"inherit",children:n})}),placement:t||"top",children:(0,l.jsx)("p",{children:(0,l.jsx)(s.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=d},29308:function(e,n,t){var l=t(85893),r=t(87536),i=t(79072),a=t(55343),o=t(67836),s=t(9041),c=t(80562),d=t(34175),u=t(62097),p=t(21609),m=t(53934);let x=e=>{let{xs:n,md:t,title:x,name:h,rows:j,value:b,type:f,mask:g,getAddressByCep:v,multiline:Z,disabled:y,required:C,control:k,errors:$,onChange:w,className:N,help:z,clearField:L,helpText:S,helpTextPosition:I,alertRequired:M,...P}=e,_=(0,u.Z)();return"telefone"==g&&console.log("value: ",b,g,(0,d.Bk)(b)),(0,l.jsx)(i.ZP,{item:!0,xs:n,md:t,sx:{my:1},className:N,children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(a.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,l.jsx)(r.Qr,{name:h,control:k,rules:{required:C},render(e){let{field:n}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.Z,{...P,multiline:Z,value:null==n?void 0:n.value,label:x,placeholder:x,rows:j,type:null!=f?f:"text",size:"small",disabled:y,"aria-describedby":"validation-schema-nome",error:$,onChange(e){let t=e.target.value;"cnpj"===g?t=(0,d.PK)(t):"cep"===g?v(t=(0,d.Tc)(t)):"cep2"===g?t=(0,d.Tc)(t):"telefone"===g?t=(0,d.Bk)(t):"estado"===g?t=(0,d.CL)(t):"cpf"===g?t=(0,d.VL)(t):"rg"===g&&(t=(0,d.cH)(t)),n.onChange(t),w&&w(t)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===g?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===g||"cep2"===g?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===g?{maxLength:15}:"cpf"===g?{maxLength:14}:"rg"===g?{maxLength:11}:"estado"===g?{maxLength:2}:{},InputProps:{endAdornment:L&&(0,l.jsx)(s.Z,{position:"end",children:(0,l.jsx)(c.Z,{onClick:L,children:(0,l.jsx)(p.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"},...M&&!(null==n?void 0:n.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:_.palette.error.main},"&:hover fieldset":{borderColor:_.palette.error.main},"&.Mui-focused fieldset":{borderColor:_.palette.error.main}},"& .MuiInputLabel-root":{color:_.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:_.palette.error.main}}}})})}})}),S&&(0,l.jsx)("div",{className:"absolute ".concat("number"==f?"right-10":"right-4","  top-[12px]"),children:(0,l.jsx)(m.Z,{text:S,position:null!=I?I:"top"})})]})})};n.Z=x},34175:function(e,n,t){function l(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function r(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function i(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function a(e){return e?e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")"):e}function o(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function s(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}t.d(n,{Bk:function(){return a},CL:function(){return s},PK:function(){return l},Tc:function(){return o},VL:function(){return r},cH:function(){return i}})},41088:function(e,n,t){var l=t(67294),r=t(83830);let i=()=>{let{isLoading:e,setIsLoading:n}=(0,l.useContext)(r.X),t=()=>{n(!0)},i=()=>{setTimeout(()=>{n(!1)},500)};return{isLoading:e,startLoading:t,stopLoading:i}};n.Z=i}}]);