"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3545],{80587:function(e,n,t){t(85893),t(21609),t(10179),t(42107),t(88475),t(73731),t(53934)},23895:function(e,n,t){t.d(n,{Z:function(){return A}});var l=t(85893),a=t(67294),i=t(66136),r=t(79072),o=t(17575),s=t(80562),d=t(21609),c=t(10179),u=t(42107),x=t(73731),m=t(53934);let h=e=>{var n;let{key:t,item:a,handleFileClick:i,indexGrupo:h,indexItem:p,selectedItem:f,handleFileSelect:j,handleRemove:v,loadingFile:g,folder:b,error:Z,disabled:C,modeTheme:y,inputRef:A}=e;return console.log("\uD83D\uDE80 ~ AnexoGrid item:",a),(0,l.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,l.jsxs)("div",{className:"".concat((null==Z?void 0:Z[t])?"border border-red-500":"dark"===y?"bg-[#212b36]":"bg-[#F6F6F8]"," rounded-lg flex flex-col relative z-10"),children:[(0,l.jsx)("div",{className:"flex items-center justify-center p-2 mt-1 ",children:(0,l.jsx)("p",{className:"font-medium text-sm ",children:a.nome})}),(0,l.jsx)("div",{className:"flex justify-center items-center cursor-pointer p-1 h-[100px] w-full ",disabled:C,onClick(){a.anexo&&a.anexo.path&&a.anexo.exist?window.open(a.anexo.path,"_blank"):C||i(a)},children:(0,l.jsxs)("div",{className:"flex p-1 justify-center items-center gap-2 rounded-lg w-full h-full m-3 border-2 border-dashed hover:border-[#4A8B57] transition-colors ".concat("dark"===y?" border-[#212b36]":"rgba(76, 78, 100, 0.12)"),children:[f&&f.grupoAnexoItemID==a.grupoAnexoItemID&&(0,l.jsx)(x.Z,{show:g,title:"Enviando anexo..."}),(0,l.jsx)("div",{className:"flex items-center gap-3",children:a.anexo&&a.anexo.exist?(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsx)(u.Z,{data:a.anexo}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsxs)("p",{className:"text-sm opacity-80",children:[a.anexo.nome,(0,l.jsx)("span",{className:"text-xs opacity-50 ml-1",children:"(".concat((a.anexo.size/1024/1024).toFixed(2),"MB)")})]}),a.descricao&&(0,l.jsx)(m.Z,{text:a.descricao})]}),(0,l.jsx)("p",{className:"text-xs opacity-50",children:new Date(a.anexo.time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})}):(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,l.jsx)(c.Z,{className:"w-8 h-8 ".concat(a.anexo&&a.anexo.exist?"fill-[#666CFF]":"fill-current")}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("h6",{className:"text-sm font-normal opacity-80",children:"Adicione um arquivo"}),a.descricao&&(0,l.jsx)(m.Z,{text:a.descricao})]})]})})]})}),(0,l.jsx)("div",{className:"flex items-center justify-between gap-1 p-2 py-3 pl-4",children:(0,l.jsx)(o.Z,{title:1==a.hasPending?"Este item n\xe3o pode mais ser removido pois j\xe1 foi respondido em um formul\xe1rio":"Remover este item",children:(0,l.jsx)(s.Z,{color:"error",onClick:()=>v(a),disabled:!(null===(n=a.anexo)||void 0===n?void 0:n.exist)||C,children:(0,l.jsx)(d.Z,{icon:"tabler:trash-filled"})})})}),(0,l.jsx)("input",{type:"file",ref:A,style:{display:"none"},onChange:e=>j(e,f,b)})]})})};t(80587);var p=t(92945),f=t(49837),j=t(91359),v=t(29630),g=t(85390),b=t(87054),Z=function(e){return(0,l.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5zm0-4a.5.5 0 01.5-.5h10a.5.5 0 010 1H3a.5.5 0 01-.5-.5z"})})},C=function(e){return(0,l.jsx)("svg",{fill:"currentColor",viewBox:"0 0 16 16",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M1 2.5A1.5 1.5 0 012.5 1h3A1.5 1.5 0 017 2.5v3A1.5 1.5 0 015.5 7h-3A1.5 1.5 0 011 5.5v-3zM2.5 2a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 1h3A1.5 1.5 0 0115 2.5v3A1.5 1.5 0 0113.5 7h-3A1.5 1.5 0 019 5.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zM1 10.5A1.5 1.5 0 012.5 9h3A1.5 1.5 0 017 10.5v3A1.5 1.5 0 015.5 15h-3A1.5 1.5 0 011 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3zm6.5.5A1.5 1.5 0 0110.5 9h3a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-3A1.5 1.5 0 019 13.5v-3zm1.5-.5a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5h-3z"})})};let y=e=>{let{values:n}=e,[t,o]=(0,a.useState)(null);console.log("\uD83D\uDE80 ~ selectedItem:",t);let{settings:s}=(0,a.useContext)(i.J6),d=s.mode,c=(0,a.useRef)(null),u=e=>{c.current.click(),o(e)};(0,a.useEffect)(()=>{c.current.value=""},[n.handleFileSelect]);let[x,m]=(0,a.useState)("list"),y=(e,n)=>{m(n)};return(0,l.jsx)(f.Z,{sx:{mt:4},children:(0,l.jsxs)(j.Z,{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsxs)(v.Z,{variant:"subtitle1",sx:{fontWeight:600},children:[n.grupo.nome,(0,l.jsx)(v.Z,{variant:"body2",sx:{mb:2},children:n.grupo.descricao})]}),(0,l.jsx)("div",{children:(0,l.jsxs)(g.Z,{exclusive:!0,color:"primary",value:x,onChange:y,children:[(0,l.jsx)(b.Z,{value:"list",children:(0,l.jsx)(Z,{})}),(0,l.jsx)(b.Z,{value:"grid",children:(0,l.jsx)(C,{})})]})})]}),(0,l.jsx)(r.ZP,{container:!0,spacing:4,children:n.grupo.itens.map((e,a)=>"list"===x?(0,l.jsx)(p.Z,{modeTheme:d,handleFileClick:u,selectedItem:t,inputRef:c,item:e,loadingFile:n.loadingFile,grupo:n.grupo,indexBlock:n.indexGrupo,indexItem:a,handleFileSelect:n.handleFileSelect,handleRemove:n.handleRemove,folder:n.folder,error:n.error,disabled:n.disabled},"".concat(n.indexGrupo,"-").concat(a)):(0,l.jsx)(h,{modeTheme:d,handleFileClick:u,selectedItem:t,inputRef:c,item:e,loadingFile:n.loadingFile,grupo:n.grupo,indexGrupo:n.indexGrupo,indexItem:a,handleFileSelect:n.handleFileSelect,handleRemove:n.handleRemove,folder:n.folder,error:n.error,disabled:n.disabled},"".concat(n.indexGrupo,"-").concat(a)))})]})})};var A=y},45061:function(e,n,t){var l=t(85893),a=t(54225),i=t(1890),r=t(77745),o=t(95398),s=t(76779),d=t(44642);t(21609);var c=t(19604),u=t(29630),x=t(55343),m=t(67836),h=t(67294),p=t(82747);t(84220),t(29308),t(67569),t(3893),t(88475);let f=e=>{let{title:n,text:t,handleClose:f,openModal:j,handleSubmit:v,cnpj:g,nomeFornecedor:b,gruposAnexo:Z,email:C,setEmail:y,inputEmail:A,btnCancel:w,btnConfirm:F,grupoAnexosFornecedor:I,btnCancelColor:k,btnConfirmColor:N,closeAfterSave:R,listErrors:S}=e,[z,D]=(0,h.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(i.Z,{open:j,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,n){"backdropClick"!==n&&f()},children:[(0,l.jsx)(r.Z,{id:"form-dialog-title",children:n}),(0,l.jsxs)(o.Z,{children:[(0,l.jsxs)(d.Z,{sx:{mb:3},children:[(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),S&&S.status&&(0,l.jsxs)(c.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,l.jsx)(u.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:S.errors.map((e,n)=>(0,l.jsxs)(u.Z,{variant:"body2",color:"error",children:["- ",e]},n))})]})]}),A&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.Z,{sx:{mt:2},fullWidth:!0,children:[(0,l.jsx)(m.Z,{defaultValue:"",type:"email",label:"E-mail do Fornecedor (opcional)",placeholder:"E-mail do Fornecedor (opcional)","aria-describedby":"validation-schema-nome",name:"email",error:(null==C?void 0:C.length)>0&&z,inputProps:{onChange(e){y(e.target.value),D(!(0,p.dI)(e.target.value))}}}),(null==C?void 0:C.length)>0&&z&&(0,l.jsx)(u.Z,{variant:"body2",color:"error",children:"Por favor, insira um e-mail v\xe1lido!"})]}),(0,l.jsx)(c.Z,{severity:"info",sx:{mt:2},children:"Se o e-mail for preenchido, o mesmo receber\xe1 as instru\xe7\xf5es de cadastro e preenchimento do formul\xe1rio no e-mail."})]})]}),(0,l.jsxs)(s.Z,{className:"dialog-actions-dense",children:[w&&(0,l.jsx)(a.Z,{variant:"outlined",color:"primary",onClick:f,children:"Cancelar"}),F&&(0,l.jsx)(a.Z,{variant:"contained",disabled:A&&(null==C?void 0:C.length)>0&&z||S&&S.status,color:N||"error",onClick:A&&g?()=>{v(g,b,Z,C),R&&f()}:A&&!g?()=>{v(C),R&&f()}:()=>{v(),R&&f()},children:"Confirmar"})]})]})})};n.Z=f},34282:function(e,n,t){var l=t(85893),a=t(67294),i=t(54225),r=t(1890),o=t(77745),s=t(95398),d=t(76779),c=t(44642),u=t(21609),x=t(60664),m=t(79072),h=t(55343),p=t(35966),f=t(67836),j=t(19604),v=t(61953),g=t(71798),b=t(40039),Z=t(7071),C=t(67074),y=t(17494),A=t(87413),w=t(29630),F=t(72162),I=t(9601),k=t(51221),N=t(36599),R=t(45061);let S=(0,C.ZP)(N.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),z=e=>{var n;let{id:t,parFormularioID:C,formStatus:N,hasFormPending:z,title:D,text:W,handleClose:P,openModal:E,handleSubmit:M,btnCancel:B,btnConfirm:q,canChangeStatus:V,btnConfirmColor:_}=e,[G,H]=(0,a.useState)(!1),{user:O,loggedUnity:T}=(0,a.useContext)(b.V),[L,$]=(0,a.useState)(null),[J,K]=(0,a.useState)(""),[Q,U]=(0,a.useState)(!1);console.log("selectedStatus: ",L);let X=async()=>{try{await x.h.post("/formularios/fornecedor/getMovementHistory/".concat(t),{parFormularioID:C}).then(e=>{H(e.data)})}catch(e){console.log(e)}},Y=[];for(let ee in g.WR)30==parseInt(ee)&&parseInt(ee)!=N&&Y.push({id:parseInt(ee),nome:g.WR[ee].title});return(0,a.useEffect)(()=>{X()},[Q]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.Z,{open:E,onClose:P,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(o.Z,{id:"form-dialog-title",children:D}),(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{sx:{mb:3},children:W}),V&&(0,l.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(h.Z,{fullWidth:!0,children:(0,l.jsx)(p.Z,{options:Y,defaultValue:Y.find(e=>e.id===L),id:"autocomplete-outlined",getOptionLabel:e=>e.nome,onChange(e,n){$(null==n?void 0:n.id)},renderInput:e=>(0,l.jsx)(f.Z,{...e,name:"formulario.status",label:"Alterar Status do Formul\xe1rio",placeholder:"Alterar Status do Formul\xe1rio"})})})}),L&&L>0&&(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(h.Z,{fullWidth:!0,children:(0,l.jsx)(f.Z,{id:"outlined-multiline-static",label:"Observa\xe7\xe3o",multiline:!0,rows:4,placeholder:"Observa\xe7\xe3o",variant:"outlined",onChange:e=>K(e.target.value)})})})]}),O&&1==O.papelID&&z&&(0,l.jsx)(j.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,l.jsx)(v.Z,{children:(0,l.jsx)(S,{children:G&&G.length>0&&G.map((e,n)=>(0,l.jsxs)(A.Z,{children:[(0,l.jsxs)(I.Z,{children:[(0,l.jsx)(y.Z,{color:g.WR[e.statusAtual].color}),(0,l.jsx)(k.Z,{})]}),(0,l.jsxs)(F.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,l.jsxs)(v.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(w.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:[e.data+" - "+e.hora+" ",0==n&&(0,l.jsx)(Z.Z,{size:"small",skin:"light",color:g.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsx)(w.Z,{variant:"caption",children:e.usuario})]}),(0,l.jsxs)(v.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(w.Z,{variant:"body2",sx:{color:"text.primary"},children:[(0,l.jsx)("span",{children:g.WR[e.statusAnterior].title}),(0,l.jsx)(u.Z,{icon:"mdi:arrow-right",fontSize:20,style:{display:"inline-block"}}),(0,l.jsx)("span",{children:g.WR[e.statusAtual].title})]}),(0,l.jsx)(w.Z,{variant:"caption",children:e.unidade})]}),null!=e.observacao&&(0,l.jsx)(v.Z,{children:(0,l.jsx)(w.Z,{variant:"caption",children:e.observacao})})]})]}))})})]}),(0,l.jsxs)(d.Z,{className:"dialog-actions-dense",children:[B&&(0,l.jsx)(i.Z,{variant:"outlined",color:"primary",onClick:P,children:"Fechar"}),q&&O&&1==O.papelID&&!z&&V&&(0,l.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>1==C?U(!0):M(L,J),disabled:!L,children:"Confirmar"})]})]}),(0,l.jsx)(R.Z,{openModal:Q,handleClose:()=>U(!1),title:"Confirmar Altera\xe7\xe3o",text:'Deseja realmente alterar o status do formul\xe1rio para "'.concat(null===(n=g.WR[L])||void 0===n?void 0:n.title,'" ? O mesmo ficar\xe1 dispon\xedvel para a edi\xe7\xe3o do Fornecedor novamente.'),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit(){M(L,J),U(!1),$(null)}})]})};n.Z=z},1322:function(e,n,t){var l=t(85893),a=t(95398),i=t(44642),r=t(1890),o=t(77745);t(67294);let s=e=>{let{title:n,setOpenModal:t,openModal:s,children:d,size:c}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{open:s,onClose:()=>t(!1),fullWidth:!!c,maxWidth:c||null,children:[(0,l.jsx)(o.Z,{id:"form-dialog-title",children:n}),(0,l.jsx)(a.Z,{children:(0,l.jsx)(i.Z,{children:d})})]})})};n.Z=s},56531:function(e,n,t){var l=t(85893),a=t(29308),i=t(84220),r=t(50287);let o=e=>{let{form:n,fields:t,disabled:o,disabledFields:s,getAddressByCep:d,setNameSelected:c,setColumnSelected:u,setOpenModalNew:x}=e,m=e=>{switch(e){case"telefone":case"telefone1":case"telefone2":return"telefone";case"cep":return"cep";case"cnpj":return"cnpj";default:return null}},h=e=>!!s&&s.length>0&&s.includes(e),p=async(e,n)=>{u(e),x(!0),c(n)};return t&&t.map((e,t)=>{var s,c,u;return(0,l.jsxs)(l.Fragment,{children:[e&&"int"===e.tipo&&e.tabela&&(0,l.jsx)(i.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(t,"].").concat(e.tabela),createNew:"transportadorID"===e.nomeColuna||"tipoVeiculoID"===e.nomeColuna?()=>p(e.nomeColuna,"fields[".concat(t,"].").concat(e.tabela)):null,type:e.tabela,options:e.options,value:null==e?void 0:e[e.tabela],mask:e.tabela,disabled:o||h(e.nomeColuna),alertRequired:1===e.obrigatorio,form:n},"select-".concat(t)),e&&"date"==e.tipo&&(0,l.jsx)(r.Z,{xs:12,md:4,title:"Data da avalia\xe7\xe3o",disabled:o||h(e.nomeColuna),value:null!==(s=null==e?void 0:e[e.nomeColuna])&&void 0!==s?s:new Date,type:e.nomeColuna,name:"fields[".concat(t,"].").concat(e.nomeColuna),typeValidation:"dataPassado",daysValidation:365,form:n,alertRequired:1===e.obrigatorio},"datefield-".concat(t)),e&&"string"==e.tipo&&(0,l.jsx)(a.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(t,"].").concat(e.nomeColuna),value:null!==(c=null==e?void 0:e[e.nomeColuna])&&void 0!==c?c:"",type:e.nomeColuna,getAddressByCep:d,mask:m(e.nomeColuna),disabled:!!(o||h(e.nomeColuna))||"cnpj"==e.nomeColuna,form:n,required:1===e.obrigatorio,alertRequired:1===e.obrigatorio},"input-".concat(t)),e&&"text"==e.tipo&&(0,l.jsx)(a.Z,{xs:12,md:12,multiline:!0,rows:6,title:e.nomeCampo,name:"fields[".concat(t,"].").concat(e.nomeColuna),value:null!==(u=null==e?void 0:e[e.nomeColuna])&&void 0!==u?u:"",type:e.nomeColuna,getAddressByCep:d,mask:m(e.nomeColuna),disabled:!!(o||h(e.nomeColuna))||"cnpj"==e.nomeColuna,form:n,alertRequired:1===e.obrigatorio},"input-".concat(t))]})})};n.Z=o},67569:function(e,n,t){var l=t(85893),a=t(79072),i=t(61953),r=t(29630),o=t(22841),s=t(75158),d=t(53934);let c=e=>{let{form:n,xs:t,md:c,title:u,index:x,name:m,typePage:h,value:p,edit:f,className:j,helpText:v}=e;return(0,l.jsxs)(a.ZP,{item:!0,xs:t,md:c,className:j,children:[(0,l.jsxs)(i.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(r.Z,{variant:"caption",children:x&&0!=x?"":u}),(0,l.jsx)(o.Z,{control:(0,l.jsx)(s.Z,{size:"small",sx:{ml:4},...n.register(m),defaultChecked:!0==p||1==p||"new"==h,onChange(e){f&&n.setValue(f,!0)}})})]}),v&&(0,l.jsx)("div",{children:(0,l.jsx)(d.Z,{text:v,position:"top"})})]})};n.Z=c},82747:function(e,n,t){function l(e){if(!e||14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,t=e.substring(0,n),l=e.substring(n),a=0,i=n-7;for(let r=n;r>=1;r--)a+=t.charAt(n-r)*i--,i<2&&(i=9);let o=a%11<2?0:11-a%11;if(o!=l.charAt(0))return!1;n+=1,t=e.substring(0,n),a=0,i=n-7;for(let s=n;s>=1;s--)a+=t.charAt(n-s)*i--,i<2&&(i=9);return(o=a%11<2?0:11-a%11)==l.charAt(1)}function a(e){let n;if(!e||11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let t=0;for(let l=1;l<=9;l++)t+=parseInt(e.substring(l-1,l))*(11-l);if((10==(n=10*t%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;t=0;for(let a=1;a<=10;a++)t+=parseInt(e.substring(a-1,a))*(12-a);return(10==(n=10*t%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function i(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(n,{dI:function(){return i},sw:function(){return a},zk:function(){return l}})}}]);