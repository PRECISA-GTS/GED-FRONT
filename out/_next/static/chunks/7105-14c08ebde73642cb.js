"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7105],{47842:function(e,t,i){var o=i(85893),l=i(70754);let r=e=>{let{show:t,title:i,customTextProps:r,...n}=e;return t&&(0,o.jsx)("div",{className:"fixed inset-0 flex items-center justify-center rounded-lg z-50",children:(0,o.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 ",children:[(0,o.jsx)(l.Z,{color:"primary",...n}),(0,o.jsx)("p",{className:"opacity-80 text-sm ".concat(r),children:null!=i?i:"Carregando..."})]})})};t.Z=r},27105:function(e,t,i){i.d(t,{Z:function(){return v}});var o=i(85893),l=i(67294),r=i(10160),n=i(21609),a=i(99070);i(62813),i(74811),i(43776);var d=i(54225),s=i(1890),c=i(77745),f=i(95398),u=i(76779),x=i(29630),h=i(60664),p=i(80562),g=i(47842),m=i(86501);let b=e=>{let{title:t,description:i,open:r,handleClose:a}=e,[b,j]=(0,l.useState)(!1),[y,v]=(0,l.useState)(null),w=localStorage.getItem("report"),D=JSON.parse(w),S=async()=>{j(!b),b?(j(!1),v(null),a()):await C()},C=async()=>{try{let e=await h.h.post("/formularios/fornecedor/createDocumentAutentique/".concat(D.id,"/").concat(D.usuarioID,"/").concat(D.unidadeID));v(e.data),localStorage.setItem("hashSignedDocument",JSON.stringify(e.data))}catch(t){console.log(t)}},R=async()=>{let e=localStorage.getItem("hashSignedDocument"),t=JSON.parse(e);if(t)try{let i=await h.h.post("/formularios/fornecedor/saveSignedDocument",{id:D.id,usuarioID:D.usuarioID,unidadeID:D.unidadeID,hashSignedDocument:t});console.log("\uD83D\uDE80 ~ response:",i),m.ZP.success(i.data.message)}catch(o){console.log(o)}},Z=()=>{a(),j(!1),v(null),localStorage.removeItem("hashSignedDocument")};return(0,l.useEffect)(()=>{r||(R(),Z())},[a]),(0,o.jsxs)(s.Z,{open:r,maxWidth:"xl",fullWidth:!0,scroll:y?"paper":"body",children:[(0,o.jsxs)(c.Z,{id:"form-dialog-title",children:[t,(0,o.jsx)(p.Z,{onClick(){a(),j(!1)},className:"!absolute !right-2 !top-2",children:(0,o.jsx)(n.Z,{icon:"mdi:close"})})]}),(0,o.jsx)(f.Z,{children:b?(0,o.jsx)("div",{className:"h-[80vh]",children:y?(0,o.jsxs)("div",{className:"h-[80vh]",children:[(0,o.jsx)(x.Z,{variant:"body1",children:i}),(0,o.jsx)("iframe",{src:"https://painel.autentique.com.br/documentos/".concat(y),frameborder:"0",width:"100%",height:"100%"})]}):(0,o.jsx)(g.Z,{title:"Preparando documento para assinatura...",show:!0,customTextProps:"text-xl font-bold",size:60,thickness:4})}):(0,o.jsxs)("div",{className:"h-[80vh]",children:[(0,o.jsx)(x.Z,{variant:"body1",children:i}),(0,o.jsx)("iframe",{src:"https://painel.autentique.com.br/entrar",frameBorder:"0",width:"100%",height:"100%"})]})}),(0,o.jsxs)(u.Z,{className:"dialog-actions-dense",children:[b&&(0,o.jsxs)(d.Z,{variant:"outlined",color:"primary",onClick(){j(!1),v(null)},className:"flex gap-1",children:[(0,o.jsx)(n.Z,{icon:"fe:login"}),"Fazer login"]}),(0,o.jsxs)(d.Z,{variant:b?"outlined":"contained",color:"primary",onClick:S,className:"flex gap-1",children:[(0,o.jsx)(n.Z,{icon:b?"":"fluent:signature-24-filled"}),b?"Fechar":"Confirmar e assinar"]})]})]})};var j=i(17575);let y=e=>{let{FileComponent:t,FileName:i}=e,[d,s]=(0,l.useState)(!1),c=localStorage.getItem("report");JSON.parse(c);let f=()=>{s(!0)},u=()=>{window.close()},x=[{id:1,title:"Fechar",color:"primary",size:"large",variant:"outlined",disable:!1,icon:"ooui:close",function:u},{id:2,title:"Assinar digitalmente",color:"primary",size:"large",variant:"outlined",disable:!1,icon:"fluent:signature-24-filled",function:f}];return(0,o.jsxs)("div",{className:"fixed bottom-4 right-12 flex flex-col gap-2",children:[x&&x.map(e=>(0,o.jsx)("div",{onClick:e.disable?null:e.function,children:(0,o.jsx)(j.Z,{title:e.title,placement:"left",children:(0,o.jsx)(r.Z,{color:e.color,size:e.size,variant:e.variant,className:e.disable?"hover:opacity-20 opacity-20":"",children:(0,o.jsx)(n.Z,{icon:e.icon,className:e.disable?"cursor-default":""})})})},e.id)),(0,o.jsx)(j.Z,{title:"Baixar relat\xf3rio",placement:"left",children:(0,o.jsx)("div",{children:(0,o.jsx)(a.WD,{document:t,fileName:i,children(e){let{blob:t,url:i,loading:l,error:a}=e;return(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)(r.Z,{color:"primary",size:"large",variant:"outlined",children:(0,o.jsx)(n.Z,{icon:"basil:download-solid"})})})}})})}),(0,o.jsx)(b,{open:d,handleClose:()=>s(!1),title:"Assinatura do relat\xf3rio"})]})};var v=y},62813:function(e,t,i){var o=i(85893),l=i(99070);let r=()=>{let e=l.mM.create({footer:{position:"absolute",bottom:20,color:"grey",width:"100vw",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10}});return(0,o.jsxs)(l.G7,{fixed:!0,style:e.footer,children:[(0,o.jsxs)(l.xv,{children:["Gerado em"," ",new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,o.jsx)(l.xv,{render(e){let{pageNumber:t,totalPages:i}=e;return"".concat(t,"/").concat(i)}})]})};t.Z=r},74811:function(e,t,i){var o=i(85893),l=i(99070),r=i(67294),n=i(60664);let a={header:{position:"fixed",top:5,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},title:{textAlign:"center"},imageContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end"},image:{aspectRatio:1,objectFit:"contain",height:"100%",marginLeft:"auto"}},d=e=>{var t,i;let{data:d}=e,[s,c]=(0,r.useState)({}),f=async()=>{try{let e=await n.h.post("/relatorio/getHeader",{unidadeID:d.user.unidadeID});c(e.data)}catch(t){console.error("Erro ao buscar os dados do cabe\xe7alho:",d)}};return(0,r.useEffect)(()=>{f()},[d]),(0,o.jsxs)(l.G7,{style:a.header,children:[(0,o.jsx)(l.G7,{style:{width:"10%"},children:(0,o.jsx)(l.xv,{})}),(0,o.jsxs)(l.G7,{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5},children:[(0,o.jsx)(l.xv,{style:[a.title,a.content,{width:"100%"}],children:null!==(t=null==s?void 0:s.tituloRelatorio)&&void 0!==t?t:"Cabe\xe7alho n\xe3o definido"}),(0,o.jsx)(l.xv,{style:[a.title,a.content,{width:"60%",fontSize:8}],children:null!==(i=null==s?void 0:s.endereco)&&void 0!==i?i:"Endere\xe7o n\xe3o definido"}),(0,o.jsx)(l.xv,{style:[a.title,a.content,{width:"100%",fontSize:8}],children:"CNPJ: ".concat(null==s?void 0:s.cnpj)})]}),(0,o.jsx)(l.G7,{style:[a.imageContainer,{width:"10%"}],children:(null==s?void 0:s.url)?(0,o.jsx)(l.Ee,{src:null==s?void 0:s.url,style:a.image}):""})]})};t.Z=d},43776:function(e,t,i){i.d(t,{W:function(){return l}});var o=i(99070);let l=o.mM.create({page:{flexDirection:"column",backgroundColor:"#FFF",justifyContent:"start",paddingTop:15,paddingBottom:30},title:{},header:{position:"fixed",top:-10,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{marginHorizontal:10,fontSize:11,padding:15,flex:1},footer:{position:"absolute",bottom:20,color:"grey",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10},blockTitle:{paddingVertical:5},containerFields:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",paddingTop:2},fields:{display:"flex",flexDirection:"column",gap:"2px",paddingBottom:4,paddingTop:4},fieldTitle:{fontSize:8,opacity:"0.8"},fieldValue:{fontSize:10},separator:{height:"1px",width:"100%",borderBottom:"1px solid #ddd",clear:"both"},table:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableRed:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ff625d",borderTop:"1px solid #ff625d",borderLeft:"1px solid #ff625d",borderBottom:"1px solid #ff625d",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableTitle:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#EEE",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #ddd"},tableTitleRed:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#f8e2e2",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #f8e2e2"},tableTitlecolumn:{padding:8},tableContainer:{display:"flex",flexDirection:"row",width:"100%"},tableContent:{padding:8,borderLeft:"1px solid #ddd",borderTop:"1px solid #ddd"},tableContentRed:{paddingHorizontal:8,paddingVertical:0,borderLeft:"1px solid #f8e2e2",borderTop:"1px solid #f8e2e2"},tableContentcolumn:{fontSize:9}})}}]);