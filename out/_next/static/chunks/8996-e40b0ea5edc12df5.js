"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8996],{53934:function(e,n,o){var i=o(85893),r=o(67294),s=o(17575),l=o(32046),a=o(67074),t=o(21609),d=o(29630);let c=e=>{let{text:n,position:o}=e,c=(0,a.ZP)(e=>{let{className:n,...o}=e;return(0,i.jsx)(s.Z,{...o,classes:{popper:n},arrow:!0})})(e=>{let{theme:n}=e;return{["& .".concat(l.Z.tooltip)]:{border:"1px solid #65656E"}}});return(0,i.jsx)(c,{title:(0,i.jsx)(r.Fragment,{children:(0,i.jsx)(d.Z,{color:"inherit",children:n})}),placement:o||"top",children:(0,i.jsx)("p",{children:(0,i.jsx)(t.Z,{icon:"clarity:help-solid",className:"cursor-pointer text-base"})})})};n.Z=c},29308:function(e,n,o){var i=o(85893),r=o(87536),s=o(79072),l=o(55343),a=o(67836),t=o(9041),d=o(80562),c=o(34175),u=o(62097),x=o(21609),h=o(53934);let m=e=>{let{xs:n,md:o,title:m,name:p,rows:f,value:j,type:v,mask:Z,getAddressByCep:g,multiline:y,disabled:w,required:b,control:C,errors:S,onChange:P,className:$,help:z,clearField:F,helpText:I,helpTextPosition:D,alertRequired:k,...A}=e,L=(0,u.Z)();return(0,i.jsx)(s.ZP,{item:!0,xs:n,md:o,sx:{my:1},className:$,children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(l.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,i.jsx)(r.Qr,{name:p,control:C,rules:{required:b},render(e){let{field:n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.Z,{...A,multiline:y,value:null==n?void 0:n.value,label:m,placeholder:m,rows:f,type:null!=v?v:"text",size:"small",disabled:w,"aria-describedby":"validation-schema-nome",error:S,onChange(e){let o=e.target.value;"cnpj"===Z?o=(0,c.PK)(o):"cep"===Z?g(o=(0,c.Tc)(o)):"cep2"===Z?o=(0,c.Tc)(o):"telefone"===Z?o=(0,c.Bk)(o):"estado"===Z?o=(0,c.CL)(o):"cpf"===Z?o=(0,c.VL)(o):"rg"===Z&&(o=(0,c.cH)(o)),n.onChange(o),P&&P(o)},InputLabelProps:{shrink:!0},inputProps:"cnpj"===Z?{maxLength:18,type:"tel",inputMode:"numeric"}:"cep"===Z||"cep2"===Z?{maxLength:9,type:"tel",inputMode:"numeric"}:"telefone"===Z?{maxLength:15}:"cpf"===Z?{maxLength:14}:"rg"===Z?{maxLength:11}:"estado"===Z?{maxLength:2}:{},InputProps:{endAdornment:F&&(0,i.jsx)(t.Z,{position:"end",children:(0,i.jsx)(d.Z,{onClick:F,children:(0,i.jsx)(x.Z,{icon:"clarity:close-line",fontSize:20})})})},sx:{"& .MuiInputBase-input":{padding:"10px 14px"},...k&&!(null==n?void 0:n.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:L.palette.error.main},"&:hover fieldset":{borderColor:L.palette.error.main},"&.Mui-focused fieldset":{borderColor:L.palette.error.main}},"& .MuiInputLabel-root":{color:L.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:L.palette.error.main}}}})})}})}),I&&(0,i.jsx)("div",{className:"absolute ".concat("number"==v?"right-10":"right-4","  top-[12px]"),children:(0,i.jsx)(h.Z,{text:I,position:null!=D?D:"top"})})]})})};n.Z=m},34175:function(e,n,o){function i(e){return e&&(e=(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/,"$1.$2")).replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3")).replace(/\.(\d{3})(\d)/,".$1/$2")).replace(/(\d{4})(\d)/,"$1-$2")),e}function r(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),e}function s(e){return e&&(e=(e=(e=(e=e.replace(/\D/g,"")).replace(/(\d{2})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")),e}function l(e){return e=(e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")).replace(/\)-/,")")}function a(e){return e=(e=e.replace(/\D/g,"")).replace(/^(\d{5})(\d)/,"$1-$2")}function t(e){return e=(e=e.toUpperCase()).replace(/[^A-Z]/g,"")}o.d(n,{Bk:function(){return l},CL:function(){return t},PK:function(){return i},Tc:function(){return a},VL:function(){return r},cH:function(){return s}})},82747:function(e,n,o){function i(e){if(14!==(e=null==e?void 0:e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let n=e.length-2,o=e.substring(0,n),i=e.substring(n),r=0,s=n-7;for(let l=n;l>=1;l--)r+=o.charAt(n-l)*s--,s<2&&(s=9);let a=r%11<2?0:11-r%11;if(a!=i.charAt(0))return!1;n+=1,o=e.substring(0,n),r=0,s=n-7;for(let t=n;t>=1;t--)r+=o.charAt(n-t)*s--,s<2&&(s=9);return(a=r%11<2?0:11-r%11)==i.charAt(1)}function r(e){let n;if(11!==(e=e.replace(/[^\d]+/g,"")).length||/^(\d)\1+$/.test(e))return!1;let o=0;for(let i=1;i<=9;i++)o+=parseInt(e.substring(i-1,i))*(11-i);if((10==(n=10*o%11)||11===n)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;o=0;for(let r=1;r<=10;r++)o+=parseInt(e.substring(r-1,r))*(12-r);return(10==(n=10*o%11)||11===n)&&(n=0),n===parseInt(e.substring(10,11))}function s(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}o.d(n,{dI:function(){return s},sw:function(){return r},zk:function(){return i}})},48996:function(e,n,o){o.r(n);var i=o(85893),r=o(87536),s=o(67294),l=o(60664),a=o(61953),t=o(79072),d=o(54225),c=o(29630),u=o(82747),x=o(11163),h=o.n(x),m=o(58316),p=o(55343),f=o(9041),j=o(19604),v=o(39063),Z=o(80562),g=o(21609),y=o(41664),w=o.n(y),b=o(29308);let C=e=>{var n,o,x,y,C,S,P;let{handleNext:$,setDataGlobal:z,dataGlobal:F}=e,I=h(),[D,k]=(0,s.useState)(null),[A,L]=(0,s.useState)(null),[N,O]=(0,s.useState)(),[T,q]=(0,s.useState)(!1),[M,E]=(0,s.useState)(null),U=(0,s.useRef)(null),[V,W]=(0,s.useState)({showPassword:!1,showConfirmPassword:!1}),H=()=>{W({...V,showPassword:!V.showPassword})},J=e=>{e.preventDefault()},_=()=>{W({...V,showConfirmPassword:!V.showConfirmPassword})},B=e=>{e.preventDefault()},{register:R,handleSubmit:K,setValue:Q,control:G,watch:X,formState:{errors:Y}}=(0,r.cI)(),ee=e=>{18===e.length?(E((0,u.zk)(e)),(0,u.zk)(e)&&l.h.post("/registro-fornecedor/getData",{cnpj:e}).then(n=>{O(e),z({...n.data,...F,sectionOne:{cnpj:e,nomeFantasia:"",razaoSocial:"",email:""}})})):(z(null),O(null),E(null))},en=I.query.u,eo=I.query.c,ei=I.query.e,er=I.query.n,es=async(e,n)=>{if(e&&n){let o={unidadeID:e,cnpj:n,nome:er,email:ei};await l.h.post("/login-fornecedor/setAcessLink",{data:o}).then((e,n)=>{if(L(e.data[0].unidadeID),e.data&&e.data[0]&&e.data[0].cnpj){var i;ee(e.data[0].cnpj),Q("cnpj",null===(i=o.response)||void 0===i?void 0:i.data[0].cnpj),Q("email",o.email),Q("nomeFantasia",o.nome),Q("razaoSocial",o.nome),q(!0)}})}},el=e=>{var n,o,i,r,s,l,a,t;z({...F,unidadeID:A,sectionOne:{...null==F?void 0:F.sectionOne,nomeFantasia:e.nomeFantasia,razaoSocial:e.razaoSocial,email:e.email,senha:e.senha},sectionTwo:{...null==F?void 0:F.sectionTwo,logradouro:null!==(s=null==F?void 0:null===(n=F.sectionTwo)||void 0===n?void 0:n.logradouro)&&void 0!==s?s:"--",bairro:null!==(l=null==F?void 0:null===(o=F.sectionTwo)||void 0===o?void 0:o.bairro)&&void 0!==l?l:"--",cidade:null!==(a=null==F?void 0:null===(i=F.sectionTwo)||void 0===i?void 0:i.cidade)&&void 0!==a?a:"--",uf:null!==(t=null==F?void 0:null===(r=F.sectionTwo)||void 0===r?void 0:r.uf)&&void 0!==t?t:"--"}}),$(e)};return(0,s.useEffect)(()=>{en&&eo&&(es(en,eo),setTimeout(()=>{var e;null==U||null===(e=U.current)||void 0===e||e.focus()},500))},[en,eo]),(0,s.useEffect)(()=>{var e,n,o,i,r,s;O(null==F?void 0:null===(e=F.sectionOne)||void 0===e?void 0:e.cnpj),Q("cnpj",null==F?void 0:null===(n=F.sectionOne)||void 0===n?void 0:n.cnpj),Q("nomeFantasia",null==F?void 0:null===(o=F.sectionOne)||void 0===o?void 0:o.nomeFantasia),Q("razaoSocial",null==F?void 0:null===(i=F.sectionOne)||void 0===i?void 0:i.razaoSocial),Q("email",null==F?void 0:null===(r=F.sectionOne)||void 0===r?void 0:r.email),O(null==F?void 0:null===(s=F.sectionOne)||void 0===s?void 0:s.cnpj)},[]),(!T||F)&&(0,i.jsxs)("form",{onSubmit:K(el),children:[(0,i.jsxs)(a.Z,{sx:{mb:4},children:[(0,i.jsx)(c.Z,{variant:"h5",children:"Informa\xe7\xf5es obrigat\xf3rios"}),(0,i.jsx)(c.Z,{sx:{color:"text.secondary"},children:"Insira as informa\xe7\xf5es obrigat\xf3rias"})]}),(0,i.jsxs)(t.ZP,{container:!0,spacing:5,children:[(0,i.jsx)(b.Z,{xs:12,md:6,title:"CNPJ",name:"cnpj",defaultValue:null==F?void 0:null===(n=F.sectionOne)||void 0===n?void 0:n.cnpj,mask:"cnpj",control:G,errors:null==Y?void 0:Y.cnpj,onChange:e=>ee(e)}),!M&&null!==M&&(0,i.jsx)(t.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(j.Z,{severity:"warning",children:"CNPJ inv\xe1lido!"})}),F&&(null==F?void 0:F.status)==="notAuthorized"&&(0,i.jsx)(t.ZP,{item:!0,xs:12,md:12,children:(0,i.jsx)(j.Z,{severity:"warning",children:"Antes de realizar o cadastro, \xe9 necess\xe1rio que uma f\xe1brica habilite o seu CNPJ como um fornecedor."})}),F&&(null==F?void 0:F.status)==="hasUserNotUnity"&&(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:12,children:[(0,i.jsx)("h3",{children:"CNPJ j\xe1 cadastrado"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:8},children:[(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(a.Z,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(c.Z,{sx:{color:"text.primary"},children:"Nome Fantasia:"}),(0,i.jsx)(c.Z,{sx:{color:"text.secondary"},children:null==F?void 0:null===(o=F.unity)||void 0===o?void 0:o.nomeFantasia})]}),(0,i.jsxs)(a.Z,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(c.Z,{sx:{color:"text.primary"},children:"Email Institucional:"}),(0,i.jsx)(c.Z,{sx:{color:"text.secondary"},children:null==F?void 0:null===(x=F.unity)||void 0===x?void 0:x.email})]})]}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,i.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsxs)(p.Z,{fullWidth:!0,children:[(0,i.jsx)(m.Z,{htmlFor:"input-password",color:Y.senha?"error":"",children:"Senha"}),(0,i.jsx)(v.Z,{label:"Senha",size:"small",id:"input-password",inputRef:U,type:V.showPassword?"text":"password",name:"senha",...R("senha"),endAdornment:(0,i.jsx)(f.Z,{position:"end",children:(0,i.jsx)(Z.Z,{edge:"end",onClick:H,onMouseDown:J,children:(0,i.jsx)(g.Z,{icon:V.showPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})}),error:Y.senha&&!0,helperText:Y.senha&&Y.senha.message})]})}),(0,i.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsxs)(p.Z,{fullWidth:!0,children:[(0,i.jsx)(m.Z,{htmlFor:"input-confirm-password",style:{color:Y.confirmaSenha&&"red"},children:"Confirme a senha"}),(0,i.jsx)(v.Z,{label:"Confirme a senha",name:"confirmaSenha",size:"small",...R("confirmaSenha"),id:"input-confirm-password",type:V.showConfirmPassword?"text":"password",onChange(e){k(e.target.value)},endAdornment:(0,i.jsx)(f.Z,{position:"end",children:(0,i.jsx)(Z.Z,{edge:"end",onClick:_,onMouseDown:B,children:(0,i.jsx)(g.Z,{icon:V.showConfirmPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})}),error:Y.confirmaSenha&&!0}),(0,i.jsx)(c.Z,{variant:"caption",sx:{color:"error.main"},children:Y.confirmaSenha&&Y.confirmaSenha.message})]})})]})]})]}),F&&(null==F?void 0:F.status)==="hasUserHasUnity"&&(0,i.jsxs)(t.ZP,{item:!0,xs:12,md:12,children:[(0,i.jsx)("h3",{children:"CNPJ j\xe1 cadastrado"}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:8},children:[(0,i.jsxs)(a.Z,{children:[(0,i.jsxs)(a.Z,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(c.Z,{sx:{color:"text.primary"},children:"Nome Fantasia:"}),(0,i.jsx)(c.Z,{sx:{color:"text.secondary"},children:null==F?void 0:null===(y=F.unity)||void 0===y?void 0:y.nomeFantasia})]}),(0,i.jsxs)(a.Z,{sx:{display:"flex",gap:2},children:[(0,i.jsx)(c.Z,{sx:{color:"text.primary"},children:"Email Institucional:"}),(0,i.jsx)(c.Z,{sx:{color:"text.secondary"},children:null==F?void 0:null===(C=F.unity)||void 0===C?void 0:C.email})]})]}),(0,i.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,i.jsx)(c.Z,{href:"/fornecedor",component:w(),sx:{color:"primary.main",textDecoration:"none"},children:"Fazer login"}),(0,i.jsx)(c.Z,{href:"/fornecedor",component:w(),sx:{color:"primary.main",textDecoration:"none"},children:"Esqueceu a senha?"})]})]})]}),F&&(null==F?void 0:F.status)==="isAuthorized"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Z,{xs:12,md:6,title:"Nome Fantasia",name:"nomeFantasia",defaultValue:(null==F?void 0:F.sectionOne.nomeFantasia)||er,required:!0,control:G,errors:null==Y?void 0:Y.nomeFantasia}),(0,i.jsx)(b.Z,{xs:12,md:6,title:"Raz\xe3o Social",name:"razaoSocial",defaultValue:(null==F?void 0:null===(S=F.sectionOne)||void 0===S?void 0:S.razaoSocial)||er,required:!0,control:G,errors:null==Y?void 0:Y.razaoSocial}),(0,i.jsx)(b.Z,{xs:12,md:6,title:"Email Institucional",name:"email",defaultValue:(null==F?void 0:null===(P=F.sectionOne)||void 0===P?void 0:P.email)||ei,required:!0,control:G,errors:null==Y?void 0:Y.email}),(0,i.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsxs)(p.Z,{fullWidth:!0,children:[(0,i.jsx)(m.Z,{htmlFor:"input-password",color:Y.senha?"error":"",children:"Senha"}),(0,i.jsx)(v.Z,{size:"small",label:"Senha",id:"input-password",type:V.showPassword?"text":"password",name:"senha",...R("senha",{required:"Campo obrigat\xf3rio",minLength:{value:4,message:"Senha deve ter pelo menos 4 caracteres"}}),endAdornment:(0,i.jsx)(f.Z,{position:"end",children:(0,i.jsx)(Z.Z,{edge:"end",onClick:H,onMouseDown:J,children:(0,i.jsx)(g.Z,{icon:V.showPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})}),error:!!Y.senha,helperText:Y.senha&&Y.senha.message})]})}),(0,i.jsx)(t.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsxs)(p.Z,{fullWidth:!0,children:[(0,i.jsx)(m.Z,{htmlFor:"input-confirm-password",style:{color:Y.confirmaSenha&&"red"},children:"Confirme a senha"}),(0,i.jsx)(v.Z,{label:"Confirme a senha",name:"confirmaSenha",size:"small",...R("confirmaSenha",{required:"Campo obrigat\xf3rio",validate:e=>e===X("senha")||"As senhas n\xe3o coincidem"}),id:"input-confirm-password",type:V.showConfirmPassword?"text":"password",onChange(e){k(e.target.value)},endAdornment:(0,i.jsx)(f.Z,{position:"end",children:(0,i.jsx)(Z.Z,{edge:"end",onClick:_,onMouseDown:B,children:(0,i.jsx)(g.Z,{icon:V.showConfirmPassword?"mdi:eye-outline":"mdi:eye-off-outline"})})}),error:!!Y.confirmaSenha}),(0,i.jsx)(c.Z,{variant:"caption",sx:{color:"error.main"},children:Y.confirmaSenha&&Y.confirmaSenha.message})]})})]}),(0,i.jsxs)(t.ZP,{item:!0,xs:12,children:[(0,i.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)(d.Z,{disabled:!0,variant:"contained",startIcon:(0,i.jsx)(g.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Anterior"}),(0,i.jsx)(d.Z,{disabled:(null==F?void 0:F.status)=="hasUserHasUnity"||(null==F?void 0:F.status)=="notAuthorized"||!N,type:"submit",variant:"contained",onClick:K,endIcon:(0,i.jsx)(g.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Proximo"})]}),(null==F?void 0:F.status)!=="hasUserHasUnity"||(null==F?void 0:F.status)=="notAuthorized"&&(0,i.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",marginTop:10,flexWrap:"wrap",justifyContent:"start"},children:[(0,i.jsx)(c.Z,{sx:{mr:2,color:"text.secondary"},children:"Fazer login?"}),(0,i.jsx)(c.Z,{href:"/fornecedor",component:w(),sx:{color:"primary.main",textDecoration:"none"},children:"Login"})]})]})]})]})};n.default=C}}]);