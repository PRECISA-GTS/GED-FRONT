"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8449],{42107:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(85893),n=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},i=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 00-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 00-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"})})},s=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"})})},o=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M424 476c-4.4 0-8 3.6-8 8v276c0 4.4 3.6 8 8 8h32.5c4.4 0 8-3.6 8-8v-95.5h63.3c59.4 0 96.2-38.9 96.2-94.1 0-54.5-36.3-94.3-96-94.3H424zm150.6 94.3c0 43.4-26.5 54.3-71.2 54.3h-38.9V516.2h56.2c33.8 0 53.9 19.7 53.9 54.1zm280-281.7L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"})})},r=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"})})},c=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"})})},d=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M854.6 288.7L639.4 73.4c-6-6-14.2-9.4-22.7-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.6-9.4-22.6zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM402 549c0 5.4 4.4 9.5 9.8 9.5h32.4c5.4 0 9.8-4.2 9.8-9.4 0-28.2 25.8-51.6 58-51.6s58 23.4 58 51.5c0 25.3-21 47.2-49.3 50.9-19.3 2.8-34.5 20.3-34.7 40.1v32c0 5.5 4.5 10 10 10h32c5.5 0 10-4.5 10-10v-12.2c0-6 4-11.5 9.7-13.3 44.6-14.4 75-54 74.3-98.9-.8-55.5-49.2-100.8-108.5-101.6-61.4-.7-111.5 45.6-111.5 103zm78 195a32 32 0 1064 0 32 32 0 10-64 0z"})})};let x=e=>{let{data:t}=e;return console.log("\uD83D\uDE80 ~ IconAttach data:",t),t&&"application/pdf"==t.tipo?(0,l.jsx)(n,{className:"h-8 w-8 text-6xl fill-red-500"}):"image/jpeg"==t.tipo||"image/png"==t.tipo?(0,l.jsx)("div",{className:"h-8 w-8 rounded-lg relative ",style:{backgroundImage:"url(".concat(t.path,")"),backgroundSize:"cover",backgroundPosition:"center"}}):"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==t.tipo?(0,l.jsx)(i,{className:"h-8 w-8 text-6xl fill-blue-500"}):"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==t.tipo?(0,l.jsx)(s,{className:"h-8 w-8 text-6xl fill-green-500"}):"application/x-zip-compressed"==t.tipo||"application/zip-compressed"==t.tipo||"application/rar-compressed"==t.tipo||"application/x-rar-compressed"==t.tipo?(0,l.jsx)(c,{className:"h-8 w-8 text-6xl fill-yellow-500"}):"application/vnd.ms-powerpoint"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.slideshow"==t.tipo||"application/vnd.openxmlformats-officedocument.presentationml.presentation"==t.tipo?(0,l.jsx)(o,{className:"h-8 w-8 text-6xl fill-[#D55736]"}):"text/plain"==t.tipo?(0,l.jsx)(r,{className:"h-8 w-8 text-6xl fill-sky-600"}):(0,l.jsx)(d,{className:"h-8 w-8 text-6xl fill-gray-500"})};var m=x},92945:function(e,t,a){var l=a(85893),n=a(79072),i=a(21609);a(10179);var s=a(42107),o=a(88475);a(73731);var r=a(53934),c=a(42222);let d=e=>{var t,a;let{key:d,item:x,indexBlock:m,indexItem:u,indexAnexo:h,handleFileClick:v,selectedItem:p,handleFileSelect:f,handleRemove:j,folder:g,error:Z,disabled:b,modeTheme:y,inputRef:z,form:C}=e;return x?(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.Z,{icon:"fluent:attach-32-filled",fontSize:20}),(0,l.jsx)("p",{className:"font-medium text-sm",children:x.nome})]}),(0,l.jsxs)(n.ZP,{container:!0,spacing:4,sx:{pt:2},children:[(0,l.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,l.jsx)("div",{className:"rounded-xl px-3 py-4 cursor-pointer ".concat("dark"===y?" bg-[#303A46] hover:bg-[#384350] transition-all":"bg-[#EBEBEB] hover:bg-[#dad9d9] transition-all"," ").concat(x&&1==x.anexo&&1==x.obrigatorio&&(null===(t=x.anexos)||void 0===t?void 0:t.length)==0?"border border-red-500":""),onClick:()=>b?null:v(x),children:(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(i.Z,{icon:"ic:outline-plus",fontSize:30}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h6",{className:"text-sm font-semibold opacity-80",children:"Adicione um ou mais arquivos"}),x.descricao&&(0,l.jsx)(r.Z,{text:x.descricao})]})]})})})}),x&&(null==x?void 0:null===(a=x.anexos)||void 0===a?void 0:a.length)>0&&x.anexos.map((e,t)=>(0,l.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 px-3 py-4 rounded-xl ".concat("dark"===y?" bg-[#303A46]":"bg-[#EBEBEB]"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 cursor-pointer",onClick(){e&&e.path&&window.open(e.path,"_blank")},children:[(0,l.jsx)(s.Z,{data:e}),(0,l.jsx)("p",{className:"text-sm font-semibold opacity-80",children:(0,c.io)(e.nome,35)})]}),(0,l.jsx)(o.Z,{xs:12,md:1,icon:"ep:close",color:"secondary",title:"",index:t,removeItem:()=>j(e),item:e,pending:!(null==e?void 0:e.exist)||b,textSuccess:"Remover este anexo",textError:b?"Voc\xea n\xe3o ter permiss\xf5es para remover este anexo":"Este anexo n\xe3o pode mais ser removido pois o formul\xe1rio j\xe1 foi conclu\xeddo!"})]})}))]}),(0,l.jsx)("input",{type:"file",multiple:!0,ref:z,style:{display:"none"},onChange:e=>f(e,p)})]}):null};t.Z=d},92629:function(e,t,a){var l=a(85893),n=a(54225),i=a(1890),s=a(77745),o=a(95398),r=a(76779),c=a(29630),d=a(60664),x=a(67294),m=a(83830),u=a(86501),h=a(40039);let v=e=>{let{title:t,description:a,open:v,handleClose:p,params:f,setIdNc:j}=e,{setId:g}=(0,x.useContext)(m.X),{user:Z,loggedUnity:b}=(0,x.useContext)(h.V),y=async()=>{try{let e="".concat(f.route,"/").concat(Z.usuarioID,"/").concat(b.unidadeID);await d.hi.delete(e),u.ZP.success(f.messageSucceded),j?j(null):g(null)}catch(t){console.log(t),u.ZP.error(f.MessageError)}finally{p()}};return(0,l.jsxs)(i.Z,{open:v,children:[(0,l.jsx)(s.Z,{id:"form-dialog-title",children:t}),(0,l.jsx)(o.Z,{children:(0,l.jsx)(c.Z,{variant:"body1",children:a})}),(0,l.jsxs)(r.Z,{className:"dialog-actions-dense",children:[(0,l.jsx)(n.Z,{variant:"outlined",color:"secondary",onClick:p,children:"Cancelar"}),(0,l.jsx)(n.Z,{variant:"contained",color:"error",onClick:y,children:"Confirmar"})]})]})};t.Z=v},91757:function(e,t,a){var l=a(85893),n=a(29308);let i=e=>{let{form:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(n.Z,{name:"obs",title:"Observa\xe7\xe3o",defaultValue:"",multiline:!0,rows:3,form:t})})};t.Z=i},42258:function(e,t,a){var l=a(85893),n=a(49837),i=a(91359),s=a(79072),o=a(29630),r=a(41470),c=a(22841),d=a(8519),x=a(67294),m=a(15811),u=a(83542),h=a(40039);let v=e=>{var t;let a;let{form:v,bloco:p,index:f,blockKey:j,setBlocos:g,blocos:Z,disabled:b,handleFileSelect:y,handleRemoveAnexoItem:z,status:C,isFornecedorLogged:w}=e;if(!p)return null;let{user:D,hasSectorPermission:I}=(0,x.useContext)(h.V),[V,M]=(0,x.useState)(Array(Z.length).fill(null)),[N,S]=(0,x.useState)(!1),P=e=>{let{e:t,item:a,index:l,indexItem:n}=e,i=[...Z],s=a.alternativas.find(e=>e.id==t.target.value);if(i[l].itens[n].resposta=s,g(i),v.setValue("blocos[".concat(l,"].itens[").concat(n,"].resposta"),s),null!==V[l]){let o=[...V];o[l]=null,M(o)}},k=(e,t,a)=>{e.itens.forEach((e,l)=>{e.alternativas.length>1&&v.setValue("blocos[".concat(t,"].itens[").concat(l,"].resposta"),e.alternativas[a])}),g(e=>{var l;let n=[...e];return null===(l=n[t])||void 0===l||l.itens.forEach((e,t)=>{e.alternativas.length>1&&(e.resposta=e.alternativas[a])}),n}),M(e=>{let l=[...e];return l[t]=a,l})},H=()=>{var e;if(w){S(!0);return}if(C>=40){S(!1);return}if(!b&&(1===D.admin||0===p.departamentos.length)||!b&&I(null!==(e=null==p?void 0:p.departamentos)&&void 0!==e?e:[])){S(!0);return}};return(0,x.useEffect)(()=>{H()},[D,p,b]),(0,l.jsx)(n.Z,{children:(0,l.jsx)(i.Z,{children:(0,l.jsxs)(s.ZP,{container:!0,children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(o.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700,mb:6},children:null==p?void 0:p.nome})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,sx:{textAlign:"right"},children:(0,l.jsx)(u.Z,{data:null!==(t=null==p?void 0:p.departamentos)&&void 0!==t?t:[]})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:5,children:(0,l.jsx)(o.Z,{variant:"subtitle1",sx:{fontWeight:700,mb:6},children:"Itens"})}),(e=>{if(!e.itens)return 0;let t=0;return e.itens.map(e=>{e.alternativas.length>1&&t++}),t})(p)>2&&(0,l.jsx)(s.ZP,{item:!0,xs:12,md:7,children:(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{row:!0,value:V[f],children:[...Array((a=0,p.itens&&p.itens.map(e=>{e.alternativas.length>a&&(a=e.alternativas.length)}),a))].map((e,t)=>{var a;return(0,l.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,l.jsx)(c.Z,{value:t,control:(0,l.jsx)(d.Z,{disabled:!N,error:null!=v&&null!==(a=v.formState)&&void 0!==a&&!!a.errors}),onChange:()=>k(p,f,t),label:"Todos",fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary",fontWeight:600},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})},t)})})})}),p.itens.map((e,t)=>(0,l.jsx)(m.Z,{form:v,blockKey:j,index:f,indexItem:t,item:e,disabled:!N,updateResponse:P,handleFileSelect:y,handleRemoveAnexoItem:z},t))]})})},Math.random())};t.Z=v},83542:function(e,t,a){var l=a(85893),n=a(17575),i=a(29630),s=a(21448),o=a(67294),r=a(60664),c=a(40039);let d=e=>{let{data:t}=e,{loggedUnity:a,user:d}=(0,o.useContext)(c.V),[x,m]=(0,o.useState)([]);if((null==d?void 0:d.papelID)!==1)return null;let u=async()=>{try{let e={departamentos:t.map(e=>e.id),unidadeID:a.unidadeID},l=await r.hi.post("/cadastros/departamento/getProfessionals",e);m(l.data)}catch(n){console.log(n)}};return(0,o.useEffect)(()=>{u()},[t]),(0,l.jsx)("div",{className:"flex items-center justify-end gap-1",children:t&&t.length>0?t.map((e,t)=>(0,l.jsx)(n.Z,{title:(0,l.jsx)(l.Fragment,{children:x.filter(t=>t.departamentoID===e.id).map(e=>(0,l.jsx)(i.Z,{children:e.nome},e.profissionalID)).length>0?x.filter(t=>t.departamentoID===e.id).map(e=>(0,l.jsx)("div",{className:"text-[13px]",children:e.nome},e.profissionalID)):(0,l.jsx)("div",{className:"text-[13px]",children:"Nenhum profissional vinculado ao departamento"})}),children:(0,l.jsx)(s.Z,{label:null==e?void 0:e.nome},t)},t)):(0,l.jsx)(n.Z,{title:(0,l.jsx)("div",{className:"text-[13px]",children:"Todos os profissionais"}),children:(0,l.jsx)(s.Z,{label:"Todos os departamentos"},"0")})})};t.Z=d},15811:function(e,t,a){a.d(t,{Z:function(){return Z}});var l=a(85893),n=a(79072),i=a(29630),s=a(55343),o=a(67294),r=a(66136),c=a(92945),d=a(29308),x=a(8519),m=a(41470),u=a(22841),h=a(61953),v=a(17575),p=a(21609);let f=e=>{let{form:t,xs:a,md:i,values:s,defaultValue:o,name:r,disabled:c,handleChange:d,blockForm:f}=e;return(0,l.jsx)(n.ZP,{item:!0,xs:a,md:i,children:(0,l.jsx)(m.Z,{row:!0,name:r,defaultValue:o,onChange:d,children:s&&s.map((e,a)=>{var i;return(0,l.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,l.jsxs)(h.Z,{display:"flex",alignItems:"center",sx:{gap:2},children:[(0,l.jsx)(u.Z,{value:e.id,control:(0,l.jsx)(x.Z,{disabled:c,error:null!=t&&null!==(i=t.formState)&&void 0!==i&&!!i.errors}),label:e.nome,fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary"},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}},a),f&&a==s.length-1&&(0,l.jsx)(v.Z,{title:"Esta resposta impede a aprova\xe7\xe3o deste formul\xe1rio e obrigatoriamente ser\xe1 gerada uma N\xe3o Conformidade",placement:"top",arrow:!0,children:(0,l.jsx)("p",{children:(0,l.jsx)(p.Z,{icon:"typcn:warning",color:"#FFC107"})})})]})},a)})})})};var j=a(50287);let g=e=>{var t,a,x,m,u,h,v,p,g,Z,b;let{form:y,blockKey:z,index:C,indexItem:w,item:D,disabled:I,updateResponse:V,handleFileSelect:M,handleRemoveAnexoItem:N}=e;console.log("\uD83D\uDE80 ~ item:",D);let{settings:S}=(0,o.useContext)(r.J6),P=S.mode,[k,H]=(0,o.useState)(null),L=(0,o.useRef)(null),F=e=>{var t;e[z]=null!==(t=D[z])&&void 0!==t?t:0,L.current.click(),H(e)};return(0,o.useEffect)(()=>{L.current&&(L.current.value="")},[M]),console.log("reenderiza...",y.watch("blocos[".concat(C,"].itens[").concat(w,"].resposta"))),(0,l.jsxs)(n.ZP,{container:!0,spacing:2,sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(C,"].itens[").concat(w,"].itemID"),defaultValue:D.itemID,...y.register("blocos[".concat(C,"].itens[").concat(w,"].itemID"))}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:5,children:(0,l.jsx)(i.Z,{variant:"subtitle1",sx:{fontWeight:400,color:D.obrigatorio&&!D.resposta?"error.main":"text.primary"},children:D.nome?"".concat(D.ordem," - ").concat(D.nome):""})}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:7,children:(0,l.jsxs)(n.ZP,{container:!0,spacing:2,sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(C,"].itens[").concat(w,"].tipoAlternativa"),defaultValue:D.alternativa,...y.register("blocos[".concat(C,"].itens[").concat(w,"].tipoAlternativa"))}),D&&D.alternativas&&D.alternativas.length>1&&(0,l.jsx)(f,{xs:12,md:6,blockIndex:C,index:w,defaultValue:null==D?void 0:null===(t=D.resposta)||void 0===t?void 0:t.id,values:D.alternativas,name:"blocos[".concat(C,"].itens[").concat(w,"].resposta"),item:D,disabled:I,handleChange:e=>V({e,item:D,index:C,indexItem:w}),blockForm:(null===(a=D.alternativas.find(e=>{var t;return e.id==(null==D?void 0:null===(t=D.resposta)||void 0===t?void 0:t.id)}))||void 0===a?void 0:a.bloqueiaFormulario)==1,form:y},"".concat(C,"-").concat(w)),D&&D.alternativas&&D.alternativas.length<=1&&"Data"==D.alternativa&&(0,l.jsx)(j.Z,{xs:12,md:6,title:"Data da avalia\xe7\xe3o",disabled:I,value:D.resposta,type:null,name:"blocos[".concat(C,"].itens[").concat(w,"].resposta"),form:y,multiline:!0}),D&&D.alternativas&&D.alternativas.length<=1&&"Dissertativa"==D.alternativa&&(0,l.jsx)(d.Z,{xs:12,md:12,title:"Descreva a resposta",name:"blocos[".concat(C,"].itens[").concat(w,"].resposta"),value:D.resposta,multiline:!0,disabled:I,form:y,className:"py-2",required:!0,dynamic:!0}),D&&((null==D?void 0:null===(x=D.resposta)||void 0===x?void 0:x.observacao)==1||"Data"==D.alternativa&&(null===(m=null==D?void 0:D.alternativas[0])||void 0===m?void 0:m.observacao)==1)&&(0,l.jsx)(d.Z,{xs:12,md:6,title:"Observa\xe7\xe3o",name:"blocos[".concat(C,"].itens[").concat(w,"].observacao"),value:null==D?void 0:D.observacao,multiline:!0,disabled:I,form:y})]})}),D&&D.alternativas&&D.alternativas.length<=1&&"Dissertativa longa"==D.alternativa&&(0,l.jsx)(s.Z,{fullWidth:!0,children:(0,l.jsx)(d.Z,{xs:12,md:12,title:"Descreva a resposta",name:"blocos[".concat(C,"].itens[").concat(w,"].resposta"),rows:3,value:D.resposta,multiline:!0,disabled:I,form:y,className:"py-2"})}),D&&((null==D?void 0:D.alternativaID)==5||(null==D?void 0:D.alternativaID)==6||(null==D?void 0:D.alternativaID)==7)&&(null==D?void 0:D.alternativas)&&(null===(u=null==D?void 0:D.alternativas[0])||void 0===u?void 0:null===(h=u.anexosSolicitados)||void 0===h?void 0:h.length)>0&&(null===(v=null==D?void 0:D.alternativas[0])||void 0===v?void 0:v.anexosSolicitados.map((e,t)=>{var a;return(0,l.jsx)(n.ZP,{item:!0,xs:12,md:12,sx:{mb:5},children:(0,l.jsx)(c.Z,{modeTheme:P,handleFileClick:()=>F({...e,itemOpcaoAnexoID:e.itemOpcaoAnexoID}),selectedItem:k,inputRef:L,item:e,loadingFile:null,indexBlock:C,indexItem:w,indexAnexo:t,handleFileSelect:M,folder:"item",handleRemove:N,error:null===(a=y.formState)||void 0===a?void 0:a.errors,disabled:I,form:y},e)})})),D&&(null==D?void 0:null===(p=D.resposta)||void 0===p?void 0:p.anexo)==1&&(null==D?void 0:null===(g=D.resposta)||void 0===g?void 0:g.anexosSolicitados)&&(null==D?void 0:null===(Z=D.resposta)||void 0===Z?void 0:Z.anexosSolicitados.length)>0&&(null==D?void 0:null===(b=D.resposta)||void 0===b?void 0:b.anexosSolicitados.map((e,t)=>{var a;return(0,l.jsx)(n.ZP,{item:!0,xs:12,md:12,sx:{mb:5},children:(0,l.jsx)(c.Z,{modeTheme:P,handleFileClick:()=>F({...e,itemOpcaoAnexoID:e.itemOpcaoAnexoID}),selectedItem:k,inputRef:L,item:e,loadingFile:null,indexBlock:C,indexItem:w,indexAnexo:t,handleFileSelect:M,folder:"item",handleRemove:N,error:null===(a=y.formState)||void 0===a?void 0:a.errors,disabled:I,form:y},e)})}))]},w)};var Z=g},48432:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(85893),n=a(79072),i=a(55343),s=a(29630),o=a(61953),r=a(41470),c=a(22841),d=a(8519),x=a(67836);a(3893);var m=a(75158),u=a(67294);let h=e=>{let{form:t,xs:a,md:i,title:s,name:r,value:d,valueChecked:x}=e,[h,v]=(0,u.useState)(!0),p=()=>{d!=x&&v(!h)};return(0,l.jsx)(n.ZP,{item:!0,xs:a,md:i,children:(0,l.jsx)(o.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,l.jsx)(c.Z,{control:(0,l.jsx)(m.Z,{size:"small",name:r,...t.register(r),checked:h||d==x,onChange:p}),label:s,sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},v=e=>{let{form:t,title:a,name:m,value:u,papelID:v,setResult:p,options:f,hasNaoConformidade:j}=e;return(0,l.jsxs)(n.ZP,{container:!0,spacing:2,children:[v&&1==v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,l.jsxs)(i.Z,{fullWidth:!0,children:[(0,l.jsx)(s.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:a}),(0,l.jsx)(o.Z,{display:"flex",gap:8,children:(0,l.jsx)(r.Z,{row:!0,"aria-label":"colored",name:"colored",value:u.status,onChange(e,t){p({...u,status:t})},children:f&&f.map((e,t)=>(0,l.jsx)(c.Z,{value:e.value,name:m,control:(0,l.jsx)(d.Z,{color:e.color}),label:e.label,disabled:e.disabled}))})})]})}),j&&u.status&&(50==u.status||60==u.status)&&(0,l.jsx)(h,{xs:12,md:12,title:"Gerar n\xe3o conformidade",name:"info.naoConformidade",value:u.status,valueChecked:50,form:t})]}),(0,l.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(i.Z,{fullWidth:!0,children:(0,l.jsx)(x.Z,{label:"Observa\xe7\xe3o de conclus\xe3o (opcional)",placeholder:"Observa\xe7\xe3o de conclus\xe3o (opcional)",defaultValue:u.obsConclusao,multiline:!0,rows:3,onChange(e,t){p({...u,obsConclusao:e.target.value})}})})})]})};var p=v},934:function(e,t,a){var l=a(85893),n=a(76992),i=a(29618),s=a(47028),o=a(67294),r=a(60664),c=a(71798),d=a(21609),x=a(7071),m=a(67074),u=a(17494),h=a(29630),v=a(36599),p=a(23508),f=a(40039);(0,m.ZP)(v.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}});let j=e=>{let{parFormularioID:t,id:a}=e,[m,v]=(0,o.useState)(!1),{user:j}=(0,o.useContext)(f.V),g=async()=>{try{await r.hi.post("/formularios/fornecedor/getMovementHistory/".concat(a),{parFormularioID:t,papelID:j.papelID}).then(e=>{v(e.data)})}catch(e){console.log(e)}};return(0,o.useEffect)(()=>{g()},[]),m&&m.length>0&&(0,l.jsx)("div",{children:(0,l.jsxs)(n.Z,{sx:{borderRadius:"10px",overflow:"hidden",p:2},children:[(0,l.jsx)(i.Z,{expandIcon:(0,l.jsx)(p.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:(0,l.jsxs)("h2",{className:"font-semibold mb-2",children:["Hist\xf3rico de movimenta\xe7\xf5es (",m.length,")"]})}),(0,l.jsx)(s.Z,{children:m&&m.length>0&&m.map((e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-4 items-center",children:[(0,l.jsx)("div",{children:e.data+" "+e.hora}),(0,l.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,l.jsx)(u.Z,{color:c.WR[e.statusAtual].color}),(0,l.jsx)("span",{children:c.WR[e.statusAtual].title}),0==t&&(0,l.jsx)(x.Z,{size:"small",skin:"light",color:c.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center gap-2",children:[(0,l.jsx)(d.Z,{icon:"material-symbols:person-check-outline"}),e.usuario]}),(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center gap-2",children:[(0,l.jsx)(d.Z,{icon:"mage:building-tree"}),e.unidade]})]}),e.observacao&&(0,l.jsx)(h.Z,{variant:"caption",className:"opacity-70",children:"".concat(e.observacao)})]}))})]})})};t.Z=j},67569:function(e,t,a){var l=a(85893),n=a(79072),i=a(61953),s=a(29630),o=a(22841),r=a(75158),c=a(53934);let d=e=>{let{form:t,xs:a,md:d,title:x,index:m,name:u,typePage:h,value:v,edit:p,className:f,helpText:j}=e;return(0,l.jsxs)(n.ZP,{item:!0,xs:a,md:d,className:f,children:[(0,l.jsxs)(i.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(s.Z,{variant:"caption",children:m&&0!=m?"":x}),(0,l.jsx)(o.Z,{control:(0,l.jsx)(r.Z,{size:"small",sx:{ml:4},...t.register(u),defaultChecked:!0==v||1==v||"new"==h,onChange(e){p&&t.setValue(p,!0)}})})]}),j&&(0,l.jsx)("div",{children:(0,l.jsx)(c.Z,{text:j,position:"top"})})]})};t.Z=d},3893:function(e,t,a){var l=a(85893),n=a(79072),i=a(61953),s=a(22841),o=a(75158),r=a(53934),c=a(67294);let d=e=>{let{form:t,xs:a,md:d,title:x,name:m,value:u,disabled:h,onClick:v,helpText:p,helpTextPosition:f}=e;return(0,c.useEffect)(()=>{h&&t.setValue(m,u)},[h,u,t,m]),(0,l.jsx)(n.ZP,{item:!0,xs:null!=a?a:"12",md:null!=d?d:"12",children:(0,l.jsx)(i.Z,{display:"flex",alignItems:"center",justifyContent:"start",sx:{gap:0},children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.Z,{control:(0,l.jsx)(o.Z,{name:m,onClick:v,...t.register(m),defaultChecked:u,disabled:h}),label:x,size:"small",sx:{marginRight:"4px","&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}}),p&&(0,l.jsx)(r.Z,{text:p,position:null!=f?f:"top",className:"relative top-[2px]"})]})})})};t.Z=d},50287:function(e,t,a){var l=a(85893),n=a(79072),i=a(55343),s=a(67836),o=a(62097),r=a(67294),c=a(87536),d=a(71798);let x=e=>{let{form:t,xs:a,md:x,title:m,required:u,disabled:h,type:v,value:p,name:f,multiline:j,typeValidation:g,alertRequired:Z,opacity:b,className:y}=e,z=(0,o.Z)(),[C,w]=(0,r.useState)({}),[D,I]=(0,r.useState)(null),V=Boolean((0,c.U2)(t.formState.errors,f));(0,r.useEffect)(()=>{g&&p&&M(g,f,p)},[g,p,f]);let M=(e,t,a,l)=>{let n=new Date(a+"T00:00:00"),i=(0,d.HD)(e,n,l);w(e=>({...e,[t]:i}))},N=e=>{let t=new Date,a=new Date(e+"T00:00:00");return"dataAtual"===g&&a.toDateString()!==t.toDateString()?"A data deve ser a data atual":"dataPassado"===g&&a>=t?"A data deve ser do passado":"dataFutura"===g&&a<=t?"A data deve ser do futuro":null},S=async e=>{let a=e.target.value,l=N(a);I(l),!l&&(t.setValue(f,a),g&&M(g,f,a)),await t.trigger(f)};return(0,l.jsx)(n.ZP,{item:!0,xs:a,md:x,sx:{my:1},children:(0,l.jsx)("div",{className:y,children:(0,l.jsx)(i.Z,{fullWidth:!0,sx:{position:"relative"},children:(0,l.jsx)(s.Z,{type:null!=v?v:"date",size:"small",label:m,disabled:h,defaultValue:p?(e=>{let t=new Date(e+"T00:00:00"),a=t.getUTCDate().toString().padStart(2,"0"),l=(t.getUTCMonth()+1).toString().padStart(2,"0"),n=t.getUTCFullYear();return"".concat(n,"-").concat(l,"-").concat(a)})(p):"",error:V||!!D,helperText:D,onChange:S,variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{min:"dataFutura"===g?new Date().toISOString().split("T")[0]:void 0,max:"dataPassado"===g?new Date().toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+50)).toISOString().split("T")[0]},sx:{opacity:b?.4:1,"& .MuiInputBase-input":{padding:j?"18px 14px":"10px 14px"},...(u||Z)&&(V||!!D)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:z.palette.error.main},"&:hover fieldset":{borderColor:z.palette.error.main},"&.Mui-focused fieldset":{borderColor:z.palette.error.main}},"& .MuiInputLabel-root":{color:z.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:z.palette.error.main}}},...t.register(f,{required:u})})})})})};t.Z=x},88475:function(e,t,a){var l=a(85893),n=a(79072),i=a(61953),s=a(29630),o=a(17575),r=a(80562),c=a(21609);let d=e=>{let{xs:t,md:a,icon:d,color:x,title:m,removeItem:u,item:h,pending:v,index:p,textSuccess:f,textError:j}=e;return f=f||"Remover este item",j=j||"Este item n\xe3o pode ser removido pois possui cadastros vinculados a ele",(0,l.jsx)(n.ZP,{item:!0,xs:t,md:a,children:(0,l.jsxs)(i.Z,{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(s.Z,{variant:"caption",children:m}),(0,l.jsx)(o.Z,{title:1==v?j:f,children:(0,l.jsx)(r.Z,{color:null!=x?x:"error",size:"small",onClick(){1!=v&&u(h,p)},sx:{opacity:1==v?.5:1,cursor:1==v?"default":"pointer"},children:(0,l.jsx)(c.Z,{icon:null!=d?d:"tabler:trash-filled"})})})]})})};t.Z=d},73731:function(e,t,a){var l=a(85893),n=a(70754);let i=e=>{let{show:t,title:a}=e;return t&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-gray-900 z-50",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 ",children:[(0,l.jsx)(n.Z,{size:20,color:"primary"}),(0,l.jsx)("p",{className:"text-sm opacity-80 text-white ",children:null!=a?a:"Carregando..."})]})})};t.Z=i},10179:function(e,t,a){var l=a(85893);t.Z=function(e){return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",height:"1em",width:"1em",...e,children:(0,l.jsx)("path",{d:"M12.71 11.29a1 1 0 00-.33-.21 1 1 0 00-.76 0 1 1 0 00-.33.21l-2 2a1 1 0 001.42 1.42l.29-.3V17a1 1 0 002 0v-2.59l.29.3a1 1 0 001.42 0 1 1 0 000-1.42zM20 8.94a1.31 1.31 0 00-.06-.27v-.09a1.07 1.07 0 00-.19-.28l-6-6a1.07 1.07 0 00-.28-.19h-.1a1.1 1.1 0 00-.31-.11H7a3 3 0 00-3 3v14a3 3 0 003 3h10a3 3 0 003-3V9v-.06zm-6-3.53L16.59 8H15a1 1 0 01-1-1zM18 19a1 1 0 01-1 1H7a1 1 0 01-1-1V5a1 1 0 011-1h5v3a3 3 0 003 3h3z"})})}}}]);