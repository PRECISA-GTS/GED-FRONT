"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3757],{92629:function(e,t,o){var l=o(85893),a=o(54225),n=o(1890),i=o(77745),r=o(95398),s=o(76779),d=o(29630),c=o(60664),u=o(67294),x=o(83830),m=o(86501),p=o(40039);let h=e=>{let{title:t,description:o,open:h,handleClose:f,params:v}=e,{setId:j}=(0,u.useContext)(x.X),{user:b,loggedUnity:g}=(0,u.useContext)(p.V),Z=async()=>{try{await c.hi.delete("".concat(v.route,"/").concat(b.usuarioID,"/").concat(g.unidadeID)),m.ZP.success(v.messageSucceded),j(null)}catch(e){console.log(e),m.ZP.error(v.MessageError)}finally{f()}};return(0,l.jsxs)(n.Z,{open:h,children:[(0,l.jsx)(i.Z,{id:"form-dialog-title",children:t}),(0,l.jsx)(r.Z,{children:(0,l.jsx)(d.Z,{variant:"body1",children:o})}),(0,l.jsxs)(s.Z,{className:"dialog-actions-dense",children:[(0,l.jsx)(a.Z,{variant:"outlined",color:"secondary",onClick:f,children:"Cancelar"}),(0,l.jsx)(a.Z,{variant:"contained",color:"error",onClick:Z,children:"Confirmar"})]})]})};t.Z=h},80377:function(e,t,o){o.d(t,{Z:function(){return A}});var l=o(85893),a=o(11163),n=o.n(a),i=o(54225),r=o(1890),s=o(77745),d=o(95398),c=o(76779),u=o(44642),x=o(40039),m=o(19604),p=o(29630),h=o(67294),f=o(79072),v=o(55343),j=o(61953),b=o(41470),g=o(22841),Z=o(8519),y=o(67836);o(3893);var C=o(75158);let w=e=>{let{xs:t,md:o,title:a,name:n,value:i,valueChecked:r,register:s}=e,[d,c]=(0,h.useState)(!0),u=()=>{i!=r&&c(!d)};return(0,l.jsx)(f.ZP,{item:!0,xs:t,md:o,children:(0,l.jsx)(j.Z,{display:"flex",flexDirection:"column",alignItems:"start",children:(0,l.jsx)(g.Z,{control:(0,l.jsx)(C.Z,{size:"small",name:n,...s(n),checked:d||i==r,onChange:u}),label:a,sx:{"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})})})},D=e=>{let{title:t,name:o,value:a,papelID:n,register:i,setValue:r,setResult:s,options:d,hasNaoConformidade:c}=e;return console.log("\uD83D\uDE80 ~ Result:",o),(0,l.jsxs)(f.ZP,{container:!0,spacing:2,sx:{mt:4},children:[n&&1==n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.ZP,{item:!0,xs:12,md:12,children:(0,l.jsxs)(v.Z,{fullWidth:!0,children:[(0,l.jsx)(p.Z,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:t}),(0,l.jsx)(j.Z,{display:"flex",gap:8,children:(0,l.jsx)(b.Z,{row:!0,"aria-label":"colored",name:"colored",value:a.status,onChange(e,t){s({...a,status:t})},children:d&&d.map((e,t)=>(0,l.jsx)(g.Z,{value:e.value,name:o,control:(0,l.jsx)(Z.Z,{color:e.color}),label:e.label,disabled:e.disabled}))})})]})}),c&&a.status&&(50==a.status||60==a.status)&&(0,l.jsx)(w,{xs:12,md:12,title:"Gerar n\xe3o conformidade",name:"info.naoConformidade",value:a.status,valueChecked:50,register:i})]}),(0,l.jsx)(f.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(v.Z,{fullWidth:!0,children:(0,l.jsx)(y.Z,{label:"Observa\xe7\xe3o de conclus\xe3o (opcional)",placeholder:"Observa\xe7\xe3o de conclus\xe3o (opcional)",defaultValue:a.obsConclusao,multiline:!0,rows:4,onChange(e,t){s({...a,obsConclusao:e.target.value})}})})})]})};var S=o(99070),R=o(82555),W=o(74811),T=o(55334),I=o(62813);let F=e=>{let{title:t,text:o,handleClose:a,openModal:f,conclusionForm:v,info:j,canChange:b,btnCancel:g,btnConfirm:Z,register:y,setValue:C,listErrors:w,canApprove:F,hasNaoConformidade:A,handleSend:P,type:z,unity:k}=e,{user:L,loggedUnity:E}=(0,h.useContext)(x.V),[G,M]=(0,h.useState)({}),{data:V}=(0,R.O)(),O=n(),N=O.pathname.split("/")[2],B=()=>(0,l.jsx)(S.BB,{children:(0,l.jsx)(S.T3,{size:"A4",style:{paddingHorizontal:25},children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(W.Z,{data:V}),"fornecedor"===N&&(0,l.jsx)(T.default,{values:V},V),(0,l.jsx)(I.Z,{})]})})});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{open:f,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,onClose(e,t){"backdropClick"!==t&&a()},children:[(0,l.jsx)(s.Z,{id:"form-dialog-title",children:t}),(0,l.jsx)(d.Z,{children:(0,l.jsxs)(u.Z,{sx:{mb:3},children:[j.status<=40&&(0,l.jsxs)(l.Fragment,{children:[o,w&&w.status&&(0,l.jsxs)(m.Z,{variant:"outlined",severity:"error",sx:{mt:2},children:["Por favor, verifique os campos abaixo:",(0,l.jsx)(p.Z,{variant:"subtitle1",color:"error",sx:{mt:2},children:w.errors.map((e,t)=>(0,l.jsxs)(p.Z,{variant:"body2",color:"error",children:["- ",e]},t))})]}),w&&2==L.papelID&&!w.status&&(0,l.jsx)(m.Z,{severity:"info",sx:{mt:2},children:2==k.quemPreenche&&"fornecedor"==z?"Ap\xf3s concluir o formul\xe1rio, o mesmo ser\xe1 enviado para an\xe1lise e conclus\xe3o da empresa ".concat(null==k?void 0:k.nomeFantasia,"!"):"Ap\xf3s concluir o formul\xe1rio, o mesmo n\xe3o poder\xe1 mais ser alterado!"}),!F&&(0,l.jsx)(m.Z,{severity:"error",sx:{mt:2},children:"Este formul\xe1rio n\xe3o pode ser aprovado pois possui resposta que gera n\xe3o conformidade"}),1==L.papelID&&(0,l.jsx)(D,{title:1==L.papelID?"Resultado do Processo":"Observa\xe7\xe3o",name:"status",value:G,register:y,setValue:C,setResult:M,papelID:L.papelID,hasNaoConformidade:A,options:[{value:70,color:"success",label:"Aprovado",disabled:!F},{value:60,color:"warning",label:"Aprovado Parcial"},{value:50,color:"error",label:"Reprovado"}]})]}),j.status>=40&&j.naoConformidade&&(0,l.jsx)(p.Z,{variant:"body1",sx:{mt:2},children:"Concluir n\xe3o conformidades do formul\xe1rio? Ap\xf3s concluir, o mesmo n\xe3o poder\xe1 mais ser alterado!"})]})}),(0,l.jsxs)(c.Z,{className:"dialog-actions-dense",children:[g&&(0,l.jsx)(i.Z,{variant:"outlined",color:"primary",onClick:a,children:"Fechar"}),Z&&b&&(0,l.jsx)(S.z6,{document:(0,l.jsx)(B,{}),children(e){let{blob:t,url:o,loading:a,error:n}=e;return(0,l.jsx)(i.Z,{variant:"contained",disabled:j.status<40&&(w&&w.status||1==L.papelID&&!G.status),color:"primary",onClick(){v(G,t)},children:"Concluir"})}})]})]})})};var A=F},34282:function(e,t,o){var l=o(85893),a=o(67294),n=o(54225),i=o(1890),r=o(77745),s=o(95398),d=o(76779),c=o(44642),u=o(21609),x=o(60664),m=o(79072),p=o(55343),h=o(35966),f=o(67836),v=o(19604),j=o(61953),b=o(64165),g=o(40039),Z=o(7071),y=o(67074),C=o(17494),w=o(87413),D=o(29630),S=o(72162),R=o(9601),W=o(51221),T=o(36599),I=o(45061);let F=(0,y.ZP)(T.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),A=e=>{var t;let{id:o,parFormularioID:y,formStatus:T,hasFormPending:A,title:P,text:z,handleClose:k,openModal:L,handleSubmit:E,btnCancel:G,btnConfirm:M,canChangeStatus:V,btnConfirmColor:O}=e,[N,B]=(0,a.useState)(!1),{user:H,loggedUnity:q}=(0,a.useContext)(g.V),[U,Y]=(0,a.useState)(null),[_,Q]=(0,a.useState)(""),[J,K]=(0,a.useState)(!1);console.log("selectedStatus: ",U);let X=async()=>{try{await x.hi.post("/formularios/fornecedor/getMovementHistory/".concat(o),{parFormularioID:y}).then(e=>{B(e.data)})}catch(e){console.log(e)}},$=[];for(let ee in b.WR)30==parseInt(ee)&&parseInt(ee)!=T&&$.push({id:parseInt(ee),nome:b.WR[ee].title});return(0,a.useEffect)(()=>{X()},[J]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.Z,{open:L,onClose:k,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(r.Z,{id:"form-dialog-title",children:P}),(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(c.Z,{sx:{mb:3},children:z}),V&&(0,l.jsxs)(m.ZP,{container:!0,spacing:4,children:[(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(p.Z,{fullWidth:!0,children:(0,l.jsx)(h.Z,{options:$,defaultValue:$.find(e=>e.id===U),id:"autocomplete-outlined",getOptionLabel:e=>e.nome,onChange(e,t){Y(null==t?void 0:t.id)},renderInput:e=>(0,l.jsx)(f.Z,{...e,name:"formulario.status",label:"Alterar Status do Formul\xe1rio",placeholder:"Alterar Status do Formul\xe1rio"})})})}),U&&U>0&&(0,l.jsx)(m.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(p.Z,{fullWidth:!0,children:(0,l.jsx)(f.Z,{id:"outlined-multiline-static",label:"Observa\xe7\xe3o",multiline:!0,rows:4,placeholder:"Observa\xe7\xe3o",variant:"outlined",onChange:e=>Q(e.target.value)})})})]}),H&&1==H.papelID&&A&&(0,l.jsx)(v.Z,{severity:"warning",sx:{mb:4},children:"O Status n\xe3o pode mais ser alterado pois j\xe1 est\xe1 sendo utilizado em outro formul\xe1rio!"}),(0,l.jsx)(j.Z,{children:(0,l.jsx)(F,{children:N&&N.length>0&&N.map((e,t)=>(0,l.jsxs)(w.Z,{children:[(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(C.Z,{color:b.WR[e.statusAtual].color}),(0,l.jsx)(W.Z,{})]}),(0,l.jsxs)(S.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,l.jsxs)(j.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(D.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:[e.data+" - "+e.hora+" ",0==t&&(0,l.jsx)(Z.Z,{size:"small",skin:"light",color:b.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsx)(D.Z,{variant:"caption",children:e.usuario})]}),(0,l.jsxs)(j.Z,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)(D.Z,{variant:"body2",sx:{color:"text.primary"},children:[(0,l.jsx)("span",{children:b.WR[e.statusAnterior].title}),(0,l.jsx)(u.Z,{icon:"mdi:arrow-right",fontSize:20,style:{display:"inline-block"}}),(0,l.jsx)("span",{children:b.WR[e.statusAtual].title})]}),(0,l.jsx)(D.Z,{variant:"caption",children:e.unidade})]}),null!=e.observacao&&(0,l.jsx)(j.Z,{children:(0,l.jsx)(D.Z,{variant:"caption",children:e.observacao})})]})]}))})})]}),(0,l.jsxs)(d.Z,{className:"dialog-actions-dense",children:[G&&(0,l.jsx)(n.Z,{variant:"outlined",color:"primary",onClick:k,children:"Fechar"}),M&&H&&1==H.papelID&&!A&&V&&(0,l.jsx)(n.Z,{variant:"contained",color:"primary",onClick:()=>1==y?K(!0):E(U,_),disabled:!U,children:"Confirmar"})]})]}),(0,l.jsx)(I.Z,{openModal:J,handleClose:()=>K(!1),title:"Confirmar Altera\xe7\xe3o",text:'Deseja realmente alterar o status do formul\xe1rio para "'.concat(null===(t=b.WR[U])||void 0===t?void 0:t.title,'" ? O mesmo ficar\xe1 dispon\xedvel para a edi\xe7\xe3o do Fornecedor novamente.'),btnCancel:!0,btnConfirm:!0,btnConfirmColor:"primary",handleSubmit(){E(U,_),K(!1),Y(null)}})]})};t.Z=A},91757:function(e,t,o){var l=o(85893),a=o(29308);let n=e=>{let{control:t,register:o}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(a.Z,{name:"obs",title:"Observa\xe7\xe3o",register:o,control:t,defaultValue:"",multiline:!0,rows:6})})};t.Z=n},66841:function(e,t,o){o.d(t,{Z:function(){return b}});var l=o(85893),a=o(49837),n=o(91359),i=o(79072),r=o(29630),s=o(41470),d=o(22841),c=o(8519),u=o(67294),x=o(50287),m=o(29308),p=o(61953),h=o(17575),f=o(21609);let v=e=>{let{xs:t,md:o,index:a,values:n,totalColumns:r,blockIndex:u,item:x,defaultValue:m,name:v,control:j,changeAllOptions:b,disabled:g,errors:Z,handleChange:y,blockForm:C}=e;return console.log("renderiza RadioLabel....",x),(0,l.jsx)(i.ZP,{item:!0,xs:t,md:o,children:(0,l.jsx)(s.Z,{row:!0,name:v,defaultValue:m,onChange:y,children:n&&n.map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,l.jsxs)(p.Z,{display:"flex",alignItems:"center",sx:{gap:2},children:[(0,l.jsx)(d.Z,{value:e.id,control:(0,l.jsx)(c.Z,{disabled:g,error:!!Z}),label:e.nome,fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary"},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}},t),C&&t==n.length-1&&(0,l.jsx)(h.Z,{title:"Esta resposta impede a aprova\xe7\xe3o deste formul\xe1rio e obrigatoriamente ser\xe1 gerada uma N\xe3o Conformidade (plano de a\xe7\xe3o)",placement:"top",arrow:!0,children:(0,l.jsx)("p",{children:(0,l.jsx)(f.Z,{icon:"typcn:warning",color:"#FFC107"})})})]})},t))})})},j=e=>{let{setBlocos:t,setValue:o,blocos:p,getValues:h,register:f,control:j,disabled:b,errors:g}=e;if(!p)return null;let[Z,y]=(0,u.useState)(Array(p.length).fill(null)),C=e=>{let{e:l,item:a,index:n,indexItem:i}=e,r=[...p],s=a.alternativas.find(e=>e.id==l.target.value);r[n].itens[i].resposta=s,t(r),o("blocos[".concat(n,"].itens[").concat(i,"].resposta"),s)},w=(e,l,a)=>{e.itens.forEach((e,t)=>{o("blocos[".concat(l,"].itens[").concat(t,"].resposta"),e.alternativas[a])}),t(e=>{let t=[...e];return t[l].itens.forEach((e,t)=>{e.resposta=e.alternativas[a]}),t}),y(e=>{let t=[...e];return t[l]=a,t})},D=e=>{let t=0;return e.itens&&e.itens.map(e=>{e.alternativas.length>t&&(t=e.alternativas.length)}),t};return p.map((e,t)=>(0,l.jsx)(a.Z,{children:(0,l.jsx)(n.Z,{children:(0,l.jsxs)(i.ZP,{container:!0,children:[(0,l.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{color:"primary",variant:"subtitle1",sx:{fontWeight:700,mb:6},children:null==e?void 0:e.nome})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(s.Z,{row:!0,value:Z[t],children:[...Array(D(e))].map((o,a)=>(0,l.jsx)(i.ZP,{item:!0,xs:12,md:3,children:(0,l.jsx)(d.Z,{value:a,control:(0,l.jsx)(c.Z,{disabled:b,error:!!g}),onChange:()=>w(e,t,a),label:"Todos",fullWidth:!0,sx:{"& .MuiFormControlLabel-label":{color:"text.secondary",fontWeight:600},"&:hover":{"& .MuiFormControlLabel-label":{color:"primary.main"}}}})},a))})}),e.itens.map((e,o)=>{var a,n,s,d,c,u,p,Z,y,w,D,S;return(0,l.jsxs)(i.ZP,{container:!0,spacing:2,sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(t,"].itens[").concat(o,"].itemID"),defaultValue:e.itemID,...f("blocos[".concat(t,"].itens[").concat(o,"].itemID"))}),(0,l.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(r.Z,{variant:"subtitle1",sx:{fontWeight:400,color:e.obrigatorio&&null==h("blocos[".concat(t,"].itens[").concat(o,"].resposta"))?"error.main":"text.primary"},children:null==e?void 0:e.nome})}),(0,l.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,l.jsx)("input",{type:"hidden",name:"blocos[".concat(t,"].itens[").concat(o,"].tipoAlternativa"),defaultValue:e.alternativa,...f("blocos[".concat(t,"].itens[").concat(o,"].tipoAlternativa"))}),e&&e.alternativas&&e.alternativas.length>1&&(0,l.jsx)(v,{xs:12,md:12,blockIndex:t,control:j,index:o,defaultValue:null==e?void 0:null===(a=e.resposta)||void 0===a?void 0:a.id,totalColumns:3,values:e.alternativas,name:"blocos[".concat(t,"].itens[").concat(o,"].resposta"),item:e,disabled:b,handleChange:l=>C({e:l,item:e,index:t,indexItem:o}),errors:null===(s=null==g?void 0:null===(n=g[t])||void 0===n?void 0:n.itens[o])||void 0===s?void 0:s.resposta,blockForm:(null===(d=e.respostaConfig)||void 0===d?void 0:d.bloqueiaFormulario)==1},"".concat(t,"-").concat(o)),e&&e.alternativas&&0==e.alternativas.length&&"Data"==e.alternativa&&(0,l.jsx)(x.Z,{xs:12,md:6,title:"Data da avalia\xe7\xe3o",disabled:b,value:e.resposta,type:null,name:"blocos[".concat(t,"].itens[").concat(o,"].resposta"),errors:null===(u=null==g?void 0:null===(c=g[t])||void 0===c?void 0:c.itens[o])||void 0===u?void 0:u.resposta,control:j,register:f}),e&&e.alternativas&&0==e.alternativas.length&&"Dissertativa"==e.alternativa&&(0,l.jsx)(m.Z,{xs:12,md:6,title:"Descreva a resposta",name:"blocos[".concat(t,"].itens[").concat(o,"].resposta"),value:e.resposta,multiline:!0,disabled:b,control:j,errors:null===(Z=null==g?void 0:null===(p=g[t])||void 0===p?void 0:p.itens[o])||void 0===Z?void 0:Z.resposta}),e&&(null==e?void 0:null===(y=e.resposta)||void 0===y?void 0:y.observacao)==1&&(0,l.jsx)(m.Z,{xs:12,md:6,title:"Observa\xe7\xe3o",name:"blocos[".concat(t,"].itens[").concat(o,"].observacao"),value:null==e?void 0:e.observacao,multiline:!0,disabled:b,control:j})]})}),e&&e.alternativas&&0==e.alternativas.length&&"Dissertativa longa"==e.alternativa&&(0,l.jsx)(FormControl,{fullWidth:!0,children:(0,l.jsx)(m.Z,{xs:12,md:12,title:"Descreva a resposta",name:"blocos[".concat(t,"].itens[").concat(o,"].resposta"),rows:6,value:e.resposta,multiline:!0,disabled:b,control:j,errors:null===(S=null==g?void 0:null===(w=g.blocos)||void 0===w?void 0:null===(D=w[t])||void 0===D?void 0:D.itens[o])||void 0===S?void 0:S.resposta})}),e&&e.respostaConfig&&1==e.respostaConfig.anexo&&e.respostaConfig.anexosSolicitados.length>0&&e.respostaConfig.anexosSolicitados.map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:12,md:12,sx:{mb:5}}))]},o)})]})})},Math.random()))};var b=j},56531:function(e,t,o){var l=o(85893),a=o(29308),n=o(84220),i=o(50287);let r=e=>{let{register:t,errors:o,setValue:r,fields:s,disabled:d,disabledFields:c,getAddressByCep:u,control:x,setNameSelected:m,setColumnSelected:p,getValues:h,setOpenModalNew:f}=e,v=e=>{switch(e){case"telefone":case"telefone1":case"telefone2":return"telefone";case"cep":return"cep";case"cnpj":return"cnpj";default:return null}},j=e=>!!c&&c.length>0&&c.includes(e),b=async(e,t)=>{p(e),f(!0),m(t)};return s&&s.map((e,s)=>{var c,m,p,h,f,g,Z,y;return(0,l.jsxs)(l.Fragment,{children:[e&&"int"===e.tipo&&e.tabela&&(0,l.jsx)(n.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(s,"].").concat(e.tabela),createNew:"transportadorID"===e.nomeColuna||"tipoVeiculoID"===e.nomeColuna?()=>b(e.nomeColuna,"fields[".concat(s,"].").concat(e.tabela)):null,type:e.tabela,options:e.options,value:null==e?void 0:e[e.tabela],mask:e.tabela,disabled:d||j(e.nomeColuna),register:t,setValue:r,control:x,errors:null==o?void 0:null===(c=o.fields)||void 0===c?void 0:null===(m=c[s])||void 0===m?void 0:m[e.tabela],alertRequired:1===e.obrigatorio},"select-".concat(s)),e&&"date"==e.tipo&&(0,l.jsx)(i.Z,{xs:12,md:4,title:"Data da avalia\xe7\xe3o",disabled:d||j(e.nomeColuna),value:null!==(Z=null==e?void 0:e[e.nomeColuna])&&void 0!==Z?Z:new Date,type:e.nomeColuna,name:"fields[".concat(s,"].").concat(e.nomeColuna),errors:null==o?void 0:null===(p=o.fields)||void 0===p?void 0:null===(h=p[s])||void 0===h?void 0:h[e.nomeColuna],control:x,typeValidation:"dataPassado",daysValidation:365,register:t,alertRequired:1===e.obrigatorio},"datefield-".concat(s)),e&&"string"==e.tipo&&(0,l.jsx)(a.Z,{xs:12,md:4,title:e.nomeCampo,name:"fields[".concat(s,"].").concat(e.nomeColuna),register:t,control:x,value:null!==(y=null==e?void 0:e[e.nomeColuna])&&void 0!==y?y:"",errors:null==o?void 0:null===(f=o.fields)||void 0===f?void 0:null===(g=f[s])||void 0===g?void 0:g.nomeColuna,type:e.nomeColuna,getAddressByCep:u,mask:v(e.nomeColuna),disabled:!!(d||j(e.nomeColuna))||"cnpj"==e.nomeColuna,alertRequired:1===e.obrigatorio},"input-".concat(s))]})})};t.Z=r},934:function(e,t,o){var l=o(85893),a=o(49837),n=o(91359),i=o(61953),r=o(67294),s=o(60664),d=o(64165),c=o(21609),u=o(7071),x=o(67074),m=o(17494),p=o(87413),h=o(29630),f=o(72162),v=o(9601),j=o(51221),b=o(36599);let g=(0,x.ZP)(b.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"}}}),Z=e=>{let{parFormularioID:t,id:o}=e,[x,b]=(0,r.useState)(!1),Z=async()=>{try{await s.hi.post("/formularios/fornecedor/getMovementHistory/".concat(o),{parFormularioID:t}).then(e=>{b(e.data)})}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{Z()},[]),(0,l.jsx)(a.Z,{children:(0,l.jsxs)(n.Z,{children:[(0,l.jsx)("h2",{className:"font-semibold mb-2",children:"Hist\xf3rico de movimenta\xe7\xf5es"}),(0,l.jsx)(i.Z,{children:(0,l.jsx)(g,{children:x&&x.length>0&&x.map((e,t)=>(0,l.jsxs)(p.Z,{children:[(0,l.jsxs)(v.Z,{children:[(0,l.jsx)(m.Z,{color:d.WR[e.statusAtual].color}),t<x.length-1&&(0,l.jsx)(j.Z,{})]}),(0,l.jsxs)(f.Z,{sx:{"& svg":{verticalAlign:"bottom",mx:4}},children:[(0,l.jsxs)(i.Z,{sx:{mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(h.Z,{variant:"body2",className:"flex items-center",sx:{color:"text.primary"},children:[(0,l.jsx)("span",{children:"Inativo"==d.WR[e.statusAnterior].title?"In\xedcio":d.WR[e.statusAnterior].title}),(0,l.jsx)(c.Z,{icon:"mdi:arrow-right"}),(0,l.jsx)("span",{children:d.WR[e.statusAtual].title})]}),(0,l.jsx)(h.Z,{variant:"body2",sx:{mr:2,fontWeight:600,color:"text.primary"},children:e.data+" - "+e.hora+" "}),0==t&&(0,l.jsx)(u.Z,{size:"small",skin:"light",color:d.WR[e.statusAtual].color,label:"Atual",sx:{"& .MuiChip-label":{textTransform:"capitalize"}}})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center",children:[(0,l.jsx)(c.Z,{icon:"iconoir:user"}),e.usuario]}),(0,l.jsxs)(h.Z,{variant:"caption",className:"flex items-center gap-0",children:[(0,l.jsx)(c.Z,{icon:"mdi:company"}),e.unidade]})]})]}),null!=e.observacao&&(0,l.jsx)(i.Z,{children:(0,l.jsx)(h.Z,{variant:"caption",children:e.observacao})})]})]}))})})]})})};t.Z=Z},50287:function(e,t,o){var l=o(85893),a=o(79072),n=o(55343),i=o(67836),r=o(87536),s=o(62097),d=o(67294),c=o(64165);let u=e=>{let{xs:t,md:o,title:u,required:x,disabled:m,type:p,value:h,name:f,typeValidation:v,errors:j,alertRequired:b,control:g}=e,Z=(0,s.Z)(),[y,C]=(0,d.useState)({}),[w,D]=(0,d.useState)(null);(0,d.useEffect)(()=>{v&&h&&R(v,f,h)},[v,h,f]);let S=e=>{let t=new Date(e+"T00:00:00"),o=t.getUTCDate().toString().padStart(2,"0"),l=(t.getUTCMonth()+1).toString().padStart(2,"0"),a=t.getUTCFullYear();return"".concat(a,"-").concat(l,"-").concat(o)},R=(e,t,o,l)=>{let a=new Date(o+"T00:00:00"),n=(0,c.HD)(e,a,l);C(e=>({...e,[t]:n}))},W=e=>{let t=new Date,o=new Date(e+"T00:00:00");return"dataAtual"===v&&o.toDateString()!==t.toDateString()?(D("A data deve ser a data atual"),!1):"dataPassado"===v&&o>=t?(D("A data deve ser do passado"),!1):"dataFutura"===v&&o<=t?(D("A data deve ser do futuro"),!1):(D(null),!0)};return(0,l.jsx)(a.ZP,{item:!0,xs:t,md:o,sx:{my:1},children:(0,l.jsx)(n.Z,{fullWidth:!0,children:(0,l.jsx)(r.Qr,{name:f,control:g,rules:{required:x},render(e){let{field:t}=e;return(0,l.jsx)(i.Z,{type:null!=p?p:"date",size:"small",label:u,disabled:!!m,defaultValue:h?S(h):"",error:!!j||!!w,helperText:w,onChange(e){let o=e.target.value;W(o)&&(t.onChange(o),v&&R(v,f,o))},variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{min:"dataFutura"===v?new Date().toISOString().split("T")[0]:void 0,max:"dataPassado"===v?new Date().toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+50)).toISOString().split("T")[0]},sx:{...b&&!(null==t?void 0:t.value)&&{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Z.palette.error.main},"&:hover fieldset":{borderColor:Z.palette.error.main},"&.Mui-focused fieldset":{borderColor:Z.palette.error.main}},"& .MuiInputLabel-root":{color:Z.palette.error.main},"& .MuiInputLabel-root.Mui-focused":{color:Z.palette.error.main}}}})}})})})};t.Z=u},62813:function(e,t,o){var l=o(85893),a=o(99070);let n=()=>{let e=a.mM.create({footer:{position:"absolute",bottom:20,color:"grey",width:"100vw",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10}});return(0,l.jsxs)(a.G7,{fixed:!0,style:e.footer,children:[(0,l.jsxs)(a.xv,{children:["Gerado em"," ",new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,l.jsx)(a.xv,{render(e){let{pageNumber:t,totalPages:o}=e;return"".concat(t,"/").concat(o)}})]})};t.Z=n},74811:function(e,t,o){var l=o(85893),a=o(99070),n=o(67294),i=o(60664);let r={header:{position:"fixed",top:5,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},title:{textAlign:"center"},imageContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"flex-end"},image:{aspectRatio:1,objectFit:"contain",height:"100%",marginLeft:"auto"}},s=e=>{var t,o;let{data:s}=e,[d,c]=(0,n.useState)(null),u=async()=>{try{let e=await i.hi.post("/relatorio/getHeader",{unidadeID:s.user.unidadeID});c(e.data),console.log("\uD83D\uDE80 ~ Header data:: ",e.data)}catch(t){console.error("Erro ao buscar os dados do cabe\xe7alho:",s)}};return(0,n.useEffect)(()=>{u()},[]),d&&(0,l.jsxs)(a.G7,{style:r.header,children:[(0,l.jsx)(a.G7,{style:{width:"10%"},children:(0,l.jsx)(a.xv,{})}),(0,l.jsxs)(a.G7,{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:5},children:[(0,l.jsx)(a.xv,{style:[r.title,r.content,{width:"100%"}],children:null!==(t=null==d?void 0:d.tituloRelatorio)&&void 0!==t?t:"Cabe\xe7alho n\xe3o definido"}),(0,l.jsx)(a.xv,{style:[r.title,r.content,{width:"60%",fontSize:8}],children:null!==(o=null==d?void 0:d.endereco)&&void 0!==o?o:"Endere\xe7o n\xe3o definido"}),(0,l.jsx)(a.xv,{style:[r.title,r.content,{width:"100%",fontSize:8}],children:"CNPJ: ".concat(null==d?void 0:d.cnpj)})]}),(0,l.jsx)(a.G7,{style:[r.imageContainer,{width:"10%"}],children:(null==d?void 0:d.url)?(0,l.jsx)(a.Ee,{src:i.YZ+(null==d?void 0:d.url),style:r.image}):""})]})};t.Z=s},43776:function(e,t,o){o.d(t,{W:function(){return a}});var l=o(99070);let a=l.mM.create({page:{flexDirection:"column",backgroundColor:"#FFF",justifyContent:"start",paddingTop:15,paddingBottom:30},title:{},header:{position:"fixed",top:-10,left:0,right:0,margin:"0 auto",fontSize:12,height:50,width:"92%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{marginHorizontal:10,fontSize:11,padding:15,flex:1},footer:{position:"absolute",bottom:20,color:"grey",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:25,fontSize:10},blockTitle:{paddingVertical:5},containerFields:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",paddingTop:2},fields:{display:"flex",flexDirection:"column",gap:"2px",paddingBottom:4,paddingTop:4},fieldTitle:{fontSize:8,opacity:"0.8"},fieldValue:{fontSize:10},separator:{height:"1px",width:"100%",borderBottom:"1px solid #ddd",clear:"both"},table:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ddd",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableRed:{width:"100%",display:"flex",flexDirection:"column",borderRight:"1px solid #ff625d",borderTop:"1px solid #ff625d",borderLeft:"1px solid #ff625d",borderBottom:"1px solid #ff625d",borderTopLeftRadius:3,borderTopRightRadius:3,borderBottomLeftRadius:3,borderBottomRightRadius:3},tableTitle:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#EEE",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #ddd"},tableTitleRed:{display:"flex",flexDirection:"row",width:"100%",fontSize:8,backgroundColor:"#f8e2e2",borderTopLeftRadius:2,borderTopRightRadius:2,borderLeft:"1px solid #f8e2e2"},tableTitlecolumn:{padding:8},tableContainer:{display:"flex",flexDirection:"row",width:"100%"},tableContent:{padding:8,borderLeft:"1px solid #ddd",borderTop:"1px solid #ddd"},tableContentRed:{paddingHorizontal:8,paddingVertical:0,borderLeft:"1px solid #f8e2e2",borderTop:"1px solid #f8e2e2"},tableContentcolumn:{fontSize:9}})},55334:function(e,t,o){o.r(t);var l=o(85893),a=o(99070),n=o(67294),i=o(43776),r=o(60664);let s=e=>{var t,o,s,d,c,u,x,m;let{values:p}=e;if(!p)return;let[h,f]=(0,n.useState)(null),v=async()=>{let e=await r.hi.post("relatorio/formularios/fornecedor/getContent",p);f(e.data)};return(0,n.useEffect)(()=>{v()},[]),h&&(0,l.jsxs)(a.G7,{style:{width:"100%"},children:[(0,l.jsx)(a.G7,{style:{padding:3,backgroundColor:"#eee",marginTop:20,border:"1px solid #ddd"},children:(0,l.jsx)(a.xv,{style:{width:"100%",textAlign:"center",fontSize:12},children:"QUALIFICA\xc7\xc3O DE FORNECEDORES"})}),(0,l.jsx)(a.G7,{style:{marginTop:20},children:(0,l.jsxs)(a.xv,{style:{fontSize:10},children:["A empresa ",(0,l.jsx)(a.xv,{children:null==h?void 0:h.unidade})," possui como norma de BPF a avalia\xe7\xe3o de seus fornecedores quanto as mat\xe9rias primas e ingredientes por estes fornecidos."]})}),"Fornecedor",(0,l.jsx)(a.G7,{style:{marginTop:20},children:(0,l.jsxs)(a.xv,{style:{fontSize:10},children:["Fornecedor: ",(0,l.jsx)(a.xv,{style:{fontWeight:"bold",fontSize:10},children:h.fornecedor})]})}),(0,l.jsx)(a.G7,{style:{marginTop:20},children:(0,l.jsxs)(a.xv,{style:{fontSize:10},children:[(null==h?void 0:null===(t=h.produtos)||void 0===t?void 0:t.length)>1?"Produtos fornecidos: ":"Produto fornecido: ",null==h?void 0:null===(o=h.produtos)||void 0===o?void 0:o.map((e,t)=>(0,l.jsxs)(a.xv,{children:[(0,l.jsx)(a.xv,{style:{fontWeight:"bold",fontSize:10},children:e.produtos}),t!==h.produtos.length-1&&", "]},t))]})}),(0,l.jsx)(a.G7,{style:{marginTop:20},children:(0,l.jsx)(a.G7,{style:i.W.containerFields,children:null===(s=h.header)||void 0===s?void 0:s.map((e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.G7,{style:[i.W.fields,{width:"33%"}],children:[(0,l.jsx)(a.xv,{style:i.W.fieldTitle,children:null!==(c=e.name)&&void 0!==c?c:""}),(0,l.jsx)(a.xv,{style:i.W.fieldValue,children:null!==(u=e.value)&&void 0!==u?u:""})]}),(t+1)%3==0&&(0,l.jsx)(a.G7,{style:i.W.separator})]}))})}),null===(d=h.blocks)||void 0===d?void 0:d.map((e,t)=>(0,l.jsx)(a.G7,{style:[e,{marginTop:30}],children:(0,l.jsxs)(a.G7,{style:i.W.table,children:[(0,l.jsxs)(a.G7,{style:i.W.tableTitle,children:[(0,l.jsx)(a.xv,{style:[i.W.tableTitlecolumn,{width:"60%"}],children:e.nome}),(0,l.jsx)(a.xv,{style:[i.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Resposta"}),(0,l.jsx)(a.xv,{style:[i.W.tableTitlecolumn,{width:"20%",borderLeft:"1px solid #ddd"}],children:"Observa\xe7\xe3o"})]}),e.itens.map((e,t)=>(0,l.jsxs)(a.G7,{style:i.W.tableContainer,children:[(0,l.jsx)(a.G7,{style:[i.W.tableContent,{width:"60%"}],children:(0,l.jsx)(a.xv,{style:i.W.tableContentcolumn,children:e.nome})}),(0,l.jsx)(a.G7,{style:[i.W.tableContent,{width:"20%"}],children:(0,l.jsx)(a.xv,{style:i.W.tableContentcolumn,children:null!==(x=e.resposta)&&void 0!==x?x:""})}),(0,l.jsx)(a.G7,{style:[i.W.tableContent,{width:"20%"}],children:(0,l.jsx)(a.xv,{style:i.W.tableContentcolumn,children:null!==(m=e.obsResposta)&&void 0!==m?m:""})})]}))]})},t))]})};t.default=s}}]);